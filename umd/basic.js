(function (e, t) { typeof exports === "object" && typeof module !== "undefined" ? t(exports, require("lodash"), require("mithril"), require("mithril/stream"), require("jss"), require("@sdxmessaging/ui-widgets"), require("pusher-js"), require("js-sha256")) : typeof define === "function" && define.amd ? define(["exports", "lodash", "mithril", "mithril/stream", "jss", "@sdxmessaging/ui-widgets", "pusher-js", "js-sha256"], t) : (e = typeof globalThis !== "undefined" ? globalThis : e || self, t(e.uiBuilder = {}, e._, e.m, e.m.stream, e.jss, e.uiWidgets, e.Pusher, e.sha256)) })(this, (function (e, t, a, r, i, n, o, u) { "use strict"; function s(e) { return e && typeof e === "object" && "default" in e ? e : { default: e } } var l = s(t); var d = s(a); var c = s(r); var f = s(i); var h = s(o); function m(e) { if (e === null || e === true || e === false) { return NaN } var t = Number(e); if (isNaN(t)) { return t } return t < 0 ? Math.ceil(t) : Math.floor(t) } function p(e, t) { if (t.length < e) { throw new TypeError(e + " argument" + (e > 1 ? "s" : "") + " required, but only " + t.length + " present") } } function g(e) { p(1, arguments); var t = Object.prototype.toString.call(e); if (e instanceof Date || typeof e === "object" && t === "[object Date]") { return new Date(e.getTime()) } else if (typeof e === "number" || t === "[object Number]") { return new Date(e) } else { if ((typeof e === "string" || t === "[object String]") && typeof console !== "undefined") { console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"); console.warn((new Error).stack) } return new Date(NaN) } } function v(e, t) { p(2, arguments); var a = g(e); var r = m(t); if (isNaN(r)) { return new Date(NaN) } if (!r) { return a } a.setDate(a.getDate() + r); return a } function y(e, t) { p(2, arguments); var a = g(e); var r = m(t); if (isNaN(r)) { return new Date(NaN) } if (!r) { return a } var i = a.getDate(); var n = new Date(a.getTime()); n.setMonth(a.getMonth() + r + 1, 0); var o = n.getDate(); if (i >= o) { return n } else { a.setFullYear(n.getFullYear(), n.getMonth(), i); return a } } function w(e, t) { p(2, arguments); if (!t || typeof t !== "object") return new Date(NaN); var a = "years" in t ? m(t.years) : 0; var r = "months" in t ? m(t.months) : 0; var i = "weeks" in t ? m(t.weeks) : 0; var n = "days" in t ? m(t.days) : 0; var o = "hours" in t ? m(t.hours) : 0; var u = "minutes" in t ? m(t.minutes) : 0; var s = "seconds" in t ? m(t.seconds) : 0; var l = g(e); var d = r || a ? y(l, r + a * 12) : l; var c = n || i ? v(d, n + i * 7) : d; var f = u + o * 60; var h = s + f * 60; var b = h * 1e3; var w = new Date(c.getTime() + b); return w } function I(e, t) { p(2, arguments); var a = g(e).getTime(); var r = m(t); return new Date(a + r) } var x = 6e4; function T(e) { return e.getTime() % x } function C(e) { var t = new Date(e.getTime()); var a = Math.ceil(t.getTimezoneOffset()); t.setSeconds(0, 0); var r = a > 0; var i = r ? (x + T(t)) % x : T(t); return a * x + i } function k(e) { p(1, arguments); var t = g(e); return !isNaN(t) } var D = { lessThanXSeconds: { one: "less than a second", other: "less than {{count}} seconds" }, xSeconds: { one: "1 second", other: "{{count}} seconds" }, halfAMinute: "half a minute", lessThanXMinutes: { one: "less than a minute", other: "less than {{count}} minutes" }, xMinutes: { one: "1 minute", other: "{{count}} minutes" }, aboutXHours: { one: "about 1 hour", other: "about {{count}} hours" }, xHours: { one: "1 hour", other: "{{count}} hours" }, xDays: { one: "1 day", other: "{{count}} days" }, aboutXWeeks: { one: "about 1 week", other: "about {{count}} weeks" }, xWeeks: { one: "1 week", other: "{{count}} weeks" }, aboutXMonths: { one: "about 1 month", other: "about {{count}} months" }, xMonths: { one: "1 month", other: "{{count}} months" }, aboutXYears: { one: "about 1 year", other: "about {{count}} years" }, xYears: { one: "1 year", other: "{{count}} years" }, overXYears: { one: "over 1 year", other: "over {{count}} years" }, almostXYears: { one: "almost 1 year", other: "almost {{count}} years" } }; function B(e, t, a) { a = a || {}; var r; if (typeof D[e] === "string") { r = D[e] } else if (t === 1) { r = D[e].one } else { r = D[e].other.replace("{{count}}", t) } if (a.addSuffix) { if (a.comparison > 0) { return "in " + r } else { return r + " ago" } } return r } function L(e) { return function (t) { var a = t || {}; var r = a.width ? String(a.width) : e.defaultWidth; var i = e.formats[r] || e.formats[e.defaultWidth]; return i } } var S = { full: "EEEE, MMMM do, y", long: "MMMM do, y", medium: "MMM d, y", short: "MM/dd/yyyy" }; var W = { full: "h:mm:ss a zzzz", long: "h:mm:ss a z", medium: "h:mm:ss a", short: "h:mm a" }; var P = { full: "{{date}} 'at' {{time}}", long: "{{date}} 'at' {{time}}", medium: "{{date}}, {{time}}", short: "{{date}}, {{time}}" }; var H = { date: L({ formats: S, defaultWidth: "full" }), time: L({ formats: W, defaultWidth: "full" }), dateTime: L({ formats: P, defaultWidth: "full" }) }; var F = { lastWeek: "'last' eeee 'at' p", yesterday: "'yesterday at' p", today: "'today at' p", tomorrow: "'tomorrow at' p", nextWeek: "eeee 'at' p", other: "P" }; function M(e, t, a, r) { return F[e] } function N(e) { return function (t, a) { var r = a || {}; var i = r.context ? String(r.context) : "standalone"; var n; if (i === "formatting" && e.formattingValues) { var o = e.defaultFormattingWidth || e.defaultWidth; var u = r.width ? String(r.width) : o; n = e.formattingValues[u] || e.formattingValues[o] } else { var s = e.defaultWidth; var l = r.width ? String(r.width) : e.defaultWidth; n = e.values[l] || e.values[s] } var d = e.argumentCallback ? e.argumentCallback(t) : t; return n[d] } } var R = { narrow: ["B", "A"], abbreviated: ["BC", "AD"], wide: ["Before Christ", "Anno Domini"] }; var E = { narrow: ["1", "2", "3", "4"], abbreviated: ["Q1", "Q2", "Q3", "Q4"], wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"] }; var A = { narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"], abbreviated: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], wide: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"] }; var z = { narrow: ["S", "M", "T", "W", "T", "F", "S"], short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], wide: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"] }; var U = { narrow: { am: "a", pm: "p", midnight: "mi", noon: "n", morning: "morning", afternoon: "afternoon", evening: "evening", night: "night" }, abbreviated: { am: "AM", pm: "PM", midnight: "midnight", noon: "noon", morning: "morning", afternoon: "afternoon", evening: "evening", night: "night" }, wide: { am: "a.m.", pm: "p.m.", midnight: "midnight", noon: "noon", morning: "morning", afternoon: "afternoon", evening: "evening", night: "night" } }; var O = { narrow: { am: "a", pm: "p", midnight: "mi", noon: "n", morning: "in the morning", afternoon: "in the afternoon", evening: "in the evening", night: "at night" }, abbreviated: { am: "AM", pm: "PM", midnight: "midnight", noon: "noon", morning: "in the morning", afternoon: "in the afternoon", evening: "in the evening", night: "at night" }, wide: { am: "a.m.", pm: "p.m.", midnight: "midnight", noon: "noon", morning: "in the morning", afternoon: "in the afternoon", evening: "in the evening", night: "at night" } }; function j(e, t) { var a = Number(e); var r = a % 100; if (r > 20 || r < 10) { switch (r % 10) { case 1: return a + "st"; case 2: return a + "nd"; case 3: return a + "rd" } } return a + "th" } var q = { ordinalNumber: j, era: N({ values: R, defaultWidth: "wide" }), quarter: N({ values: E, defaultWidth: "wide", argumentCallback: function (e) { return Number(e) - 1 } }), month: N({ values: A, defaultWidth: "wide" }), day: N({ values: z, defaultWidth: "wide" }), dayPeriod: N({ values: U, defaultWidth: "wide", formattingValues: O, defaultFormattingWidth: "wide" }) }; function Y(e) { return function (t, a) { var r = String(t); var i = a || {}; var n = r.match(e.matchPattern); if (!n) { return null } var o = n[0]; var u = r.match(e.parsePattern); if (!u) { return null } var s = e.valueCallback ? e.valueCallback(u[0]) : u[0]; s = i.valueCallback ? i.valueCallback(s) : s; return { value: s, rest: r.slice(o.length) } } } function G(e) { return function (t, a) { var r = String(t); var i = a || {}; var n = i.width; var o = n && e.matchPatterns[n] || e.matchPatterns[e.defaultMatchWidth]; var u = r.match(o); if (!u) { return null } var s = u[0]; var l = n && e.parsePatterns[n] || e.parsePatterns[e.defaultParseWidth]; var d; if (Object.prototype.toString.call(l) === "[object Array]") { d = V(l, (function (e) { return e.test(s) })) } else { d = Q(l, (function (e) { return e.test(s) })) } d = e.valueCallback ? e.valueCallback(d) : d; d = i.valueCallback ? i.valueCallback(d) : d; return { value: d, rest: r.slice(s.length) } } } function Q(e, t) { for (var a in e) { if (e.hasOwnProperty(a) && t(e[a])) { return a } } } function V(e, t) { for (var a = 0; a < e.length; a++) { if (t(e[a])) { return a } } } var _ = /^(\d+)(th|st|nd|rd)?/i; var X = /\d+/i; var J = { narrow: /^(b|a)/i, abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i, wide: /^(before christ|before common era|anno domini|common era)/i }; var Z = { any: [/^b/i, /^(a|c)/i] }; var $ = { narrow: /^[1234]/i, abbreviated: /^q[1234]/i, wide: /^[1234](th|st|nd|rd)? quarter/i }; var K = { any: [/1/i, /2/i, /3/i, /4/i] }; var ee = { narrow: /^[jfmasond]/i, abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i, wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i }; var te = { narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i], any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i] }; var ae = { narrow: /^[smtwf]/i, short: /^(su|mo|tu|we|th|fr|sa)/i, abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i, wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i }; var re = { narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i], any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i] }; var ie = { narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i, any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i }; var ne = { any: { am: /^a/i, pm: /^p/i, midnight: /^mi/i, noon: /^no/i, morning: /morning/i, afternoon: /afternoon/i, evening: /evening/i, night: /night/i } }; var oe = { ordinalNumber: Y({ matchPattern: _, parsePattern: X, valueCallback: function (e) { return parseInt(e, 10) } }), era: G({ matchPatterns: J, defaultMatchWidth: "wide", parsePatterns: Z, defaultParseWidth: "any" }), quarter: G({ matchPatterns: $, defaultMatchWidth: "wide", parsePatterns: K, defaultParseWidth: "any", valueCallback: function (e) { return e + 1 } }), month: G({ matchPatterns: ee, defaultMatchWidth: "wide", parsePatterns: te, defaultParseWidth: "any" }), day: G({ matchPatterns: ae, defaultMatchWidth: "wide", parsePatterns: re, defaultParseWidth: "any" }), dayPeriod: G({ matchPatterns: ie, defaultMatchWidth: "any", parsePatterns: ne, defaultParseWidth: "any" }) }; var ue = { code: "en-US", formatDistance: B, formatLong: H, formatRelative: M, localize: q, match: oe, options: { weekStartsOn: 0, firstWeekContainsDate: 1 } }; function se(e, t) { p(2, arguments); var a = m(t); return I(e, -a) } function le(e, t) { var a = e < 0 ? "-" : ""; var r = Math.abs(e).toString(); while (r.length < t) { r = "0" + r } return a + r } var de = { y: function (e, t) { var a = e.getUTCFullYear(); var r = a > 0 ? a : 1 - a; return le(t === "yy" ? r % 100 : r, t.length) }, M: function (e, t) { var a = e.getUTCMonth(); return t === "M" ? String(a + 1) : le(a + 1, 2) }, d: function (e, t) { return le(e.getUTCDate(), t.length) }, a: function (e, t) { var a = e.getUTCHours() / 12 >= 1 ? "pm" : "am"; switch (t) { case "a": case "aa": case "aaa": return a.toUpperCase(); case "aaaaa": return a[0]; case "aaaa": default: return a === "am" ? "a.m." : "p.m." } }, h: function (e, t) { return le(e.getUTCHours() % 12 || 12, t.length) }, H: function (e, t) { return le(e.getUTCHours(), t.length) }, m: function (e, t) { return le(e.getUTCMinutes(), t.length) }, s: function (e, t) { return le(e.getUTCSeconds(), t.length) }, S: function (e, t) { var a = t.length; var r = e.getUTCMilliseconds(); var i = Math.floor(r * Math.pow(10, a - 3)); return le(i, t.length) } }; var ce = 864e5; function fe(e) { p(1, arguments); var t = g(e); var a = t.getTime(); t.setUTCMonth(0, 1); t.setUTCHours(0, 0, 0, 0); var r = t.getTime(); var i = a - r; return Math.floor(i / ce) + 1 } function he(e) { p(1, arguments); var t = 1; var a = g(e); var r = a.getUTCDay(); var i = (r < t ? 7 : 0) + r - t; a.setUTCDate(a.getUTCDate() - i); a.setUTCHours(0, 0, 0, 0); return a } function me(e) { p(1, arguments); var t = g(e); var a = t.getUTCFullYear(); var r = new Date(0); r.setUTCFullYear(a + 1, 0, 4); r.setUTCHours(0, 0, 0, 0); var i = he(r); var n = new Date(0); n.setUTCFullYear(a, 0, 4); n.setUTCHours(0, 0, 0, 0); var o = he(n); if (t.getTime() >= i.getTime()) { return a + 1 } else if (t.getTime() >= o.getTime()) { return a } else { return a - 1 } } function pe(e) { p(1, arguments); var t = me(e); var a = new Date(0); a.setUTCFullYear(t, 0, 4); a.setUTCHours(0, 0, 0, 0); var r = he(a); return r } var ge = 6048e5; function ve(e) { p(1, arguments); var t = g(e); var a = he(t).getTime() - pe(t).getTime(); return Math.round(a / ge) + 1 } function be(e, t) { p(1, arguments); var a = t || {}; var r = a.locale; var i = r && r.options && r.options.weekStartsOn; var n = i == null ? 0 : m(i); var o = a.weekStartsOn == null ? n : m(a.weekStartsOn); if (!(o >= 0 && o <= 6)) { throw new RangeError("weekStartsOn must be between 0 and 6 inclusively") } var u = g(e); var s = u.getUTCDay(); var l = (s < o ? 7 : 0) + s - o; u.setUTCDate(u.getUTCDate() - l); u.setUTCHours(0, 0, 0, 0); return u } function ye(e, t) { p(1, arguments); var a = g(e, t); var r = a.getUTCFullYear(); var i = t || {}; var n = i.locale; var o = n && n.options && n.options.firstWeekContainsDate; var u = o == null ? 1 : m(o); var s = i.firstWeekContainsDate == null ? u : m(i.firstWeekContainsDate); if (!(s >= 1 && s <= 7)) { throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively") } var l = new Date(0); l.setUTCFullYear(r + 1, 0, s); l.setUTCHours(0, 0, 0, 0); var d = be(l, t); var c = new Date(0); c.setUTCFullYear(r, 0, s); c.setUTCHours(0, 0, 0, 0); var f = be(c, t); if (a.getTime() >= d.getTime()) { return r + 1 } else if (a.getTime() >= f.getTime()) { return r } else { return r - 1 } } function we(e, t) { p(1, arguments); var a = t || {}; var r = a.locale; var i = r && r.options && r.options.firstWeekContainsDate; var n = i == null ? 1 : m(i); var o = a.firstWeekContainsDate == null ? n : m(a.firstWeekContainsDate); var u = ye(e, t); var s = new Date(0); s.setUTCFullYear(u, 0, o); s.setUTCHours(0, 0, 0, 0); var l = be(s, t); return l } var Ie = 6048e5; function xe(e, t) { p(1, arguments); var a = g(e); var r = be(a, t).getTime() - we(a, t).getTime(); return Math.round(r / Ie) + 1 } var Te = { am: "am", pm: "pm", midnight: "midnight", noon: "noon", morning: "morning", afternoon: "afternoon", evening: "evening", night: "night" }; var Ce = { G: function (e, t, a) { var r = e.getUTCFullYear() > 0 ? 1 : 0; switch (t) { case "G": case "GG": case "GGG": return a.era(r, { width: "abbreviated" }); case "GGGGG": return a.era(r, { width: "narrow" }); case "GGGG": default: return a.era(r, { width: "wide" }) } }, y: function (e, t, a) { if (t === "yo") { var r = e.getUTCFullYear(); var i = r > 0 ? r : 1 - r; return a.ordinalNumber(i, { unit: "year" }) } return de.y(e, t) }, Y: function (e, t, a, r) { var i = ye(e, r); var n = i > 0 ? i : 1 - i; if (t === "YY") { var o = n % 100; return le(o, 2) } if (t === "Yo") { return a.ordinalNumber(n, { unit: "year" }) } return le(n, t.length) }, R: function (e, t) { var a = me(e); return le(a, t.length) }, u: function (e, t) { var a = e.getUTCFullYear(); return le(a, t.length) }, Q: function (e, t, a) { var r = Math.ceil((e.getUTCMonth() + 1) / 3); switch (t) { case "Q": return String(r); case "QQ": return le(r, 2); case "Qo": return a.ordinalNumber(r, { unit: "quarter" }); case "QQQ": return a.quarter(r, { width: "abbreviated", context: "formatting" }); case "QQQQQ": return a.quarter(r, { width: "narrow", context: "formatting" }); case "QQQQ": default: return a.quarter(r, { width: "wide", context: "formatting" }) } }, q: function (e, t, a) { var r = Math.ceil((e.getUTCMonth() + 1) / 3); switch (t) { case "q": return String(r); case "qq": return le(r, 2); case "qo": return a.ordinalNumber(r, { unit: "quarter" }); case "qqq": return a.quarter(r, { width: "abbreviated", context: "standalone" }); case "qqqqq": return a.quarter(r, { width: "narrow", context: "standalone" }); case "qqqq": default: return a.quarter(r, { width: "wide", context: "standalone" }) } }, M: function (e, t, a) { var r = e.getUTCMonth(); switch (t) { case "M": case "MM": return de.M(e, t); case "Mo": return a.ordinalNumber(r + 1, { unit: "month" }); case "MMM": return a.month(r, { width: "abbreviated", context: "formatting" }); case "MMMMM": return a.month(r, { width: "narrow", context: "formatting" }); case "MMMM": default: return a.month(r, { width: "wide", context: "formatting" }) } }, L: function (e, t, a) { var r = e.getUTCMonth(); switch (t) { case "L": return String(r + 1); case "LL": return le(r + 1, 2); case "Lo": return a.ordinalNumber(r + 1, { unit: "month" }); case "LLL": return a.month(r, { width: "abbreviated", context: "standalone" }); case "LLLLL": return a.month(r, { width: "narrow", context: "standalone" }); case "LLLL": default: return a.month(r, { width: "wide", context: "standalone" }) } }, w: function (e, t, a, r) { var i = xe(e, r); if (t === "wo") { return a.ordinalNumber(i, { unit: "week" }) } return le(i, t.length) }, I: function (e, t, a) { var r = ve(e); if (t === "Io") { return a.ordinalNumber(r, { unit: "week" }) } return le(r, t.length) }, d: function (e, t, a) { if (t === "do") { return a.ordinalNumber(e.getUTCDate(), { unit: "date" }) } return de.d(e, t) }, D: function (e, t, a) { var r = fe(e); if (t === "Do") { return a.ordinalNumber(r, { unit: "dayOfYear" }) } return le(r, t.length) }, E: function (e, t, a) { var r = e.getUTCDay(); switch (t) { case "E": case "EE": case "EEE": return a.day(r, { width: "abbreviated", context: "formatting" }); case "EEEEE": return a.day(r, { width: "narrow", context: "formatting" }); case "EEEEEE": return a.day(r, { width: "short", context: "formatting" }); case "EEEE": default: return a.day(r, { width: "wide", context: "formatting" }) } }, e: function (e, t, a, r) { var i = e.getUTCDay(); var n = (i - r.weekStartsOn + 8) % 7 || 7; switch (t) { case "e": return String(n); case "ee": return le(n, 2); case "eo": return a.ordinalNumber(n, { unit: "day" }); case "eee": return a.day(i, { width: "abbreviated", context: "formatting" }); case "eeeee": return a.day(i, { width: "narrow", context: "formatting" }); case "eeeeee": return a.day(i, { width: "short", context: "formatting" }); case "eeee": default: return a.day(i, { width: "wide", context: "formatting" }) } }, c: function (e, t, a, r) { var i = e.getUTCDay(); var n = (i - r.weekStartsOn + 8) % 7 || 7; switch (t) { case "c": return String(n); case "cc": return le(n, t.length); case "co": return a.ordinalNumber(n, { unit: "day" }); case "ccc": return a.day(i, { width: "abbreviated", context: "standalone" }); case "ccccc": return a.day(i, { width: "narrow", context: "standalone" }); case "cccccc": return a.day(i, { width: "short", context: "standalone" }); case "cccc": default: return a.day(i, { width: "wide", context: "standalone" }) } }, i: function (e, t, a) { var r = e.getUTCDay(); var i = r === 0 ? 7 : r; switch (t) { case "i": return String(i); case "ii": return le(i, t.length); case "io": return a.ordinalNumber(i, { unit: "day" }); case "iii": return a.day(r, { width: "abbreviated", context: "formatting" }); case "iiiii": return a.day(r, { width: "narrow", context: "formatting" }); case "iiiiii": return a.day(r, { width: "short", context: "formatting" }); case "iiii": default: return a.day(r, { width: "wide", context: "formatting" }) } }, a: function (e, t, a) { var r = e.getUTCHours(); var i = r / 12 >= 1 ? "pm" : "am"; switch (t) { case "a": case "aa": case "aaa": return a.dayPeriod(i, { width: "abbreviated", context: "formatting" }); case "aaaaa": return a.dayPeriod(i, { width: "narrow", context: "formatting" }); case "aaaa": default: return a.dayPeriod(i, { width: "wide", context: "formatting" }) } }, b: function (e, t, a) { var r = e.getUTCHours(); var i; if (r === 12) { i = Te.noon } else if (r === 0) { i = Te.midnight } else { i = r / 12 >= 1 ? "pm" : "am" } switch (t) { case "b": case "bb": case "bbb": return a.dayPeriod(i, { width: "abbreviated", context: "formatting" }); case "bbbbb": return a.dayPeriod(i, { width: "narrow", context: "formatting" }); case "bbbb": default: return a.dayPeriod(i, { width: "wide", context: "formatting" }) } }, B: function (e, t, a) { var r = e.getUTCHours(); var i; if (r >= 17) { i = Te.evening } else if (r >= 12) { i = Te.afternoon } else if (r >= 4) { i = Te.morning } else { i = Te.night } switch (t) { case "B": case "BB": case "BBB": return a.dayPeriod(i, { width: "abbreviated", context: "formatting" }); case "BBBBB": return a.dayPeriod(i, { width: "narrow", context: "formatting" }); case "BBBB": default: return a.dayPeriod(i, { width: "wide", context: "formatting" }) } }, h: function (e, t, a) { if (t === "ho") { var r = e.getUTCHours() % 12; if (r === 0) r = 12; return a.ordinalNumber(r, { unit: "hour" }) } return de.h(e, t) }, H: function (e, t, a) { if (t === "Ho") { return a.ordinalNumber(e.getUTCHours(), { unit: "hour" }) } return de.H(e, t) }, K: function (e, t, a) { var r = e.getUTCHours() % 12; if (t === "Ko") { return a.ordinalNumber(r, { unit: "hour" }) } return le(r, t.length) }, k: function (e, t, a) { var r = e.getUTCHours(); if (r === 0) r = 24; if (t === "ko") { return a.ordinalNumber(r, { unit: "hour" }) } return le(r, t.length) }, m: function (e, t, a) { if (t === "mo") { return a.ordinalNumber(e.getUTCMinutes(), { unit: "minute" }) } return de.m(e, t) }, s: function (e, t, a) { if (t === "so") { return a.ordinalNumber(e.getUTCSeconds(), { unit: "second" }) } return de.s(e, t) }, S: function (e, t) { return de.S(e, t) }, X: function (e, t, a, r) { var i = r._originalDate || e; var n = i.getTimezoneOffset(); if (n === 0) { return "Z" } switch (t) { case "X": return De(n); case "XXXX": case "XX": return Be(n); case "XXXXX": case "XXX": default: return Be(n, ":") } }, x: function (e, t, a, r) { var i = r._originalDate || e; var n = i.getTimezoneOffset(); switch (t) { case "x": return De(n); case "xxxx": case "xx": return Be(n); case "xxxxx": case "xxx": default: return Be(n, ":") } }, O: function (e, t, a, r) { var i = r._originalDate || e; var n = i.getTimezoneOffset(); switch (t) { case "O": case "OO": case "OOO": return "GMT" + ke(n, ":"); case "OOOO": default: return "GMT" + Be(n, ":") } }, z: function (e, t, a, r) { var i = r._originalDate || e; var n = i.getTimezoneOffset(); switch (t) { case "z": case "zz": case "zzz": return "GMT" + ke(n, ":"); case "zzzz": default: return "GMT" + Be(n, ":") } }, t: function (e, t, a, r) { var i = r._originalDate || e; var n = Math.floor(i.getTime() / 1e3); return le(n, t.length) }, T: function (e, t, a, r) { var i = r._originalDate || e; var n = i.getTime(); return le(n, t.length) } }; function ke(e, t) { var a = e > 0 ? "-" : "+"; var r = Math.abs(e); var i = Math.floor(r / 60); var n = r % 60; if (n === 0) { return a + String(i) } var o = t || ""; return a + String(i) + o + le(n, 2) } function De(e, t) { if (e % 60 === 0) { var a = e > 0 ? "-" : "+"; return a + le(Math.abs(e) / 60, 2) } return Be(e, t) } function Be(e, t) { var a = t || ""; var r = e > 0 ? "-" : "+"; var i = Math.abs(e); var n = le(Math.floor(i / 60), 2); var o = le(i % 60, 2); return r + n + a + o } function Le(e, t) { switch (e) { case "P": return t.date({ width: "short" }); case "PP": return t.date({ width: "medium" }); case "PPP": return t.date({ width: "long" }); case "PPPP": default: return t.date({ width: "full" }) } } function Se(e, t) { switch (e) { case "p": return t.time({ width: "short" }); case "pp": return t.time({ width: "medium" }); case "ppp": return t.time({ width: "long" }); case "pppp": default: return t.time({ width: "full" }) } } function We(e, t) { var a = e.match(/(P+)(p+)?/); var r = a[1]; var i = a[2]; if (!i) { return Le(e, t) } var n; switch (r) { case "P": n = t.dateTime({ width: "short" }); break; case "PP": n = t.dateTime({ width: "medium" }); break; case "PPP": n = t.dateTime({ width: "long" }); break; case "PPPP": default: n = t.dateTime({ width: "full" }); break }return n.replace("{{date}}", Le(r, t)).replace("{{time}}", Se(i, t)) } var Pe = { p: Se, P: We }; var He = ["D", "DD"]; var Fe = ["YY", "YYYY"]; function Me(e) { return He.indexOf(e) !== -1 } function Ne(e) { return Fe.indexOf(e) !== -1 } function Re(e, t, a) { if (e === "YYYY") { throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t, "`) for formatting years to the input `").concat(a, "`; see: https://git.io/fxCyr")) } else if (e === "YY") { throw new RangeError("Use `yy` instead of `YY` (in `".concat(t, "`) for formatting years to the input `").concat(a, "`; see: https://git.io/fxCyr")) } else if (e === "D") { throw new RangeError("Use `d` instead of `D` (in `".concat(t, "`) for formatting days of the month to the input `").concat(a, "`; see: https://git.io/fxCyr")) } else if (e === "DD") { throw new RangeError("Use `dd` instead of `DD` (in `".concat(t, "`) for formatting days of the month to the input `").concat(a, "`; see: https://git.io/fxCyr")) } } var Ee = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g; var Ae = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g; var ze = /^'([^]*?)'?$/; var Ue = /''/g; var Oe = /[a-zA-Z]/; function je(e, t, a) { p(2, arguments); var r = String(t); var i = a || {}; var n = i.locale || ue; var o = n.options && n.options.firstWeekContainsDate; var u = o == null ? 1 : m(o); var s = i.firstWeekContainsDate == null ? u : m(i.firstWeekContainsDate); if (!(s >= 1 && s <= 7)) { throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively") } var l = n.options && n.options.weekStartsOn; var d = l == null ? 0 : m(l); var c = i.weekStartsOn == null ? d : m(i.weekStartsOn); if (!(c >= 0 && c <= 6)) { throw new RangeError("weekStartsOn must be between 0 and 6 inclusively") } if (!n.localize) { throw new RangeError("locale must contain localize property") } if (!n.formatLong) { throw new RangeError("locale must contain formatLong property") } var f = g(e); if (!k(f)) { throw new RangeError("Invalid time value") } var h = C(f); var v = se(f, h); var b = { firstWeekContainsDate: s, weekStartsOn: c, locale: n, _originalDate: f }; var y = r.match(Ae).map((function (e) { var t = e[0]; if (t === "p" || t === "P") { var a = Pe[t]; return a(e, n.formatLong, b) } return e })).join("").match(Ee).map((function (a) { if (a === "''") { return "'" } var r = a[0]; if (r === "'") { return qe(a) } var o = Ce[r]; if (o) { if (!i.useAdditionalWeekYearTokens && Ne(a)) { Re(a, t, e) } if (!i.useAdditionalDayOfYearTokens && Me(a)) { Re(a, t, e) } return o(v, a, n.localize, b) } if (r.match(Oe)) { throw new RangeError("Format string contains an unescaped latin alphabet character `" + r + "`") } return a })).join(""); return y } function qe(e) { return e.match(ze)[1].replace(Ue, "'") } var Ye = { full: "EEEE, d MMMM yyyy", long: "d MMMM yyyy", medium: "d MMM yyyy", short: "dd/MM/yyyy" }; var Ge = { full: "HH:mm:ss zzzz", long: "HH:mm:ss z", medium: "HH:mm:ss", short: "HH:mm" }; var Qe = { full: "{{date}} 'at' {{time}}", long: "{{date}} 'at' {{time}}", medium: "{{date}}, {{time}}", short: "{{date}}, {{time}}" }; var Ve = { date: L({ formats: Ye, defaultWidth: "full" }), time: L({ formats: Ge, defaultWidth: "full" }), dateTime: L({ formats: Qe, defaultWidth: "full" }) }; var _e = { code: "en-GB", formatDistance: B, formatLong: Ve, formatRelative: M, localize: q, match: oe, options: { weekStartsOn: 1, firstWeekContainsDate: 4 } }; var Xe = /\$([\w-]+)/g; function Je() { function e(e, t) { return function (a, r) { var i = e.getRule(r) || t && t.getRule(r); if (i) { return i.selector } console.warn('[JSS] Could not find the referenced rule "' + r + '" in "' + (e.options.meta || e.toString()) + '".'); return r } } function t(e, t) { var a = ["after", "before", "first-line", "first-letter", "selection"]; return a.indexOf(e) !== -1 ? t + "::" + e : t + ":" + e } function a(a, r, i) { if (r.type !== "style") return a; var n = r; var o = n.options.parent; var u; l["default"].forEach(a, (function (r, s) { if (typeof r !== "string" && typeof r === "object") { var l = t(s, n.selector); if (!u) u = e(o, i); l = l.replace(Xe, u); o.addRule(l, r, { selector: l }); delete a[s] } })); return a } return { onProcessStyle: a } } function Ze(e, t) { if (t === void 0) { t = "P" } return je(e, t, { locale: _e }) } function $e(e) { return e } var Ke = "@media screen and (min-width:30em)"; var et = "@media screen and (min-width:30em) and (max-width: 60em)"; var tt = "@media screen and (min-width:60em)"; function at(e) { var t = l["default"].assign({ repeat: 2 }, e); var a = Array(t.repeat + 1).join(":not(#\\20)"); return { onProcessRule: function (e, t) { var r = e.options.parent; if (t.options.increaseSpecificity === false || e.type !== "style" || r && r.type === "keyframes" || e.selectorText.includes(":not(#\\20)")) return; e.selectorText = a + e.selectorText } } } f["default"].use(Je(), at()); function rt(e) { return l["default"].reduce(e, (function (e, t, a) { e[l["default"].kebabCase(a)] = t; return e }), {}) } function it(e, t) { var a, r, i; var n = e.style, o = e.styleNS, u = e.styleM, s = e.styleL, l = e.classes, d = e.key, c = d === void 0 ? "unnamed" : d; if (t === void 0) { t = f["default"].createStyleSheet({}) } var h = []; var m; if (n) { m = t.addRule(c, rt(n)); if (m.id) h.push(m.id) } if (o) { m = t.addRule(Ke, (a = {}, a[c] = rt(o), a)); m = m.getRule(c); if (m.id) h.push(m.id) } if (u) { m = t.addRule(et, (r = {}, r[c] = rt(u), r)); m = m.getRule(c); if (m.id) h.push(m.id) } if (s) { m = t.addRule(tt, (i = {}, i[c] = rt(s), i)); m = m.getRule(c); if (m.id) h.push(m.id) } if (h.length) { t.attach() } if (l) { h.push(l) } return h.join(" ") } var nt = function () { function e(e) { var t = this; this._classes = {}; this.uiSheet = f["default"].createStyleSheet({}); l["default"].map(e, (function (e, a) { t._classes[a] = it(l["default"].assign({ key: a }, e), t.uiSheet) })) } Object.defineProperty(e.prototype, "classes", { get: function () { return this._classes }, enumerable: false, configurable: true }); return e }(); function ot(e) { return l["default"].compact(e).join(" ") } var ut = {}; function st(e, t) { if (e in ut) { throw new Error("Component " + e + " is already registered") } else { ut[e] = t } } function lt(e) { var t = e.type, a = e.data, r = e.style, i = e.styleNS, n = e.styleM, o = e.styleL, u = e.classes; var s = it({ style: r, styleNS: i, styleM: n, styleL: o, classes: u }); if (t in ut) { return d["default"](ut[t], { type: t, data: a, classes: s }) } else { return d["default"]("span", "Unknown component type: " + t) } } function dt(e) { return l["default"].map(e, (function (e) { return lt(e) })) } (function (e) { e["error"] = "error"; e["warn"] = "warn"; e["info"] = "info"; e["basic"] = "basic" })(e.ToastContext || (e.ToastContext = {})); (function (e) { e["center"] = "center"; e["top"] = "top"; e["topRight"] = "topRight"; e["topLeft"] = "topLeft"; e["bottom"] = "bottom"; e["bottomRight"] = "bottomRight"; e["bottomLeft"] = "bottomLeft" })(e.DialogPosition || (e.DialogPosition = {})); (function (e) { e["notification"] = "notification"; e["confirm"] = "confirm"; e["login"] = "login"; e["feedback"] = "feedback" })(e.DialogType || (e.DialogType = {})); var ct, ft; var ht = (ct = {}, ct["label"] = n.Label, ct["trusted"] = n.TextareaInput, ct["hidden"] = n.BaseInput, ct["text"] = n.BaseInput, ct["password"] = n.PasswordInput, ct["search"] = n.BaseInput, ct["date"] = n.BaseInput, ct["time"] = n.BaseInput, ct["datetime-local"] = n.BaseInput, ct["dateInput"] = n.DateInput, ct["cardDate"] = n.CardDateInput, ct["number"] = n.BaseInput, ct["range"] = n.BaseInput, ct["email"] = n.BaseInput, ct["url"] = n.BaseInput, ct["tel"] = n.BaseInput, ct["color"] = n.BaseInput, ct["currency"] = n.CurrencyInput, ct["textarea"] = n.TextareaInput, ct["checkbox"] = n.CheckboxInput, ct["toggle"] = n.ToggleInput, ct["select"] = n.SelectInput, ct["radio"] = n.RadioInput, ct); var mt = (ft = {}, ft["fileMulti"] = n.FileMulti, ft["file"] = n.FileSelect, ft["imageMulti"] = n.ImageMulti, ft["image"] = n.ImageSelect, ft["sign"] = n.SignBuilder, ft); var pt = {}; l["default"].forEach(ht, (function (e, t) { return pt[t] = 1 })); l["default"].forEach(mt, (function (e, t) { return pt[t] = 2 })); function gt(e) { if (mt.hasOwnProperty(e)) { return mt[e] } else { return mt["file"] } } function vt(e) { if (ht.hasOwnProperty(e)) { return ht[e] } else { return ht["text"] } } function bt(e, t) { return e === 2 ? gt(t) : e === 1 ? vt(t) : undefined } function yt(e) { if (e === void 0) { e = "text" } return pt[e] || 3 } var wt = /^ {0,}[0-9]{2}\/[0-9]{2}\/[0-9]{4} {0,}$/; var It = /^ {0,}(([gG][iI][rR] {0,}0[aA]{2})|((([a-pr-uwyzA-PR-UWYZ][a-hk-yA-HK-Y]?[0-9][0-9]?)|(([a-pr-uwyzA-PR-UWYZ][0-9][a-hjkstuwA-HJKSTUW])|([a-pr-uwyzA-PR-UWYZ][a-hk-yA-HK-Y][0-9][abehmnprv-yABEHMNPRV-Y]))) {0,}[0-9][abd-hjlnp-uw-zABD-HJLNP-UW-Z]{2})) {0,}$/; var xt = { default: function (e) { return e }, "date-format": function (e) { return e.map((function (e) { return e ? Ze(Number(e)) : "" })) }, "dateStr-format": function (e) { return e.map((function (e) { return e ? Ze(new Date(String(e)).valueOf()) : "" })) }, "date-format-month": function (e) { return e.map((function (e) { return e ? Ze(Number(e), "dd MMMM yyyy") : "" })) }, "date-endofday": function (e) { return e.map((function (e) { return e ? w(new Date(e), { hours: 23, minutes: 59, seconds: 59 }).toISOString() : "" })) }, upper: function (e) { return e.map((function (e) { return String(e).toUpperCase() })) }, lower: function (e) { return e.map((function (e) { return String(e).toLowerCase() })) }, snake: function (e) { return e.map((function (e) { return l["default"].snakeCase(String(e)) })) }, trunc: function (e) { return e.map((function (e) { return l["default"].truncate(String(e), { length: 15 }) })) }, "remove-whitespace": function (e) { return e.map((function (e) { return e ? l["default"].replace(String(e), /\s/g, "") : "" })) }, boolean: function (e) { return e.map((function (e) { return Boolean(e) })) }, strLength: function (e) { return e.map((function (e) { return e ? String(e).length > 0 : false })) }, "strLength-6": function (e) { return e.map((function (e) { return e ? String(e).length === 6 : false })) }, "test-dob": function (e) { return e.map((function (e) { return e ? wt.test(String(e)) : false })) }, "test-postcode": function (e) { return e.map((function (e) { return e ? It.test(String(e)) : false })) } }; function Tt(e, t) { if (xt.hasOwnProperty(e)) { return xt[e](t) } else { return xt["default"](t) } } function Ct(e, t) { if (!xt.hasOwnProperty(e)) { xt[e] = t } } var kt = { default: function (e) { return e.map((function (e) { return l["default"].map(e, (function (e) { var t = e.name; return t })).join() })) }, "file-name": function (e) { return e.map((function (e) { return l["default"].map(e, (function (e) { var t = e.file; return t ? t.name : "" })).join() })) }, "file-type": function (e) { return e.map((function (e) { return l["default"].map(e, (function (e) { var t = e.file; return t ? t.type : "" })).join() })) }, "file-size": function (e) { return e.map((function (e) { return l["default"].map(e, (function (e) { var t = e.file; return t ? t.size : "" })).join() })) }, "file-lastmodified": function (e) { return e.map((function (e) { return l["default"].map(e, (function (e) { var t = e.file; return t ? t.lastModified : "" })).join() })) }, path: function (e) { return e.map((function (e) { return l["default"].map(e, (function (e) { var t = e.path; return t })).join() })) }, dataUrl: function (e) { return e.map((function (e) { return l["default"].map(e, (function (e) { var t = e.dataUrl; return t ? t : "" })).join() })) } }; function Dt(e, t) { if (kt.hasOwnProperty(e)) { return kt[e](t) } else { return kt["default"](t) } } function Bt(e, t) { if (!kt.hasOwnProperty(e)) { kt[e] = t } } var Lt = { default: function (e) { return c["default"].merge(e).map((function (e) { return e.join() })) }, "join-space": function (e) { return c["default"].merge(e).map((function (e) { return e.join(" ") })) }, "join-newline": function (e) { return c["default"].merge(e).map((function (e) { return e.join("\n") })) }, "join-underscore": function (e) { return c["default"].merge(e).map((function (e) { return e.join("_") })) }, sum: function (e) { return c["default"].merge(e).map((function (e) { return l["default"].reduce(e, (function (e, t) { var a = Number.parseInt(String(t)); return l["default"].isNaN(a) ? e : e + a }), 0) })) }, product: function (e) { return c["default"].merge(e).map((function (e) { return l["default"].reduce(e, (function (e, t) { var a = Number.parseInt(String(t)); return l["default"].isNaN(a) ? 0 : e * a }), 1) })) }, and: function (e) { return c["default"].merge(e).map((function (e) { return l["default"].reduce(e, (function (e, t) { return e ? t : 0 }), true) })) }, or: function (e) { return c["default"].merge(e).map((function (e) { return l["default"].reduce(e, (function (e, t) { return e || t ? t : e }), 0) })) } }; function St(e, t) { if (Lt.hasOwnProperty(e)) { return Lt[e](t) } else { return Lt["default"](t) } } function Wt(e, t) { if (!Lt.hasOwnProperty(e)) { Lt[e] = t } } function Pt(e, t) { return l["default"].map(l["default"].compact(l["default"].at(e, t)), (function (e) { var t = e.value; return t })) } function Ht(e, t, a) { return l["default"].max(l["default"].map(t, (function (t) { var r = l["default"].find(a, l["default"].matches({ key: t })); return r && r.computed ? Ht(e + 1, r.computed.keys, a) : e }))) || 0 } function Ft(e) { return l["default"].sortBy(e, (function (t) { return Ht(0, t.computed.keys, e) })) } function Mt(e) { var t = l["default"].groupBy(e, (function (e) { return "computed" in e && e.computed ? "c" : "b" })); var a = t, r = "b", i = a[r], n = "c", o = a[n]; var u = {}; l["default"].reduce(i, (function (e, t) { var a = t.key, r = t.fileValue, i = t.input; var n = i ? yt(i.type) : 3; if (n === 1) { e[a] = { type: n, value: c["default"]() } } else if (n === 2) { var o = c["default"]([]); e[a] = { type: n, value: Dt(r || "default", o), files: o } } return e }), u); var s = Ft(o); l["default"].reduce(s, (function (e, t) { var a = t.key, r = t.computed, i = r.keys, n = r.map, o = n === void 0 ? "default" : n, u = r.merge, s = u === void 0 ? "default" : u; var l; if (i.length > 1) { var d = Pt(e, i); l = St(s, d) } else if (i.length === 1) { l = Pt(e, i)[0] } if (l) { e[a] = { type: 1, value: Tt(o, l) } } return e }), u); return { fields: l["default"](e).filter((function (e) { return "input" in e })).map((function (e) { var t = e.key, a = e.group, r = e.input, i = e.data; var n = u[t]; var o = n.type; return { key: t, group: a, input: r, type: o, data: i, widget: bt(o, r.type || "text"), value: n.value, files: n.type === 2 ? n.files : undefined } })).value(), streamMap: u } } function Nt(e, t) { return t ? l["default"].assign({}, e, t) : e } function Rt(e, t) { var a = e.type, r = e.input, i = e.widget, n = e.value, o = e.files; if (a === 2 && r && i && o) { return d["default"](i, { field: Nt(r, t), value: o }) } else if (a === 1 && r && i && n) { return d["default"](i, { field: Nt(r, t), value: n }) } return null } var Et = c["default"](); Et.map((function (e) { var t = e.uiWidgets; n.updateConfig({ signFont: "Caveat" }); if (t) { n.updateConfig(t) } })); var At = c["default"](); function zt(e) { At(e); a.redraw() } function Ut(t) { zt({ message: String(t.message), context: e.ToastContext.error }) } var Ot; (function (e) { e["list"] = "list"; e["root"] = "root"; e["single"] = "single"; e["new"] = "new"; e["view"] = "view"; e["edit"] = "edit"; e["comp"] = "comp"; e["pdf"] = "pdf"; e["default"] = "default" })(Ot || (Ot = {})); var jt = c["default"]({}); var qt = c["default"](Ot.default); var Yt = c["default"].lift((function (e, t) { var a = t.routes || {}; return l["default"].assign({}, t, a[e]) }), qt, jt); function Gt(e) { var t = e.company, a = t === void 0 ? "" : t, r = e.copyright, i = r === void 0 ? "" : r, n = e.tel, o = n === void 0 ? "" : n, u = e.email, s = u === void 0 ? "" : u, l = e.address, d = l === void 0 ? "" : l, c = e.poweredBy, f = e.header, h = f === void 0 ? [{ type: 0 }, { type: 7 }] : f, m = e.subheader, p = m === void 0 ? [] : m, g = e.footer, v = g === void 0 ? [{ type: 9 }, { type: 0 }, { type: 8 }, { type: 0 }, { type: 10 }, { type: 6 }] : g, b = e.routes, y = b === void 0 ? {} : b; jt({ company: a, copyright: i, tel: o, email: s, address: d, poweredBy: c, header: h, subheader: p, footer: v, routes: y }) } Gt({}); function Qt() { var e = Et().brandingPath; return e ? a.request(e).then((function (e) { if (e.header && !l["default"].isArray(e.header)) { var t = e.header; e.header = [{ type: 15, logo: t.lhs }, { type: 0 }, { type: 15, logo: t.rhs }, { type: 7 }] } Gt(e) })).catch(l["default"].noop) : Promise.resolve() } var Vt = b; var _t = function () { function e() { this._text = { body: "#333333", primary: "#00bb44", default: "#333333", alt: "#fff", subheading: "rgba(0,0,0,.5)", highlight: "unset", basic: "#333333", info: "#fff", warning: "#111111", error: "#fff" }; this._background = { primary: "#fff", default: "#0974c0", basic: "#fff", info: "#0974c0", warning: "#FFD700", error: "#E7040F" } } Object.defineProperty(e.prototype, "background", { get: function () { return this._background }, set: function (e) { this._background = l["default"].merge(this._background, e) }, enumerable: false, configurable: true }); Object.defineProperty(e.prototype, "text", { get: function () { return this._text }, set: function (e) { this._text = l["default"].merge(this._text, e) }, enumerable: false, configurable: true }); return e }(); var Xt = new _t; function Jt(e) { return { uiInputWrapper: { classes: "mb2", focus: { "border-color": e.text.highlight } }, uiInput: { classes: "bn" }, uiInputFieldset: { classes: "mb2" }, uiInputLabel: {} } } function Zt() { return { uiLayout: { style: { background: "transparent", overflowY: "auto", width: "100%" } }, uiPostContentWrapper: { classes: "flex flex-wrap items-center flex-column w-100" }, uiPreContentWrapper: { classes: "flex flex-wrap items-center flex-column w-100" } } } function $t(e) { return { uiCardGroup: { classes: "flex flex-wrap justify-center pa2" }, uiCardWrapper: { style: { color: e.text.alt, background: e.background.default, borderRadius: "0px", boxShadow: "unset" }, classes: "flex flex-column" }, uiCardHeader: { classes: "flex-auto", style: { fontSize: "1.25rem" } }, uiCardSubheading: { classes: "ma2 pv1 ph2 flex items-center", style: { fontSize: "1.25rem" } }, uiCardIcon: { classes: "fal fa-fw fa-4x ma2" }, uiCardImage: { classes: "img ma2" }, uiCardCounter: { classes: "nt1 nr1 top-0 right-0" }, uiCardContextBasic: { style: { color: e.text.body, backgroundColor: e.background.basic } }, uiCardContextInfo: { style: { color: e.text.info, backgroundColor: e.background.info } }, uiCardContextWarn: { style: { color: e.text.warning, backgroundColor: e.background.warning } }, uiCardContextError: { style: { color: e.text.error, backgroundColor: e.background.error } } } } function Kt(e) { return { uiHeaderWrapper: { style: { maxWidth: "100%" } }, uiHeader: { style: { color: e.text.default, background: e.background.basic } }, uiSubheader: { style: { height: "3rem", color: e.text.default, background: e.background.basic } }, uiFooter: { style: { maxWidth: "100%", height: "3rem", color: e.text.default, background: e.background.basic } } } } function ea(e) { return { uiPanel: {}, uiPanelHeader: { style: { color: e.text.alt, background: e.background.default } }, uiPanelSubheader: { style: { color: e.text.alt } }, uiPanelHeaderButton: { style: { color: e.text.alt } } } } function ta() { return { uiLoginWrapper: { classes: "pa2", style: { width: "100%", background: "transparent" } }, uiLogin: { classes: "measure-wide center", style: { padding: "2rem", border: "2px solid #dcdedf", borderRadius: "10px" } }, uiLoginInput: { style: { border: "2px solid #dcdedf", borderRadius: "5px", margin: "10px 0px" } }, uiLoginForm: {}, uiLoginButtonWrapper: { classes: "justify-between" }, uiLoginButton: {}, uiLoginInputWrapper: {}, uiLoginFormInputWrapper: {}, uiLoginLines: {}, uiHelpInputWrapper: {}, uiHelpInputLines: {}, uiLoginInputFieldset: {}, uiLoginInputLabel: {} } } function aa(e) { return { uiTable: { style: {} }, uiTableHeader: { classes: "flex-auto", style: { color: e.text.alt, background: e.background.default, fontWeight: "400" } }, uiTableRow: {}, uiTableItem: {}, uiTableItemRow: {}, uiTableItemIcon: {}, uiTableItemDate: {}, uiTableItemTime: {}, uiTableItemTitle: {}, uiTableItemType: {}, uiTableItemSize: {} } } function ra(e) { return { uiNavButton: {}, uiButton: { classes: "shadow-4", style: { color: e.text.alt, background: e.background.default, hover: { "box-shadow": "0 0 0.125rem 0 silver" } } }, uiAltButton: { style: { color: e.text.default, background: e.background.basic } }, uiButtonInfo: { style: { color: e.text.info, background: e.background.info } }, uiButtonWarn: { style: { color: e.text.warning, background: e.background.warning } }, uiButtonError: { style: { color: e.text.error, background: e.background.error } } } } function ia(e) { return { uiDialogContextBasic: { style: { backgroundColor: e.background.basic, color: e.text.body } }, uiDialogContextInfo: { style: { backgroundColor: e.background.info, color: e.text.info } }, uiDialogContextWarn: { style: { backgroundColor: e.background.warning, color: e.text.warning } }, uiDialogContextError: { style: { backgroundColor: e.background.error, color: e.text.error } }, uiDialogWrapper: { style: { borderRadius: "15px 0px 15px 0px" } }, uiDialogLoginWrapper: { style: { position: "relative", minHeight: "20%", animationIterationCount: "3" } }, uiDialogFeedbackWrapper: {}, uiDialogNotificationWrapper: { style: { borderRadius: "0px 0px 15px", pointerEvents: "auto", boxShadow: "0px 3px 3px -2px rgba(0,0,0,0.2), 0px 3px 4px 0px rgba(0,0,0,0.14), 0px 1px 8px 0px rgba(0,0,0,0.12)" } }, uiDialogTitle: {}, uiDialogText: {}, uiDialogButtonWrapper: { style: { position: "relative", justifySelf: "flex-end" } }, uiDialogFeedbackLabel: {}, uiDialogFeedbackButtonWrapper: { style: { backgroundColor: "#f4f4f4", position: "relative", justifySelf: "flex-end" } }, uiDialogLinkButton: {}, uiDialogCancelButton: { classes: "mr2" }, uiDialogConfirmButton: { classes: "mr2" } } } function na() { return { uiNavbarCopyright: {}, uiNavbarImage: {}, uiNavbarLink: {}, uiNavbarLogout: {}, uiNavbarLogoutIcon: { style: { color: "inherit" } }, uiNavbarLogoutLabel: { style: { color: "inherit" } }, uiNavbarName: {}, uiNavbarNameVersion: {}, uiNavbarPoweredBy: {}, uiNavbarProgress: {}, uiNavbarSalutation: {}, uiNavbarText: {}, uiNavbarVersion: {} } } function oa(e) { return { uiActionCardContent: {}, uiActionCardWrapper: { classes: "pa3" }, uiActionCardInnerWrapper: { style: { display: "flex", alignContent: "space-evenly", width: "100%" }, styleNS: { width: "75%" } }, uiActionCardButton: { style: { width: "10rem", color: e.text.default, background: e.background.basic } }, uiActionCardHeader: { style: { margin: "unset", flex: "unset", minWidth: "unset", minheight: "unset" } }, uiActionCardImage: {}, uiActionCardImageWrapper: { style: { width: "0px", visibility: "hidden" }, styleNS: { width: "25%", visibility: "visible" } }, uiActionCardLines: {} } } function ua(e) { return { uiItemListAccordionIcon: { style: { fontSize: "1.5rem" } }, uiItemListTitle: { style: { fontSize: "1.5rem", fontWeight: "300" } }, uiItemListGroupLabel: {}, uiItemListAccordionTitleWrapper: { style: { marginBottom: "1rem" } }, uiItemListAccordionWrapper: { classes: "flex flex-column items-left", style: { transition: "height 0.5s ease 0.1s", overflow: "hidden", width: "100%", border: "1px solid grey", padding: "0px 1rem" } }, uiItemListContainer: { classes: "flex-auto overflow-x-hidden overflow-y-auto" }, uiItemTableContainer: { classes: "flex-auto overflow-x-hidden overflow-y-auto pa2" }, uiItemTableIcon: {}, uiItemTableInfo: {}, uiItemTableInfoIcon: {}, uiItemTableRow: {}, uiItemTableHeader: {}, uiItemTableHeaderMarker: {}, uiItemTableHeaderDate: {}, uiItemTableHeaderDocumentName: {}, uiItemTableHeaderIcon: {}, uiItemTableHeaderSize: {}, uiItemGridContainer: { classes: "flex-auto overflow-x-hidden overflow-y-auto" }, uiItemRowWrapper: { classes: "flex flex-column flex-row-ns ma2 pv2 bb b--black-20" }, uiItemRowInnerWrapper: { classes: "flex-auto flex flex-row items-center pointer", style: { color: "black" } }, uiItemRowHeaderWrapper: { classes: "flex-auto" }, uiItemRowActions: { classes: "flex flex-wrap items-center justify-end pl2 nl1 nr1" }, uiItemButtonsWrapper: {}, uiItemButtonsInnerWrapper: {}, uiItemActionButton: { classes: "pa1 mr2" }, uiItemIcon: {}, uiItemHeading: {}, uiItemSubheading: { classes: "flex flex-wrap nr1 nb1 nl1 f6 ws-normal", style: { color: e.text.body } }, uiItemEditWrapper: {}, uiItemEditHeader: {}, uiItemEditIcon: {}, uiItemEditLabel: {}, uiItemEditButton: {}, uiItemEditFormWrapper: {}, uiItemViewWrapper: {}, uiItemViewRowWrapper: {}, uiItemViewIcon: {}, uiItemViewField: {}, uiCategoryItemWrapper: {}, uiCategoryItemIcon: {}, uiCategoryItemLabel: {}, uiCategoryItemMarker: {}, uiCategoryItemArrow: {} } } function sa(e) { return { uiPdfFieldOverlay: { style: { backgroundColor: e.background.basic } }, uiPdfTopBar: { style: { backgroundColor: e.background.default } }, uiPdfBackButton: {}, uiPdfZoomInButton: {}, uiPdfZoomOutButton: {}, uiPdfDownloadButton: {}, uiPdfPanel: { style: { background: "#777777" } }, uiPdfBottomBar: { style: { backgroundColor: e.background.basic } }, uiPdfSubheader: {}, uiPdfStartButton: { style: { background: e.background.default, color: e.text.alt } } } } function la(e) { return { uiDataCardGridWrapper: {}, uiDataCardCategoryLabel: { style: { marginLeft: "auto", borderRadius: "1rem", padding: "0.3rem 1rem", background: e.background.info, color: e.text.info, alignSelf: "center", textTransform: "uppercase", fontWeight: "300" } }, uiDataCardHeader: { style: { color: "black", fontWeight: "400", fontSize: "2rem" } }, uiDataCardHeaderWrapper: { classes: "flex flex-row", style: { marginBottom: "1rem", color: "black" } }, uiDataCardSectionItemLabel: { style: { color: "#6e7174", fontWeight: "300", marginRight: "1rem", minWidth: "9rem" } }, uiDataCardSectionItemValue: { style: { color: "#999999", fontWeight: "200", marginBottom: "0.5rem" } }, uiDataCardSectionItemWrapper: { style: { display: "inline", marginBottom: "0.5rem" }, styleNS: { display: "flex", flexDirection: "row" }, styleM: { display: "flex", flexDirection: "row" } }, uiDataCardSectionLabel: { style: { color: "black", fontWeight: "500", marginBottom: "0.5rem", textTransform: "uppercase", fontSize: "0.8rem" } }, uiDataCardSectionWrapper: { style: { marginBottom: "2rem" } }, uiDataCardWrapper: { classes: "flex-shrink-0", style: { background: e.background.basic, boxShadow: "0px 0px 2px 2px #ebf0f5", padding: "2rem", fontSize: "1rem", maxWidth: "60rem", margin: "2rem" } }, uiDataCardButton: {} } } function da() { return { uiBlockLinesWrapper: {} } } function ca(e) { return { uiIcon: { style: { color: e.text.default } } } } function fa() { return { uiSearchBoxWrapper: {}, uiSearchBoxIcon: {}, uiSearchBoxInput: {}, uiSearchBoxClearIcon: {} } } var ha = function () { function e() { this.colors = Xt; this.body = { style: { color: Xt.text.body, fontSize: "1rem", fontWeight: "200", background: Xt.background.basic } }; this.uiIcon = this.addThemeItem(ca, "uiIcon"); this.uiInputWrapper = this.addThemeItem(Jt, "uiInputWrapper"); this.uiInput = this.addThemeItem(Jt, "uiInput"); this.uiInputLabel = this.addThemeItem(Jt, "uiInputLabel"); this.uiInputFieldset = this.addThemeItem(Jt, "uiInputFieldset"); this.uiLayout = this.addThemeItem(Zt, "uiLayout"); this.uiPostContentWrapper = this.addThemeItem(Zt, "uiPostContentWrapper"); this.uiPreContentWrapper = this.addThemeItem(Zt, "uiPreContentWrapper"); this.uiCardGroup = this.addThemeItem($t, "uiCardGroup"); this.uiCardCounter = this.addThemeItem($t, "uiCardCounter"); this.uiCardHeader = this.addThemeItem($t, "uiCardHeader"); this.uiCardIcon = this.addThemeItem($t, "uiCardIcon"); this.uiCardImage = this.addThemeItem($t, "uiCardImage"); this.uiCardSubheading = this.addThemeItem($t, "uiCardSubheading"); this.uiCardWrapper = this.addThemeItem($t, "uiCardWrapper"); this.uiCardContextBasic = this.addThemeItem($t, "uiCardContextBasic"); this.uiCardContextError = this.addThemeItem($t, "uiCardContextError"); this.uiCardContextInfo = this.addThemeItem($t, "uiCardContextInfo"); this.uiCardContextWarn = this.addThemeItem($t, "uiCardContextWarn"); this.uiHeaderWrapper = this.addThemeItem(Kt, "uiHeaderWrapper"); this.uiHeader = this.addThemeItem(Kt, "uiHeader"); this.uiSubheader = this.addThemeItem(Kt, "uiSubheader"); this.uiFooter = this.addThemeItem(Kt, "uiFooter"); this.uiPanel = this.addThemeItem(ea, "uiPanel"); this.uiPanelHeader = this.addThemeItem(ea, "uiPanelHeader"); this.uiPanelSubheader = this.addThemeItem(ea, "uiPanelSubheader"); this.uiPanelHeaderButton = this.addThemeItem(ea, "uiPanelHeaderButton"); this.uiHelpInputLines = this.addThemeItem(ta, "uiHelpInputLines"); this.uiHelpInputWrapper = this.addThemeItem(ta, "uiHelpInputWrapper"); this.uiLogin = this.addThemeItem(ta, "uiLogin"); this.uiLoginButton = this.addThemeItem(ta, "uiLoginButton"); this.uiLoginButtonWrapper = this.addThemeItem(ta, "uiLoginButtonWrapper"); this.uiLoginForm = this.addThemeItem(ta, "uiLoginForm"); this.uiLoginFormInputWrapper = this.addThemeItem(ta, "uiLoginFormInputWrapper"); this.uiLoginInput = this.addThemeItem(ta, "uiLoginInput"); this.uiLoginInputWrapper = this.addThemeItem(ta, "uiLoginInputWrapper"); this.uiLoginLines = this.addThemeItem(ta, "uiLoginLines"); this.uiLoginWrapper = this.addThemeItem(ta, "uiLoginWrapper"); this.uiLoginInputFieldset = this.addThemeItem(ta, "uiLoginInputFieldset"); this.uiLoginInputLabel = this.addThemeItem(ta, "uiLoginInputLabel"); this.uiTable = this.addThemeItem(aa, "uiTable"); this.uiTableHeader = this.addThemeItem(aa, "uiTableHeader"); this.uiTableRow = this.addThemeItem(aa, "uiTableRow"); this.uiTableItem = this.addThemeItem(aa, "uiTableItem"); this.uiTableItemDate = this.addThemeItem(aa, "uiTableItemDate"); this.uiTableItemIcon = this.addThemeItem(aa, "uiTableItemIcon"); this.uiTableItemRow = this.addThemeItem(aa, "uiTableItemRow"); this.uiTableItemSize = this.addThemeItem(aa, "uiTableItemSize"); this.uiTableItemTime = this.addThemeItem(aa, "uiTableItemTime"); this.uiTableItemTitle = this.addThemeItem(aa, "uiTableItemTitle"); this.uiTableItemType = this.addThemeItem(aa, "uiTableItemType"); this.uiButton = this.addThemeItem(ra, "uiButton"); this.uiNavButton = this.addThemeItem(ra, "uiNavButton"); this.uiAltButton = this.addThemeItem(ra, "uiAltButton"); this.uiButtonError = this.addThemeItem(ra, "uiButtonError"); this.uiButtonInfo = this.addThemeItem(ra, "uiButtonInfo"); this.uiButtonWarn = this.addThemeItem(ra, "uiButtonWarn"); this.uiDialogButtonWrapper = this.addThemeItem(ia, "uiDialogButtonWrapper"); this.uiDialogCancelButton = this.addThemeItem(ia, "uiDialogCancelButton"); this.uiDialogConfirmButton = this.addThemeItem(ia, "uiDialogConfirmButton"); this.uiDialogContextBasic = this.addThemeItem(ia, "uiDialogContextBasic"); this.uiDialogContextError = this.addThemeItem(ia, "uiDialogContextError"); this.uiDialogContextInfo = this.addThemeItem(ia, "uiDialogContextInfo"); this.uiDialogContextWarn = this.addThemeItem(ia, "uiDialogContextWarn"); this.uiDialogFeedbackButtonWrapper = this.addThemeItem(ia, "uiDialogFeedbackButtonWrapper"); this.uiDialogFeedbackLabel = this.addThemeItem(ia, "uiDialogFeedbackLabel"); this.uiDialogFeedbackWrapper = this.addThemeItem(ia, "uiDialogFeedbackWrapper"); this.uiDialogLinkButton = this.addThemeItem(ia, "uiDialogLinkButton"); this.uiDialogLoginWrapper = this.addThemeItem(ia, "uiDialogLoginWrapper"); this.uiDialogNotificationWrapper = this.addThemeItem(ia, "uiDialogNotificationWrapper"); this.uiDialogText = this.addThemeItem(ia, "uiDialogText"); this.uiDialogTitle = this.addThemeItem(ia, "uiDialogTitle"); this.uiDialogWrapper = this.addThemeItem(ia, "uiDialogWrapper"); this.uiNavbarCopyright = this.addThemeItem(na, "uiNavbarCopyright"); this.uiNavbarImage = this.addThemeItem(na, "uiNavbarImage"); this.uiNavbarLink = this.addThemeItem(na, "uiNavbarLink"); this.uiNavbarLogout = this.addThemeItem(na, "uiNavbarLogout"); this.uiNavbarLogoutIcon = this.addThemeItem(na, "uiNavbarLogoutIcon"); this.uiNavbarLogoutLabel = this.addThemeItem(na, "uiNavbarLogoutLabel"); this.uiNavbarName = this.addThemeItem(na, "uiNavbarName"); this.uiNavbarNameVersion = this.addThemeItem(na, "uiNavbarNameVersion"); this.uiNavbarPoweredBy = this.addThemeItem(na, "uiNavbarPoweredBy"); this.uiNavbarProgress = this.addThemeItem(na, "uiNavbarProgress"); this.uiNavbarSalutation = this.addThemeItem(na, "uiNavbarSalutation"); this.uiNavbarText = this.addThemeItem(na, "uiNavbarText"); this.uiNavbarVersion = this.addThemeItem(na, "uiNavbarVersion"); this.uiActionCardButton = this.addThemeItem(oa, "uiActionCardButton"); this.uiActionCardContent = this.addThemeItem(oa, "uiActionCardContent"); this.uiActionCardHeader = this.addThemeItem(oa, "uiActionCardHeader"); this.uiActionCardImage = this.addThemeItem(oa, "uiActionCardImage"); this.uiActionCardImageWrapper = this.addThemeItem(oa, "uiActionCardImageWrapper"); this.uiActionCardInnerWrapper = this.addThemeItem(oa, "uiActionCardInnerWrapper"); this.uiActionCardLines = this.addThemeItem(oa, "uiActionCardLines"); this.uiActionCardWrapper = this.addThemeItem(oa, "uiActionCardWrapper"); this.uiDataCardCategoryLabel = this.addThemeItem(la, "uiDataCardCategoryLabel"); this.uiDataCardGridWrapper = this.addThemeItem(la, "uiDataCardGridWrapper"); this.uiDataCardHeader = this.addThemeItem(la, "uiDataCardHeader"); this.uiDataCardHeaderWrapper = this.addThemeItem(la, "uiDataCardHeaderWrapper"); this.uiDataCardSectionItemLabel = this.addThemeItem(la, "uiDataCardSectionItemLabel"); this.uiDataCardSectionItemValue = this.addThemeItem(la, "uiDataCardSectionItemValue"); this.uiDataCardSectionItemWrapper = this.addThemeItem(la, "uiDataCardSectionItemWrapper"); this.uiDataCardSectionLabel = this.addThemeItem(la, "uiDataCardSectionLabel"); this.uiDataCardSectionWrapper = this.addThemeItem(la, "uiDataCardSectionWrapper"); this.uiDataCardWrapper = this.addThemeItem(la, "uiDataCardWrapper"); this.uiDataCardButton = this.addThemeItem(la, "uiDataCardButton"); this.uiItemActionButton = this.addThemeItem(ua, "uiItemActionButton"); this.uiItemButtonsInnerWrapper = this.addThemeItem(ua, "uiItemButtonsInnerWrapper"); this.uiItemButtonsWrapper = this.addThemeItem(ua, "uiItemButtonsWrapper"); this.uiItemGridContainer = this.addThemeItem(ua, "uiItemGridContainer"); this.uiItemHeading = this.addThemeItem(ua, "uiItemHeading"); this.uiItemIcon = this.addThemeItem(ua, "uiItemIcon"); this.uiItemListAccordionIcon = this.addThemeItem(ua, "uiItemListAccordionIcon"); this.uiItemListTitle = this.addThemeItem(ua, "uiItemListTitle"); this.uiItemListTitleIcon = this.addThemeItem(ua, "uiItemListTitleIcon"); this.uiItemListGroupLabel = this.addThemeItem(ua, "uiItemListGroupLabel"); this.uiItemListAccordionTitleWrapper = this.addThemeItem(ua, "uiItemListAccordionTitleWrapper"); this.uiItemListAccordionWrapper = this.addThemeItem(ua, "uiActionCardLines"); this.uiItemListContainer = this.addThemeItem(ua, "uiItemListContainer"); this.uiItemRowActions = this.addThemeItem(ua, "uiItemRowActions"); this.uiItemRowHeaderWrapper = this.addThemeItem(ua, "uiItemRowHeaderWrapper"); this.uiItemRowInnerWrapper = this.addThemeItem(ua, "uiItemRowInnerWrapper"); this.uiItemRowWrapper = this.addThemeItem(ua, "uiItemRowWrapper"); this.uiItemSubheading = this.addThemeItem(ua, "uiItemSubheading"); this.uiItemTableContainer = this.addThemeItem(ua, "uiItemTableContainer"); this.uiItemTableInfo = this.addThemeItem(ua, "uiItemTableInfo"); this.uiItemTableHeader = this.addThemeItem(ua, "uiItemTableHeader"); this.uiItemTableHeaderDate = this.addThemeItem(ua, "uiItemTableHeaderDate"); this.uiItemTableHeaderDocumentName = this.addThemeItem(ua, "uiItemTableHeaderDocumentName"); this.uiItemTableHeaderIcon = this.addThemeItem(ua, "uiItemTableHeaderIcon"); this.uiItemTableHeaderMarker = this.addThemeItem(ua, "uiItemTableHeaderMarker"); this.uiItemTableHeaderSize = this.addThemeItem(ua, "uiItemTableHeaderSize"); this.uiItemTableIcon = this.addThemeItem(ua, "uiItemTableIcon"); this.uiItemTableInfoIcon = this.addThemeItem(ua, "uiItemTableInfoIcon"); this.uiItemTableRow = this.addThemeItem(ua, "uiItemTableRow"); this.uiItemEditButton = this.addThemeItem(ua, "uiItemEditButton"); this.uiItemEditFormWrapper = this.addThemeItem(ua, "uiItemEditFormWrapper"); this.uiItemEditHeader = this.addThemeItem(ua, "uiItemEditHeader"); this.uiItemEditIcon = this.addThemeItem(ua, "uiItemEditIcon"); this.uiItemEditLabel = this.addThemeItem(ua, "uiItemEditLabel"); this.uiItemEditWrapper = this.addThemeItem(ua, "uiItemEditWrapper"); this.uiItemViewRowWrapper = this.addThemeItem(ua, "uiItemViewRowWrapper"); this.uiItemViewWrapper = this.addThemeItem(ua, "uiItemViewWrapper"); this.uiItemViewIcon = this.addThemeItem(ua, "uiItemViewIcon"); this.uiItemViewField = this.addThemeItem(ua, "uiItemViewField"); this.uiCategoryItemIcon = this.addThemeItem(ua, "uiCategoryItemIcon"); this.uiCategoryItemLabel = this.addThemeItem(ua, "uiCategoryItemLabel"); this.uiCategoryItemWrapper = this.addThemeItem(ua, "uiCategoryItemWrapper"); this.uiCategoryItemArrow = this.addThemeItem(ua, "uiCategoryItemArrow"); this.uiCategoryItemMarker = this.addThemeItem(ua, "uiCategoryItemMarker"); this.uiPdfPanel = this.addThemeItem(sa, "uiPdfPanel"); this.uiPdfBottomBar = this.addThemeItem(sa, "uiPdfBottomBar"); this.uiPdfStartButton = this.addThemeItem(sa, "uiPdfStartButton"); this.uiPdfFieldOverlay = this.addThemeItem(sa, "uiPdfFieldOverlay"); this.uiPdfTopBar = this.addThemeItem(sa, "uiPdfTopBar"); this.uiPdfBackButton = this.addThemeItem(sa, "uiPdfBackButton"); this.uiPdfDownloadButton = this.addThemeItem(sa, "uiPdfDownloadButton"); this.uiPdfZoomInButton = this.addThemeItem(sa, "uiPdfZoomInButton"); this.uiPdfZoomOutButton = this.addThemeItem(sa, "uiPdfZoomOutButton"); this.uiPdfSubheader = this.addThemeItem(sa, "uiPdfSubheader"); this.uiBlockLinesWrapper = this.addThemeItem(da, "uiBlockLinesWrapper"); this.uiSearchBoxIcon = this.addThemeItem(fa, "uiSearchBoxIcon"); this.uiSearchBoxClearIcon = this.addThemeItem(fa, "uiSearchBoxClearIcon"); this.uiSearchBoxInput = this.addThemeItem(fa, "uiSearchBoxInput"); this.uiSearchBoxWrapper = this.addThemeItem(fa, "uiSearchBoxWrapper") } e.prototype.addThemeItem = function (e, t) { var a = e(this.colors)[t]; return l["default"].assign({ style: {} }, a) }; return e }(); var ma = { layoutBackground: "uiLayout.style.background", layoutLShadow: "uiLayout.styleL.boxShadow", layoutLMaxWidth: "uiLayout.styleL.maxWidth", bodyText: "colors.text.body", bodyFontSize: "body.style.fontSize", bodyFontWeight: "body.style.fontWeight", background: "colors.background.default", highlight: "colors.text.highlight", text: "colors.text.default", icon: "uiIcon.style.color", altText: "colors.text.alt", logoMargin: "uiLogo.style.margin", logoBackground: "uiLogo.style.background", logoBorderRadius: "uiLogo.style.borderRadius", logoStyle: "uiLogo.style", headerHeight: "uiHeader.style.height", headerBackground: "uiHeader.style.background", headerText: "uiHeader.style.color", subheadingText: "colors.text.subheading", headerBorderBottom: "uiHeader.style.borderBottom", headerBorderRadius: "uiHeader.style.borderRadius", headerBoxShadow: "uiHeaderWrapper.style.boxShadow", headerMargin: "uiHeader.style.margin", subheaderHeight: "uiSubheader.style.height", subheaderBackground: "uiSubheader.style.background", subheaderText: "uiSubheader.style.color", subheaderBorderBottom: "uiSubheader.style.borderBottom", subheaderBorderRadius: "uiSubheader.style.borderRadius", subheaderBoxShadow: "uiSubheader.style.boxShadow", subheaderMargin: "uiSubheader.style.margin", cardStyle: "uiCardWrapper.style", cardHeight: "uiCardWrapper.style.height", cardWidth: "uiCardWrapper.style.width", cardHeightNs: "uiCardWrapper.styleNS.height", cardWidthNs: "uiCardWrapper.styleNS.width", cardText: "uiCardWrapper.style.color", cardFlex: "uiCardWrapper.classes", cardBackground: "uiCardWrapper.style.background", cardBorderRadius: "uiCardWrapper.style.borderRadius", cardShadow: "uiCardWrapper.style.boxShadow", cardHeaderFontSize: "uiCardHeader.style.fontSize", cardHeaderStyle: "uiCardHeader.style", cardSubheadingFontSize: "uiCardSubheading.style.fontSize", cardSubheadingStyle: "uiCardSubheading.style", cardIconStyle: "uiCardIcon.style", cardImageStyle: "uiCardImage.style", panelBackground: "uiPanel.style.background", panelBorderRadius: "uiPanel.style.borderRadius", loginStyle: "uiLogin.style", footerHeight: "uiFooter.style.height", footerBackground: "uiFooter.style.background", footerText: "uiFooter.style.color", lineHeight: "uiInput.style.lineHeight", buttonBackground: "uiButton.style.background", buttonText: "uiButton.style.color", buttonPadding: "uiButton.style.padding", buttonBorder: "uiButton.style.padding", buttonBorderRadius: "uiButton.style.borderRadius", altButtonBackground: "uiAltButton.style.background", altButtonText: "uiAltButton.style.color", altButtonPadding: "uiAltButton.style.padding", altButtonBorder: "uiAltButton.style.borderBottom", altButtonBorderRadius: "uiAltButton.style.borderRadius", tableFontSize: "uiTable.style.fontSize", tableFontSizeNs: "uiTable.styleNS.fontSize", tableFontWeight: "uiTable.style.fontWeight", tableHeaderBackground: "uiTableHeader.style.background", tableHeaderText: "uiTableHeader.style.background", tableHeaderFontWeight: "uiTableHeader.style.fontWeight", tableRowText: "uiTableRow.style.color", tableRowFontSize: "uiTableRow.style.fontSize", tableRowFontWeight: "uiTableRow.style.fontWeight", primaryBackground: "colors.background.primary", primaryText: "colors.text.primary", logoutButtonIconColor: "uiNavbarLogout.style.color", logoutButtonLabelColor: "uiNavbarLogoutLabel.style.color", bgInfo: "uiDialogContextInfo.style.background", txtInfo: "uiDialogContextInfo.style.color", bgWarn: "uiDialogContextWarn.style.background", txtWarn: "uiDialogContextWarn.style.color", bgError: "uiDialogContextError.style.background", txtError: "uiDialogContextError.style.color", bgBasic: "uiDialogContextBasic.style.background", txtBasic: "uiDialogContextBasic.style.color", inpBrdClass: "uiInput.style.classes", button: "uiButton.classes", gridFlex: "uiCardGroup.classes", cardHeader: "uiCardHeader.classes", cardSubheading: "uiCardSubheading.classes", cardIcon: "uiCardIcon.classes", cardImage: "uiCardImage.classes", cardCounter: "uiCardCounter.classes", loginForm: "uiLoginForm.classes" }; function pa(e) { return l["default"].reduce(e, (function (e, t, a) { if (a in ma) { l["default"].set(e, ma[a], t) } else { e[a] = t } return e }), {}) } function ga(e) { if (e.background) { Xt.background = e.background } if (e.text) { Xt.text = e.text } } function va(e) { var t = pa(e); if (t.colors) { ga(t.colors) } var a = new ha; return l["default"].merge(a, t) } function ba(e, t) { var a = va(e); var r = {}; return l["default"].reduce(a, (function (e, a, r) { if (r !== "colors") { e[r] = it(l["default"].assign({ key: r }, a), t) } return e }), r) } function ya() { var e = Vt; return { text: l["default"].reduce(Xt.text, (function (t, a, r) { t[r] = e.c(a).class; return t }), {}), background: l["default"].reduce(Xt.background, (function (t, a, r) { t[r] = e.c(a).class; return t }), {}) } } var wa = { button: "", gridFlex: "", cardFlex: "", cardHeader: "", cardSubheading: "", cardIcon: "", cardImage: "", cardCounter: "", loginForm: "" }; function Ia(e) { var t = e.layoutBackground, a = t === void 0 ? "transparent" : t, r = e.layoutLMaxWidth, i = r === void 0 ? "64rem" : r, n = e.layoutLShadow, o = n === void 0 ? "" : n, u = e.bodyText, s = u === void 0 ? "#333333" : u, d = e.bodyFontSize, c = d === void 0 ? "1.25rem" : d, f = e.bodyFontWeight, h = f === void 0 ? "200" : f, m = e.background, p = m === void 0 ? "#0974c0" : m, g = e.highlight, v = g === void 0 ? "unset" : g, b = e.text, y = b === void 0 ? "#0974c0" : b, w = e.icon, I = w === void 0 ? y : w, x = e.altText, T = x === void 0 ? "white" : x, C = e.logoMargin, k = C === void 0 ? "0.5rem" : C, D = e.logoBackground, B = D === void 0 ? "transparent" : D, L = e.logoBorderRadius, S = L === void 0 ? ".25rem" : L, W = e.logoStyle, P = W === void 0 ? { position: "relative" } : W, H = e.headerHeight, F = H === void 0 ? "3rem" : H, M = e.headerBackground, N = M === void 0 ? p : M, R = e.headerBorderBottom, E = R === void 0 ? "none" : R, A = e.headerBorderRadius, z = A === void 0 ? "0px" : A, U = e.headerBoxShadow, O = U === void 0 ? "0px" : U, j = e.headerText, q = j === void 0 ? T : j, Y = e.subheadingText, G = Y === void 0 ? "rgba(0,0,0,.5)" : Y, Q = e.subheaderHeight, V = Q === void 0 ? "3rem" : Q, _ = e.subheaderBackground, X = _ === void 0 ? p : _, J = e.subheaderBorderBottom, Z = J === void 0 ? "none" : J, $ = e.subheaderBorderRadius, K = $ === void 0 ? "0px" : $, ee = e.subheaderBoxShadow, te = ee === void 0 ? "0px" : ee, ae = e.subheaderMargin, re = ae === void 0 ? "0px" : ae, ie = e.subheaderText, ne = ie === void 0 ? T : ie, oe = e.cardStyle, ue = oe === void 0 ? {} : oe, se = e.cardHeight, le = se === void 0 ? "12em" : se, de = e.cardWidth, ce = de === void 0 ? "12em" : de, fe = e.cardHeightNs, he = fe === void 0 ? le : fe, me = e.cardWidthNs, pe = me === void 0 ? ce : me, ge = e.cardText, ve = ge === void 0 ? T : ge, be = e.cardBackground, ye = be === void 0 ? p : be, we = e.cardBorderRadius, Ie = we === void 0 ? "0px" : we, xe = e.cardShadow, Te = xe === void 0 ? "unset" : xe, Ce = e.cardHeaderStyle, ke = Ce === void 0 ? {} : Ce, De = e.cardHeaderFontSize, Be = De === void 0 ? "1.25rem" : De, Le = e.cardSubheadingStyle, Se = Le === void 0 ? {} : Le, We = e.cardSubheadingFontSize, Pe = We === void 0 ? "1.25rem" : We, He = e.cardIconStyle, Fe = He === void 0 ? {} : He, Me = e.cardImageStyle, Ne = Me === void 0 ? {} : Me, Re = e.panelBackground, Ee = Re === void 0 ? "transparent" : Re, Ae = e.panelBorderRadius, ze = Ae === void 0 ? ".25rem" : Ae, Ue = e.loginStyle, Oe = Ue === void 0 ? {} : Ue, je = e.footerHeight, qe = je === void 0 ? "3rem" : je, Ye = e.footerBackground, Ge = Ye === void 0 ? "#F4F4F4" : Ye, Qe = e.footerText, Ve = Qe === void 0 ? "#999" : Qe, _e = e.lineHeight, Xe = _e === void 0 ? "1.9em" : _e, Je = e.buttonBackground, Ze = Je === void 0 ? p : Je, $e = e.buttonText, Ke = $e === void 0 ? T : $e, et = e.buttonPadding, tt = et === void 0 ? ".5rem" : et, at = e.buttonBorder, rt = at === void 0 ? "none" : at, it = e.buttonBorderRadius, nt = it === void 0 ? ".25rem" : it, ot = e.altButtonBackground, ut = ot === void 0 ? Ze : ot, st = e.altButtonText, lt = st === void 0 ? Ke : st, dt = e.altButtonPadding, ct = dt === void 0 ? tt : dt, ft = e.altButtonBorder, ht = ft === void 0 ? rt : ft, mt = e.altButtonBorderRadius, pt = mt === void 0 ? nt : mt, gt = e.tableFontSize, vt = gt === void 0 ? c : gt, bt = e.tableFontSizeNs, yt = bt === void 0 ? c : bt, wt = e.tableFontWeight, It = wt === void 0 ? h : wt, xt = e.tableHeaderBackground, Tt = xt === void 0 ? p : xt, Ct = e.tableHeaderText, kt = Ct === void 0 ? T : Ct, Dt = e.tableHeaderFontWeight, Bt = Dt === void 0 ? "400" : Dt, Lt = e.tableRowText, St = Lt === void 0 ? s : Lt, Wt = e.tableRowFontSize, Pt = Wt === void 0 ? vt : Wt, Ht = e.tableRowFontWeight, Ft = Ht === void 0 ? h : Ht, Mt = e.logoutButtonIconColor, Nt = Mt === void 0 ? "inherit" : Mt, Rt = e.logoutButtonLabelColor, Et = Rt === void 0 ? "inherit" : Rt, At = e.primaryBackground, zt = At === void 0 ? Ze : At, Ut = e.primaryText, Ot = Ut === void 0 ? Ke : Ut, jt = e.bgInfo, qt = jt === void 0 ? "#357EDD" : jt, Yt = e.txtInfo, Gt = Yt === void 0 ? "#FFFFFF" : Yt, Qt = e.bgWarn, _t = Qt === void 0 ? "#FFD700" : Qt, Xt = e.txtWarn, Jt = Xt === void 0 ? "#111111" : Xt, Zt = e.bgError, $t = Zt === void 0 ? "#E7040F" : Zt, Kt = e.txtError, ea = Kt === void 0 ? "#FFFFFF" : Kt, ta = e.bgBasic, aa = ta === void 0 ? "#FFFFFF" : ta, ra = e.txtBasic, ia = ra === void 0 ? s : ra, na = e.button, oa = na === void 0 ? "shadow-4" : na, ua = e.gridFlex, sa = ua === void 0 ? "flex flex-wrap justify-center" : ua, la = e.cardFlex, da = la === void 0 ? "flex flex-column items-center" : la, ca = e.cardHeader, fa = ca === void 0 ? "flex-auto ma2 tc" : ca, ha = e.cardSubheading, ma = ha === void 0 ? "ma2 pv1 ph2" : ha, pa = e.cardIcon, ga = pa === void 0 ? "fal fa-fw fa-4x ma2" : pa, va = e.cardImage, ba = va === void 0 ? "img ma2" : va, ya = e.cardCounter, Ia = ya === void 0 ? "nt1 nr1 top-0 right-0" : ya, xa = e.loginForm, Ta = xa === void 0 ? "measure-wide center" : xa; var Ca = "screen and (min-width:30em)"; var ka = "screen and (min-width:60em)"; var Da = Vt; Vt.helper({ agGrid: Da.$nest(".ag-header", Da({ background: Tt + " !important" })).$nest(".ag-tooltip-hiding", Da({ opacity: "0" })), bgBranding: Da({ background: p }), branding: Da.color(y), icon: Da.color(I), brandingAlt: Da.color(T), bgLayout: Da({ background: a }), layoutL: Da.$media(ka, Da({ "max-width": i, "box-shadow": o })), body: Da({ color: s, "font-size": c, "font-weight": h }), marginLogo: Da.m(k), bgLogo: Da({ background: B }), brdLogo: Da.br(S), styleLogo: Da(l["default"].assign({}, P)), headerHeight: Da.h(F), bgHeader: Da({ background: N }), bbHeader: Da({ "border-bottom": E }), brdHeader: Da.br(z), boxShadowHeader: Da({ "box-shadow": O }), header: Da.c(q), subheading: Da.c(G), subheader: Da.c(ne), subheaderHeight: Da.h(V), subheaderMargin: Da.m(re), bgSubheader: Da({ background: X }), bbSubheader: Da({ "border-bottom": Z }), brdSubheader: Da.br(K), boxShadowSubheader: Da({ "box-shadow": te }), cardStyle: Da(ue), cardSize: Da.h(le).w(ce).$media(Ca, Da.h(he).w(pe)), card: Da.c(ve), bgCard: Da({ background: ye }), brdCard: Da.br(Ie), shadowCard: Da({ "box-shadow": Te }), cardHead: Da(ke).fs(Be), cardSub: Da(Se).fs(Pe), cardIcon: Da(Fe), cardImage: Da(Ne), bgPanel: Da({ background: Ee }), brdPanel: Da.br(ze), loginStyle: Da(Oe), lgBtnIconColor: Da.c(Nt), lgBtnLabelColor: Da.c(Et), footerHeight: Da.h(qe), bgFooter: Da({ background: Ge }), footer: Da.c(Ve), inputHeight: Da.h(Xe), inputFocus: Da({ ":focus": { "border-color": v } }), interactive: Da({ ":hover": { "box-shadow": "0 0 0.125rem 0 " + Ze } }), tFont: Da({ "font-size": vt, "font-weight": It }).$media(Ca, Da({ "font-size": yt })), bgThead: Da({ background: Tt }), thead: Da({ color: kt, "font-weight": Bt }), tRow: Da({ color: St, "font-size": Pt, "font-weight": Ft }), bgButton: Da({ background: Ze }), button: Da.c(Ke), padButton: Da.p(tt), brdButton: Da({ border: rt }).br(nt), bgButtonAlt: Da({ background: ut }), buttonAlt: Da.c(lt), padButtonAlt: Da.p(ct), brdButtonAlt: Da({ border: ht }).br(pt), bgPrimary: Da({ background: zt }), primary: Da.c(Ot), bgInfo: Da({ background: qt }), info: Da.c(Gt), bgWarn: Da({ background: _t }), warn: Da.c(Jt), bgError: Da({ background: $t }), error: Da.c(ea), bgBasic: Da({ background: aa }), basic: Da.c(ia) }); l["default"].assign(wa, { button: oa, gridFlex: sa, cardFlex: da, cardHeader: fa, cardSubheading: ma, cardIcon: ga, cardImage: ba, cardCounter: Ia, loginForm: Ta }) } var xa = c["default"](); var Ta = c["default"](); var Ca = f["default"].createStyleSheet({}); function ka(e) { xa(ba(e, Ca)); Ta(ya()); document.body.classList.add(xa().body) } function Da() { var e = Et().themePath; return e ? a.request(e).then((function (e) { Ia(e); ka(e); La() })).catch(Ba) : Ba() } function Ba() { Ia({}); ka({}); La(); return Promise.resolve() } function La() { n.updateTheme({ icon: "fas", lblCol: Ta().text.default, inpBrd: xa().uiInput, btnBg: ot([xa().uiButton, "ripple"]) }); n.updateButtonContext({ alt: ot([xa().uiAltButton, xa().uiButton]), info: ot([xa().uiButtonInfo, xa().uiButton]), warn: ot([xa().uiButtonInfo, xa().uiButton]), error: ot([xa().uiButtonInfo, xa().uiButton]) }) } var Sa = c["default"](); function Wa() { Sa({ height: window.innerHeight, width: window.innerWidth }) } function Pa() { Wa(); a.redraw() } window.addEventListener("resize", l["default"].debounce(Pa, 250)); Wa(); function Ha(e) { var t = e.url; window.location.href = t } function Fa() { window.location.reload() } function Ma() { return new Promise((function (t) { return At({ title: "Your session has expired", message: "Please login again to continue", context: e.ToastContext.basic, type: e.DialogType.login, login: { onSuccess: t } }) })) } function Na(e) { return new Promise((function (t, r) { a.request(e).then(t).catch((function (a) { if (a.code === 440) { Ma().then((function () { return t(Ra(e)) })) } else { r(a) } })) })) } function Ra(e, t) { if (typeof e === "string") { return Na(l["default"].extend(t, { url: e })) } else { return Na(e) } } function Ea(e, t) { var r = Et().auth; if (r && r.reset) { var i = r.reset, n = i.username, o = i.endpoint; var u = new FormData; u.append("username", n); u.append("password", e); return a.request({ method: "POST", url: o, body: u }).then((function () { return At({ message: "We have sent your new PIN to " + t, duration: 2e3 }) })).catch((function (e) { return Ut(e) })) } else { return Promise.resolve(Ut(new Error("No authentication configuration"))) } } var Aa = { actionCardConfirm: function (t) { return At(l["default"].assign(t, { type: e.DialogType.confirm, confirmButton: { onclick: function () { window.open(t.href, t.target) } } })) }, dialog: function (e) { return At(e) }, openWindow: function (e) { return window.open(e.href, e.target) } }; function za(e) { return Aa[e.type](e.props) } var Ua = function () { function e() { } e.prototype.oninit = function (e) { var t = e.attrs.data.applyTheme; if (t) { this.themeHandler = new nt(t) } }; e.prototype.view = function (e) { var t; var a = e.attrs.data, r = a.src, i = a.header, o = a.lines, u = a.buttonLabel, s = a.buttonIcon, l = a.href, c = a.target, f = c === void 0 ? "_self" : c, h = a.confirm, m = a.buttonContext; var p = (t = this.themeHandler) === null || t === void 0 ? void 0 : t.classes; var g = function () { return window.open(l, f) }; return d["default"](".flex.items-center.justify-center.w-100.overflow-hidden.ma3", { class: ot([p === null || p === void 0 ? void 0 : p.uiActionCardWrapper, xa().uiActionCardWrapper, xa().uiCardWrapper]) }, d["default"](".flex.w-100.h-100.pa2", d["default"](".flex.flex-column.h-100.mr4", { class: ot([p === null || p === void 0 ? void 0 : p.uiActionCardInnerWrapper, xa().uiActionCardInnerWrapper]) }, d["default"]("h4.w-100.flex-auto", { class: ot([p === null || p === void 0 ? void 0 : p.uiActionCardHeader, xa().uiActionCardHeader, xa().uiCardHeader]) }, i), d["default"](".w-100.flex-auto", lt({ type: "sdx-blockLines", data: { lines: o } })), l || u ? d["default"](n.Button, { classes: ot([p === null || p === void 0 ? void 0 : p.uiActionCardButton, xa().uiActionCardButton]), label: u, icon: s, context: m, onclick: function () { return h ? za({ type: "actionCardConfirm", props: { title: h.title, message: h.message, href: l, target: f } }) : g() } }) : null), r ? d["default"](".flex.justify-center.items-center", { class: ot([p === null || p === void 0 ? void 0 : p.uiActionCardImageWrapper, xa().uiActionCardImageWrapper]) }, d["default"]("img", { class: ot([p === null || p === void 0 ? void 0 : p.uiActionCardImage, xa().uiActionCardImage]), src: r })) : null)) }; return e }(); function Oa(e) { if (typeof e === "string") { return d["default"]("p", e) } else if (e.hasOwnProperty("selector")) { var t = e; return d["default"](t.selector, t.content) } else { var a = e; return d["default"]("a.link.mv2.pa2.bn.br2.w-40.tc.dim.pointer", { href: a.href, class: ot([xa().uiButton]) }, a.text) } } var ja = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs.data; return d["default"](".ph4", l["default"].map(t, (function (e) { return Oa(e) }))) }; return e }(); var qa = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs.data, a = t.text, r = t.key, i = r === void 0 ? "sdx-header" : r, n = t.style, o = n === void 0 ? {} : n, u = t.styleNS, s = u === void 0 ? {} : u, l = t.styleM, c = l === void 0 ? {} : l, f = t.styleL, h = f === void 0 ? {} : f, m = t.classes, p = m === void 0 ? "" : m; return d["default"](".f3.f2-l.fw5.mv3.mv4-l", { class: ot([it({ key: i, classes: p, style: o, styleNS: s, styleL: h, styleM: c }), Ta().text.default]) }, a) }; return e }(); var Ya = function () { function e() { } e.prototype.oninit = function (e) { var t = e.attrs.data, a = t.textColor, r = t.bgColor, i = t.applyTheme, n = i === void 0 ? { uiBlockLinesWrapper: { style: { color: a ? Ta().text[a] : Ta().text.body, background: r ? Ta().background[r] : Ta().background.default } } } : i; if (n) { this.themeHandler = new nt(n) } }; e.prototype.view = function (e) { var t; var a = e.attrs.data, r = a.lines, i = r === void 0 ? [] : r, n = a.blockSelector, o = n === void 0 ? "div" : n; var u = (t = this.themeHandler) === null || t === void 0 ? void 0 : t.classes; return d["default"](o, { class: ot([u === null || u === void 0 ? void 0 : u.uiBlockLinesWrapper, xa().uiBlockLinesWrapper]) }, l["default"].map(i, (function (e) { if (typeof e === "string") { return d["default"]("p", d["default"].trust(e)) } else { return d["default"](e.selector, { class: ot([e.classes, e.colorSelector ? Ta().text[e.colorSelector] : "", e.bgColorSelector ? Ta().background[e.bgColorSelector] : ""]) }, d["default"].trust(e.child)) } }))) }; return e }(); var Ga = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs.data, a = t.children, r = t.style, i = t.styleNS, n = t.styleM, o = t.styleL, u = t.classes, s = t.key; var c = it({ key: s, style: r, styleNS: i, styleM: n, styleL: o, classes: u }); return d["default"]("div", { class: c }, l["default"].map(a, (function (e) { return typeof e === "string" ? e : lt(e) }))) }; return e }(); var Qa = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.itemLabel, r = t.value, i = t.overwrite; return d["default"]("div", { class: ot([xa().uiDataCardSectionItemWrapper]) }, d["default"]("span", { class: ot([i === null || i === void 0 ? void 0 : i.uiDataCardSectionItemLabel, xa().uiDataCardSectionItemLabel]) }, a), typeof r === "string" ? d["default"]("div", { class: ot([i === null || i === void 0 ? void 0 : i.uiDataCardSectionItemValue, xa().uiDataCardSectionItemValue]) }, r) : d["default"]("div", l["default"].map(r, (function (e) { return d["default"]("div", { class: ot([i === null || i === void 0 ? void 0 : i.uiDataCardSectionItemValue, xa().uiDataCardSectionItemValue]) }, e) })))) }; return e }(); var Va = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.dataMap, r = t.keys, i = t.label, n = t.overwrite; return d["default"]("div", { class: ot([n === null || n === void 0 ? void 0 : n.uiDataCardSectionWrapper, xa().uiDataCardSectionWrapper]) }, i ? d["default"]("div", { class: ot([n === null || n === void 0 ? void 0 : n.uiDataCardSectionLabel, xa().uiDataCardSectionLabel]) }, i) : null, l["default"].map(r, (function (e) { if (!a[e]) { console.error("Valid dataMap keys are - ", r); console.error("dataCard key " + e + " doesn't exist on your dataMap -- do you have typo?"); return null } var t = a[e], i = t[0], o = t[1]; return d["default"](Qa, { itemLabel: i, value: o, overwrite: n }) }))) }; return e }(); var _a = function () { function e() { this.getDisplayComponents = function (e) { var t = e.displayType, a = e.detailed, r = e.overview, i = e.overwrite, n = e.dataMap; if (t === "detailed") { return a ? l["default"].map(a, (function (e) { var t = e.label, a = e.keys; return d["default"](Va, { dataMap: n, keys: a, label: t, overwrite: i }) })) : l["default"].map(n, (function (e) { var t = e[0], a = e[1]; return d["default"](Qa, { overwrite: i, itemLabel: t, value: a }) })) } else { return r ? d["default"](Va, { dataMap: n, keys: r, label: "", overwrite: i }) : l["default"].map(n, (function (e) { var t = e[0], a = e[1]; return d["default"](Qa, { overwrite: i, itemLabel: t, value: a }) })) } } } e.prototype.oninit = function (e) { var t = e.attrs.data; if (t === null || t === void 0 ? void 0 : t.applyTheme) { this.themeHandler = new nt(t === null || t === void 0 ? void 0 : t.applyTheme) } }; e.prototype.view = function (e) { var t; var a = e.attrs; var r = a.data, i = r.pre, o = r.post, u = r.dataMap, s = r.displayType, c = r.config, f = c === void 0 ? {} : c, h = r.onclick, m = r.header, p = r.categoryLabel, g = r.button; var v = f.detailed, b = f.overview; var y = (t = this.themeHandler) === null || t === void 0 ? void 0 : t.classes; return d["default"](".flex.flex-column", { class: ot([y === null || y === void 0 ? void 0 : y.uiDataCardWrapper, xa().uiDataCardWrapper, xa().uiCardWrapper]), onclick: function () { if (!g && h) return h(); return null } }, m || p ? d["default"](".flex.flex-row", { class: ot([y === null || y === void 0 ? void 0 : y.uiDataCardHeaderWrapper, xa().uiDataCardHeaderWrapper]) }, [m ? d["default"]("span", { class: ot([y === null || y === void 0 ? void 0 : y.uiDataCardHeader, xa().uiDataCardHeader]) }, m) : null, p ? d["default"]("div", { class: ot([y === null || y === void 0 ? void 0 : y.uiDataCardCategoryLabel, xa().uiDataCardCategoryLabel]) }, p) : null]) : null, (i === null || i === void 0 ? void 0 : i.length) ? l["default"].map(i, lt) : null, this.getDisplayComponents({ displayType: s, detailed: v, overview: b, overwrite: y, dataMap: u }), g ? d["default"](n.Button, { classes: ot([y === null || y === void 0 ? void 0 : y.uiDataCardButton, xa().uiDataCardButton]), onclick: function () { if (g.action) return za(g.action); if (h) return h(); return null }, label: g.label, icon: g.icon }) : null, (o === null || o === void 0 ? void 0 : o.length) ? l["default"].map(o, lt) : null) }; return e }(); function Xa() { st("basic", ja); st("sdx-actionCard", Ua); st("sdx-header", qa); st("sdx-blockLines", Ya); st("sdx-wrapper", Ga); st("sdx-dataCard", _a) } var Ja = { bind: function () { return null } }; function Za(e) { var t = e.mock, a = e.apiKey, r = e.cloudChannel, i = e.companyChannel, n = e.userChannel, o = e.applicationChannel, u = e.applicationUserChannel; if (t) { return { pusher: { connection: { bind: function (e, t) { return setImmediate(t) }, unbind: function () { return null } } }, cloudChannel: Ja, companyChannel: Ja, userChannel: Ja, applicationChannel: Ja, applicationUserChannel: Ja } } var s = new h["default"](a, { cluster: "eu" }); return { pusher: s, cloudChannel: s.subscribe(r), companyChannel: s.subscribe(i), userChannel: s.subscribe(n), applicationChannel: s.subscribe(o), applicationUserChannel: s.subscribe(u) } } var $a = c["default"](); function Ka() { var e = Et().profilePath; return e ? a.request(e).then($a).catch(l["default"].noop) : Promise.resolve() } function er(e) { if (l["default"].isString(e)) { return a.request(e) } else { return Promise.resolve(e) } } function tr() { return Promise.all([Da(), Qt()]) } Xa(); function ar(e) { window.history.replaceState(null, "", window.location.href); var t; return er(e).then((function (e) { Et(e); t = Za(Et().pusher); t.applicationUserChannel.bind("reload", Fa); t.applicationUserChannel.bind("redirect", Ha); t.cloudChannel.bind("reloadbranding", tr); t.companyChannel.bind("reloadbranding", tr); t.applicationChannel.bind("reloadbranding", tr); t.applicationUserChannel.bind("notification", zt); return Promise.all([tr(), new Promise((function (e) { t.pusher.connection.bind("connected", (function () { t.pusher.connection.unbind("connected"); e() })) })), Ka()]) })).catch(Ut).then((function () { return { application: Et(), pusher: t } })) } var rr; (function (e) { e["HEADER"] = "header"; e["FOOTER"] = "footer"; e["SUBHEADER"] = "subheader" })(rr || (rr = {})); var ir; (function (e) { e["SMALL"] = "small"; e["LARGE"] = "large"; e["DEFAULT"] = "default" })(ir || (ir = {})); function nr(t) { if (t === void 0) { t = e.ToastContext.info } switch (t) { case e.ToastContext.error: return xa().uiDialogContextError; case e.ToastContext.warn: return xa().uiDialogContextWarn; case e.ToastContext.basic: return xa().uiDialogContextBasic; default: return xa().uiDialogContextInfo } } function or(t) { switch (t) { case e.DialogPosition.center: return "fade-in"; case e.DialogPosition.top: return "notify-top-in"; case e.DialogPosition.bottom: return "notify-bottom-in"; case e.DialogPosition.topLeft: return "notify-left-in"; case e.DialogPosition.bottomLeft: return "notify-left-in"; case e.DialogPosition.topRight: return "notify-right-in"; case e.DialogPosition.bottomRight: return "notify-right-in"; default: return "notify-top-in" } } function ur(t) { switch (t) { case e.DialogPosition.center: return "fade-out"; case e.DialogPosition.top: return "notify-top-out"; case e.DialogPosition.bottom: return "notify-bottom-out"; case e.DialogPosition.topLeft: return "notify-left-out"; case e.DialogPosition.bottomLeft: return "notify-left-out"; case e.DialogPosition.topRight: return "notify-right-out"; case e.DialogPosition.bottomRight: return "notify-right-out"; default: return "notify-top-out" } } function sr(t) { switch (t) { case e.DialogPosition.center: return ".flex-row.w-75-ns.mw-90-pa3.measure"; case e.DialogPosition.top: return ".w-100.pa3.fixed.left-0.z-max.f5.tc.pointer.top-0"; case e.DialogPosition.bottom: return ".w-100.pa3.fixed.left-0.z-max.f5.tc.pointer.bottom-0"; case e.DialogPosition.topLeft: return ".flex-row.pa3.pointer.fixed.top-1.left-1.z-max.mw7-ns.mw5"; case e.DialogPosition.topRight: return ".flex-row.pa3.pointer.fixed.top-1.right-1.z-max.mw7-ns.mw5"; case e.DialogPosition.bottomLeft: return ".flex-row.pa3.pointer.fixed.bottom-1.left-1.z-max.mw7-ns.mw5"; case e.DialogPosition.bottomRight: return ".flex-row.pa3.pointer.fixed.bottom-1.right-1.z-max.mw7-ns.mw5"; default: return ".w-100.pa3.fixed.left-0.z-max.f5.tc.pointer.top-0" } } function lr(t) { if ([e.DialogPosition.top, e.DialogPosition.bottom].indexOf(t) > -1) { return true } return false } function dr(t) { if ([e.DialogPosition.top, e.DialogPosition.bottom].indexOf(t) > -1) { return "6em" } return "0px" } function cr(t) { var a = t.context, r = t.type, i = r === void 0 ? e.DialogType.notification : r, n = t.message, o = n === void 0 ? "" : n, u = t.duration, s = t.position, l = s === void 0 ? e.DialogPosition.top : s, d = t.title, c = d === void 0 ? "" : d, f = t.confirmButton, h = f === void 0 ? {} : f, m = t.cancelButton, p = m === void 0 ? {} : m, g = t.submitButton, v = g === void 0 ? {} : g, b = t.priority, y = b === void 0 ? false : b, w = t.login, I = t.applyTheme, x = I === void 0 ? {} : I, T = t.useProfile, C = T === void 0 ? null : T; return { context: a || (!i || i === e.DialogType.notification ? e.ToastContext.info : e.ToastContext.basic), type: i, message: o, title: c, duration: i === e.DialogType.notification && u ? u : !i || i === e.DialogType.notification ? 3e3 : 0, position: l, confirmButton: h, cancelButton: p, submitButton: v, priority: y, login: { onSuccess: (w === null || w === void 0 ? void 0 : w.onSuccess) ? w.onSuccess : function () { return null }, onFailure: (w === null || w === void 0 ? void 0 : w.onFailure) ? w.onFailure : function () { return null } }, applyTheme: x, useProfile: C } } var fr = function () { function t() { this.priorityQueue = []; this.notificationQueue = []; this.confirmQueue = []; this.loginQueue = []; this.queue = []; this.active = c["default"](false); this.visible = c["default"](false) } Object.defineProperty(t.prototype, "config", { get: function () { return this._config }, enumerable: false, configurable: true }); Object.defineProperty(t.prototype, "getQueue", { get: function () { return this.queue }, enumerable: false, configurable: true }); Object.defineProperty(t.prototype, "getActiveDialog", { get: function () { return this.activeDialog }, enumerable: false, configurable: true }); t.prototype.insert = function (t) { if (t.priority) this.priorityQueue.push(t); else if (t.type === e.DialogType.notification) this.notificationQueue.push(t); else if (t.type === e.DialogType.confirm) this.confirmQueue.push(t); else if (t.type === e.DialogType.login) this.loginQueue.push(t); else this.notificationQueue.push(t); this.queue = l["default"].concat(this.priorityQueue, this.loginQueue, this.confirmQueue, this.notificationQueue) }; t.prototype.next = function () { if (!this.visible() && !this.active() && this.queue.length) { this.activeDialog = this.queue[0]; this._config = cr(this.activeDialog); if (this.activeDialog.priority) this.priorityQueue.shift(); else if (this.activeDialog.type === e.DialogType.notification) this.notificationQueue.shift(); else if (this.activeDialog.type === e.DialogType.confirm) this.confirmQueue.shift(); else if (this.activeDialog.type === e.DialogType.login) this.loginQueue.shift(); else this.notificationQueue.shift(); this.queue.shift(); this.active(true); this.visible(true) } }; return t }(); var hr = function () { function e() { } e.prototype.onbeforeremove = function (e) { var t = e.dom, a = e.attrs.visible; t.classList.remove("fade-in"); t.classList.add("fade-out"); return new Promise((function (e) { t.addEventListener("animationend", (function () { a(false); d["default"].redraw(); e() })) })) }; e.prototype.view = function (e) { var t = e.children; return d["default"](".fixed.w-100.h-100.left-0.top-0.flex.items-center.justify-center.pa3.bg-black-70.z-max", { class: "fade-in", tabIndex: -1 }, t) }; return e }(); var mr = function () { function e() { } e.prototype.oninit = function (e) { var t = e.attrs.config.applyTheme; if (t) { this.themeHandler = new nt(t) } }; e.prototype.view = function (e) { var t; var a = e.attrs, r = a.config, i = a.active, o = a.visible; var u = r.context, s = r.title, l = r.message, c = r.confirmButton, f = r.cancelButton; var h = (t = this.themeHandler) === null || t === void 0 ? void 0 : t.classes; return i() ? d["default"](hr, { visible: o }, d["default"](".w-75-ns.mw-90.measure.pa3", { class: ot([h === null || h === void 0 ? void 0 : h.uiDialogWrapper, nr(u), xa().uiDialogWrapper]) }, [d["default"]("h2", { class: ot([h === null || h === void 0 ? void 0 : h.uiDialogTitle, xa().uiDialogTitle]) }, s), d["default"]("p.mv4", { class: ot([h === null || h === void 0 ? void 0 : h.uiDialogText, xa().uiDialogText]) }, l), d["default"](".flex.items-end.justify-end", { class: ot([h === null || h === void 0 ? void 0 : h.uiDialogButtonWrapper, xa().uiDialogButtonWrapper]) }, [d["default"](n.Button, { classes: ot([h === null || h === void 0 ? void 0 : h.uiDialogCancelButton, xa().uiDialogCancelButton]), label: f.label || "Cancel", icon: f.icon, type: "button", context: "alt", onclick: function () { i(false); if (f.onclick) { f.onclick() } d["default"].redraw() } }), c.onclick ? d["default"](n.Button, { classes: ot([h === null || h === void 0 ? void 0 : h.uiDialogConfirmButton, xa().uiDialogConfirmButton]), label: c.label || "Confirm", icon: c.icon, type: "button", onclick: function () { i(false); if (c.onclick) { c.onclick() } d["default"].redraw() } }) : null])])) : null }; return e }(); var pr = function (t) { return t === e.DialogPosition.center ? ".w-100.h-100.pa3.fixed.left-0.top-0.z-1.bg-black.flex.items-center.justify-center.z-max" : ".w-100.h-100.pa3.fixed.left-0.top-0.z-1.bg-black.flex.z-max" }; var gr = function () { function e() { } e.prototype.oninit = function (e) { var t = e.attrs.config.applyTheme; if (t) { this.themeHandler = new nt(t) } }; e.prototype.view = function (e) { var t = this; var a; var r = e.attrs, i = r.config, n = r.active, o = r.visible; var u = i.position, s = i.title, c = i.message, f = i.context, h = i.duration; var m = (a = this.themeHandler) === null || a === void 0 ? void 0 : a.classes; if (h && !this.timeout && n()) { this.timeout = setTimeout((function () { n(false); d["default"].redraw() }), h) } return d["default"](pr(u), { style: { pointerEvents: "none", backgroundColor: "rgba(0, 0, 0, 0)", tabIndex: -1 } }, n() ? d["default"](sr(u), { class: ot([or(u), nr(f), m === null || m === void 0 ? void 0 : m.uiDialogNotificationWrapper, xa().uiDialogNotificationWrapper]), style: l["default"].assign({ minHeight: dr(u) }, lr(u) ? { borderRadius: "unset" } : {}), onclick: function () { return n(false) }, onbeforeremove: function (e) { var a = e.dom; a.classList.remove(or(u)); a.classList.add(ur(u)); if (t.timeout) { clearTimeout(t.timeout) } t.timeout = null; return new Promise((function (e) { a.addEventListener("animationend", (function () { o(false); d["default"].redraw(); e() })) })) } }, d["default"](".flex-row.center-items.justify-center", s ? d["default"]("h4.w-100.pl3.pr3", { class: ot([m === null || m === void 0 ? void 0 : m.uiDialogTitle, xa().uiDialogTitle]) }, s) : null, c ? d["default"]("p.w-100.pa3", { class: ot([m === null || m === void 0 ? void 0 : m.uiDialogText, xa().uiDialogText]) }, c) : null)) : null) }; return e }(); var vr = function () { function e() { this.resetId = c["default"](""); this.mobileValid = c["default"](); this.emailValid = c["default"]() } e.prototype.oninit = function (e) { var t = e.attrs.reset.hash; this.mobileValid = this.resetId.map((function (e) { return t === u.sha256(l["default"].replace(l["default"].toLower(e), /[^0-9]/g, "").slice(-9)) })); this.emailValid = this.resetId.map((function (e) { return t === u.sha256(l["default"].trim(l["default"].toLower(e))) })) }; e.prototype.view = function (e) { var t = this; var a = e.attrs, r = a.auth, i = a.reset, o = a.onReset, u = a.onToggle; var s = i.type, c = i.inputLabel, f = i.inputPlaceholder; var h = r.onePanel, m = r.helpBtnText, p = m === void 0 ? "SEND PIN" : m, g = r.helpBtnIcon, v = g === void 0 ? "" + (s === "email" ? "fa-envelope" : "fa-mobile-android") : g, b = r.loginFormClass, y = b === void 0 ? "w-100" : b, w = r.loginBtnClass, I = w === void 0 ? "mv3 tc br4" : w, x = r.returnLinkText, T = x === void 0 ? "Return" : x, C = r.helpInputLines; return d["default"]("form[enctype=multipart/form-data]", { onsubmit: function (e) { e.preventDefault(); o(s === "email" ? l["default"].trim(l["default"].toLower(t.resetId())) : l["default"].trim(l["default"].replace(l["default"].toLower(t.resetId()), /[^0-9]/g, "").slice(-9)), t.resetId()); t.resetId("") }, class: ot([y, xa().uiLoginForm]) }, [d["default"]("div", { class: ot([xa().uiLoginFormInputWrapper]) }, d["default"](n.BaseInput, { field: l["default"].extend({}, { id: "resetpassword", instant: true, uiClass: { wrapper: ot([xa().uiInputFieldset]), inputWrapper: ot([xa().uiLoginInputWrapper, xa().uiInputWrapper]), input: ot(["pa2", xa().uiLoginInput, xa().uiInput]), label: ot([xa().uiLoginInputLabel, xa().uiInputLabel]) } }, s === "email" ? { label: c ? c : "EMAIL", type: "email", placeholder: f ? f : "Enter e-mail address", inputmode: "email" } : { label: c ? c : "MOBILE", type: "tel", placeholder: f ? f : "Enter mobile number", inputmode: "numeric", pattern: "[0-9]+" }), value: this.resetId })), C ? l["default"].map(C, (function (e) { return d["default"]("p.f5", { class: ot([xa().uiLoginLines]) }, d["default"].trust(e)) })) : null, d["default"](".flex.items-center", { class: ot([xa().uiLoginButtonWrapper]) }, [d["default"](n.Button, { label: p, type: "submit", rightIcon: v, classes: ot([xa().uiLoginButton, xa().uiButton, I]), disabled: s === "email" ? !this.emailValid() : !this.mobileValid() }), h ? d["default"]("span.pv2.f6.pointer", { class: Ta().text.default, onclick: u }, T) : null])]) }; return e }(); function br(e) { var t = e.username, a = e.pinInput; var r = xa(), i = r.uiLoginInputWrapper, n = r.uiLoginInput, o = r.uiInput, u = r.uiInputWrapper, s = r.uiLoginInputFieldset, l = r.uiInputFieldset, d = r.uiLoginInputLabel, c = r.uiInputLabel; var f = [{ key: "username", input: { id: "username", type: "hidden", readonly: true } }]; if (e.type === "dobPostcode") { var h = e.dobLabel, m = h === void 0 ? "DOB" : h, p = e.dobPlaceholder, g = p === void 0 ? "DOB e.g. 23/02/1973" : p, v = e.postcodeLabel, b = v === void 0 ? "Postcode" : v, y = e.postcodePlaceholder, w = y === void 0 ? "Postcode e.g. AB12 3CD" : y; f.push({ key: "dob", input: { id: "dob", label: m, type: "dateInput", placeholder: g, title: g, required: true, uiClass: { wrapper: ot([s, l]), inputWrapper: ot([i, u]), input: ot(["pa2", n, o]), label: ot([d, c]) } } }); f.push(a ? { key: "pin", input: { id: "pin", label: b, type: "password", placeholder: w, title: w, required: true, instant: true, uiClass: { wrapper: ot([s, l]), inputWrapper: ot([i, u]), input: ot(["pa2", n, o]), label: ot([d, c]) } } } : { key: "postcode", input: { id: "postcode", label: b, type: "text", placeholder: w, title: w, required: true, instant: true, uiClass: { wrapper: ot([s, l]), inputWrapper: ot([i, u]), input: ot(["pa2", n, o]), label: ot([d, c]) } } }); f.push({ key: "dob-format", computed: { keys: ["dob"], map: "dateStr-format" } }); f.push({ key: "dob-valid", computed: { keys: ["dob-format"], map: "test-dob" } }); if (a) { f.push({ key: "pin-valid", computed: { keys: ["pin"], map: "strLength-6" } }) } else { f.push({ key: "postcode-remove-whitespace", computed: { keys: ["postcode"], map: "remove-whitespace" } }); f.push({ key: "postcode-upper", computed: { keys: ["postcode-remove-whitespace"], map: "upper" } }); f.push({ key: "postcode-valid", computed: { keys: ["postcode-upper"], map: "test-postcode" } }) } f.push({ key: "form-valid", computed: { keys: ["dob-valid", a ? "pin-valid" : "postcode-valid"], merge: "and" } }); f.push({ key: "password", input: { id: "password", type: "hidden", autocomplete: "off", readonly: true }, computed: { keys: ["dob-format", a ? "pin" : "postcode-upper"], merge: "join-underscore" } }) } else { var I = e.passwordLabel, x = I === void 0 ? "PASSWORD" : I, T = e.passwordPlaceholder, C = T === void 0 ? "PASSWORD" : T; f.push(a ? { key: "password", input: { id: "password", label: x, type: "password", placeholder: C, autocomplete: "current-password", required: true, instant: true, pattern: "[0-9]+", inputmode: "numeric", uiClass: { wrapper: ot([s, l]), inputWrapper: ot([i, u]), input: ot(["pa2", n, o]), label: ot([d, c]) } } } : { key: "password", input: { id: "password", label: x, type: "password", placeholder: C, autocomplete: "current-password", required: true, instant: true, uiClass: { wrapper: ot([s, l]), inputWrapper: ot([i, u]), input: ot(["pa2", n, o]), label: ot([d, c]) } } }); f.push({ key: "form-valid", computed: { keys: ["password"], map: a ? "strLength-6" : "strLength" } }) } var k = Mt(f); k.streamMap["username"].value(t); return k } function yr(e, t) { return function (r) { r.preventDefault(); a.request({ method: "POST", url: e, body: new FormData(r.target), deserialize: $e }).then(t.onSuccess).catch(t.onFailure) } } var wr = function () { function e() { this.toggleHelp = false } e.prototype.oninit = function (e) { var t = e.attrs.auth; this.form = br(t) }; e.prototype.view = function (e) { var t = this; var a = e.attrs, r = a.auth, i = a.config, o = a.minimal; var u = r.endpoint, s = r.onePanel, c = r.title, f = r.lines, h = r.postLines, m = h === void 0 ? [] : h, p = r.helpTitle, g = r.helpLines, v = r.postHelpLines, b = v === void 0 ? [] : v, y = r.loginFormClass, w = y === void 0 ? "w-100" : y, I = r.loginBtnText, x = I === void 0 ? "Login to Secure Document Vault" : I, T = r.loginBtnIcon, C = T === void 0 ? "fa-sign-in-alt" : T, k = r.loginBtnClass, D = k === void 0 ? "mv3 tc br4" : k, B = r.reset, L = r.helpLinkText, S = L === void 0 ? "Trouble logging in?" : L; return d["default"](".flex.flex-column", { class: (s ? "" : "flex-row-l items-stretch ph1-l") + " " + xa().uiLoginWrapper }, [d["default"](".flex-column.w-100", { class: xa().uiLogin + " " + (s ? this.toggleHelp ? "dn" : "flex" : "mb2 mb0-l mh1-l") }, [o ? null : d["default"](".f3.f2-l.fw5.mv3.mv4-l", { class: Ta().text.default }, d["default"].trust(c)), f ? l["default"].map(f, (function (e) { return d["default"]("p.f5", { class: ot([xa().uiLoginLines]) }, d["default"].trust(e)) })) : null, d["default"]("form[enctype=multipart/form-data][method=post][accept=utf-8]", { action: u, class: ot([w, xa().uiLoginForm]), onsubmit: i ? yr(u, i) : undefined }, [d["default"]("div", { class: ot([xa().uiLoginFormInputWrapper]) }, l["default"].map(this.form.fields, Rt)), l["default"].map(m, (function (e) { return d["default"]("p.f5", d["default"].trust(e)) })), d["default"](".flex.items-center", { class: ot([xa().uiLoginButtonWrapper]) }, d["default"](n.Button, { label: x, type: "submit", rightIcon: C, classes: ot([xa().uiLoginButton, xa().uiButton, D]), disabled: Boolean(!this.form.streamMap["form-valid"].value()) }), s && B ? d["default"]("span.pv2.nt2.fr.f6.pointer", { class: Ta().text.default, onclick: function () { return t.toggleHelp = true } }, S) : null)])]), d["default"](".flex-column.w-100", { class: xa().uiLogin + " " + (s ? this.toggleHelp ? "flex" : "dn" : "mh1-l") }, [o ? null : d["default"](".f3.f2-l.fw5.mv3.mv4-l", { class: Ta().text.default }, d["default"].trust(p)), l["default"].map(g, (function (e) { return d["default"]("p.f5", d["default"].trust(e)) })), B ? d["default"](vr, { auth: r, reset: B, onReset: function (e, a) { t.toggleHelp = false; Ea(e, a) }, onToggle: function () { return t.toggleHelp = false } }) : null, l["default"].map(b, (function (e) { return d["default"]("p.f5", d["default"].trust(e)) }))])]) }; return e }(); var Ir = function () { function e() { this.shake = false } e.prototype.oninit = function (e) { var t = this; var a = e.attrs, r = a.active, i = a.config, n = i.login, o = i.applyTheme; if (o) { this.themeHandler = new nt(o) } this.loginSuccess = function () { r(false); return n.onSuccess() }; this.loginFailure = function () { t.shake = true; t.failMessage = "Invalid credentials - please try again"; return n.onFailure() } }; e.prototype.onupdate = function () { if (this.shake) { this.shake = false } }; e.prototype.view = function (e) { var t; var a = e.attrs, r = a.config, i = a.active, n = a.visible; var o = r.context, u = r.title, s = r.message; var l = Et().auth; var c = (t = this.themeHandler) === null || t === void 0 ? void 0 : t.classes; return i() ? d["default"](hr, { visible: n }, d["default"](".measure-wide.pa2", { class: ot([xa().uiDialogLoginWrapper, xa().uiDialogWrapper, nr(o), this.shake ? "shake" : ""]) }, d["default"](".pa2", [d["default"]("h2.w-100", { class: ot([c === null || c === void 0 ? void 0 : c.uiDialogTitle, xa().uiDialogTitle]) }, u), d["default"]("p", { class: this.failMessage ? "red" : "" }, this.failMessage ? this.failMessage : s)]), l ? d["default"](wr, { auth: l, config: { onSuccess: this.loginSuccess, onFailure: this.loginFailure }, minimal: true }) : null)) : null }; return e }(); var xr = { wrapper: ot([xa().uiInputFieldset]), inputWrapper: ot(["ba b--light-gray mb2", xa().uiInputWrapper]), input: ot([xa().uiInput]), label: ot([xa().uiInputLabel]) }; var Tr = [{ key: "feedback", group: "feedback", input: { id: "feedback", type: "textarea", required: true, uiClass: xr } }, { key: "email", group: "email", input: { id: "email", type: "email", required: true, uiClass: xr } }, { key: "phone_number", group: "phone_number", input: { id: "phone_number", type: "tel", required: true, uiClass: xr } }]; var Cr = function () { function e() { this.feedbackFormFields = Mt(Tr); this.feedbackFormGroup = l["default"].groupBy(this.feedbackFormFields.fields, "group") } e.prototype.oninit = function (e) { var t = e.attrs.config, a = t.applyTheme, r = t.useProfile; var i = r ? r() : $a() || {}, n = i.email, o = n === void 0 ? "" : n, u = i.mobile, s = u === void 0 ? "" : u; if (o) { this.feedbackFormFields.streamMap["email"].value(o) } if (s) { this.feedbackFormFields.streamMap["phone_number"].value(s) } if (a) { this.themeHandler = new nt(a) } }; e.prototype.view = function (e) { var t; var a = e.attrs, r = a.config, i = a.active, o = a.visible; var u = r.context, s = r.title, c = r.cancelButton, f = r.submitButton; var h = (t = this.themeHandler) === null || t === void 0 ? void 0 : t.classes; return i() ? d["default"](hr, { visible: o }, d["default"](".w-75-ns.mw-90.measure", { class: ot([h === null || h === void 0 ? void 0 : h.uiDialogFeedbackWrapper, h === null || h === void 0 ? void 0 : h.uiDialogWrapper, nr(u), xa().uiDialogFeedbackWrapper, xa().uiDialogWrapper]) }, [d["default"](".pa3", [d["default"]("h2.w-100.tc", { class: ot([h === null || h === void 0 ? void 0 : h.uiDialogTitle, xa().uiDialogTitle]) }, s), d["default"]("p.f6.b.pt3", { class: ot([h === null || h === void 0 ? void 0 : h.uiDialogFeedbackLabel, xa().uiDialogFeedbackLabel]) }, "Feedback"), d["default"]("p.f6.pt1", l["default"].map(this.feedbackFormGroup["feedback"], Rt)), d["default"]("p.f6.b.pt3", { class: ot([h === null || h === void 0 ? void 0 : h.uiDialogFeedbackLabel, xa().uiDialogFeedbackLabel]) }, "Email Address"), d["default"]("p.f6", "We may contact you if we need more information before addressing your feedback"), d["default"]("p.f6.pt1", l["default"].map(this.feedbackFormGroup["email"], Rt)), d["default"]("p.f6.b.pt3", { class: ot([h === null || h === void 0 ? void 0 : h.uiDialogFeedbackLabel, xa().uiDialogFeedbackLabel]) }, "Phone Number"), d["default"]("p.f6.pt1", l["default"].map(this.feedbackFormGroup["phone_number"], Rt))]), d["default"](".flex.flex-column.w-100.items-center.pa3", { class: ot([xa().uiDialogFeedbackButtonWrapper, h === null || h === void 0 ? void 0 : h.uiDialogText, xa().uiDialogButtonWrapper]) }, [d["default"](n.Button, { classes: ot([h === null || h === void 0 ? void 0 : h.uiDialogConfirmButton, xa().uiDialogConfirmButton]), label: f.label || "Confirm", type: "button", onclick: function () { i(false); if (f.onclick) { f.onclick() } d["default"].redraw() } }), d["default"]("span.dim.pointer.pa1.underline", { class: ot([xa().uiDialogLinkButton, h === null || h === void 0 ? void 0 : h.uiDialogLinkButton]), onclick: function () { i(false); if (c.onclick) { c.onclick() } } }, "Back")])])) : null }; return e }(); var kr = function () { function t() { this.dialogHandler = new fr } t.prototype.oninit = function (e) { var t = this; var a = e.attrs.useStream; var r = a ? a : At; r.map((function (e) { return t.dialogHandler.insert(e) })) }; t.prototype.onbeforeupdate = function () { this.dialogHandler.next() }; t.prototype.view = function () { var t = this.dialogHandler, a = t.active, r = t.visible, i = t.config; if (i) { switch (i.type) { case e.DialogType.notification: return d["default"](gr, { config: i, active: a, visible: r }); case e.DialogType.confirm: return d["default"](mr, { config: i, active: a, visible: r }); case e.DialogType.login: return d["default"](Ir, { config: i, active: a, visible: r }); case e.DialogType.feedback: return d["default"](Cr, { config: i, active: a, visible: r }); default: return d["default"](gr, { config: i, active: a, visible: r }) } } return null }; return t }(); var Dr = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs.classes; var a = Yt().copyright; var r = Et().version; return d["default"]("span.ma2.f7", { class: ot([t, xa().uiNavbarCopyright]), title: r }, a ? [d["default"].trust("&copy; "), a] : null) }; return e }(); var Br = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.src, r = t.classes, i = t.height, n = t.width; return a ? d["default"]("img", { src: a, class: ot([r, xa().uiNavbarImage]), height: i, width: n }) : null }; return e }(); var Lr = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.classes, r = t.href, i = t.textContent; return d["default"]("a.link.mh2.flex.self-stretch.items-center", { class: ot([a, xa().uiNavbarLink]), href: r }, i) }; return e }(); function Sr(e) { return (e * 100).toFixed(0) + "%" } function Wr(e) { switch (e) { case ir.SMALL: return "flex dn-l"; case ir.LARGE: return "dn flex-l"; default: return "flex" } } function Pr(e, t) { var a = !(Et().auth && t); return l["default"].reject(e, l["default"].matches({ hideLogout: a })) } function Hr(e) { d["default"].request(e).then(Fa) } var Fr = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.classes, r = t.size; var i = Et().auth; var n = i.logoutPath, o = i.logoutLabel, u = i.logoutIcon, s = u === void 0 ? "fa-sign-out-alt" : u; return d["default"]("span.mh2.self-stretch.items-center.pointer", { class: ot([a, Wr(r), xa().uiNavbarLogout]), onclick: function () { return Hr(n) } }, [o ? d["default"]("span.mr2", { class: ot([xa().uiNavbarLogoutLabel]) }, o) : null, d["default"]("i.fal.fa-fw.fw6[aria-hidden=true]" + (o ? "" : ".fa-2x"), { class: ot([xa().uiNavbarLogoutIcon, s]) })]) }; return e }(); var Mr = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.classes, r = t.textContent; return d["default"]("span.ma2", { class: ot([a, xa().uiNavbarText]) }, r) }; return e }(); var Nr = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs.classes; var a = Yt().poweredBy, r = a === void 0 ? { src: "https://cloud.sdxmessaging.com/resources/sdx/poweredby.svg", title: "Powered by Secure Digital Exchange Limited", href: "https://www.sdxmessaging.com/" } : a; return d["default"]("a.link.ma2.h-75[target=_blank][rel=noreferrer noopener]", { href: r.href }, d["default"]("img.w-100.h-100.mw3.mw4-l.o-80", { class: ot([t, xa().uiNavbarPoweredBy]), src: r.src, title: r.title })) }; return e }(); var Rr = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.saving, r = t.progress, i = t.classes; var n = a ? a() : false; var o = n && r ? r() : 0; return d["default"]("span.ma2.f3", { class: ot([o ? undefined : "dn", i, xa().uiNavbarProgress]) }, [Sr(o), d["default"]("i.ma2.f3.fal.fa-spinner", { class: n ? "fa-spin" : "dn" })]) }; return e }(); var Er = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs.classes; var a = Et().version; return d["default"]("span.ma2.f7", { class: ot([t, xa().uiNavbarVersion]) }, a) }; return e }(); var Ar = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs.classes; var a = Et().name; return d["default"]("span.ma2.f7", { class: ot([t, xa().uiNavbarName]) }, a) }; return e }(); var zr = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.classes, r = t.salutation; var i = $a(), n = i.firstName, o = i.lastName; var u = l["default"].assign({ pre: "Welcome, ", showFirstName: true, showLastName: false, post: "!" }, r); var s = u.showFirstName, c = u.showLastName, f = u.pre, h = u.post; return d["default"]("span.ma2", { class: ot([a, xa().uiNavbarSalutation]) }, "" + f + (s ? n : "") + (s && c ? " " : "") + (c ? o : "") + h) }; return e }(); var Ur = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs; var a = t.navList, r = t.saving, i = t.progress, n = t.logout; var o = Et().auth; return l["default"].map(a, (function (e) { var t = "" + it(e); if (e.type === 0) return d["default"](".center", { classes: t }); else if (e.type === 1) return d["default"]("span", { classes: t }, "|"); else if (e.type === 8) return d["default"](Dr, { classes: t }); else if (e.type === 9) return d["default"](Nr, { classes: t }); else if (e.type === 10) return d["default"](Rr, { saving: r, progress: i, classes: t }); else if (e.type === 11) return d["default"](Er, { classes: t }); else if (e.type === 12) return d["default"](Ar, { classes: t }); else if (e.type === 13) return d["default"](Ar, { classes: t }); else if (e.type === 14) { return d["default"](zr, { salutation: e.salutation, classes: t }) } else if (e.type === 2) { var a = e.src, u = e.height, s = e.width; return d["default"](Br, { src: a, height: u, width: s, classes: t }) } else if (e.type === 3) { var l = e.text; return d["default"](Mr, { textContent: l, classes: t }) } else if (e.type === 4) { var l = e.text, c = e.href; return d["default"](Lr, { href: c, textContent: l, classes: t }) } else if (e.type === 5 || e.type === 7 || e.type === 6) { var f = ir.DEFAULT; if (e.type === 5) f = ir.DEFAULT; if (e.type === 7) f = ir.LARGE; if (e.type === 6) f = ir.SMALL; return o && n ? d["default"](Fr, { size: f, classes: t }) : null } return lt(e) })) }; return e }(); var Or = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.type, r = t.saving, i = t.progress, n = t.logout; if (a === rr.HEADER) { var o = Pr(Yt().header || [], n); return o.length ? d["default"](Ur, { saving: r, progress: i, logout: n, navList: o }) : null } else if (a === rr.FOOTER) { var o = Pr(Yt().footer || [], n); return o.length ? d["default"](Ur, { saving: r, progress: i, logout: n, navList: o }) : null } else if (a === rr.SUBHEADER) { var o = Pr(Yt().subheader || [], n); return o.length ? d["default"](".flex.items-center.self-center.w-100.flex-shrink-0", { class: ot([xa().uiSubheader]) }, d["default"](Ur, { saving: r, progress: i, logout: n, navList: o })) : null } return null }; return e }(); var jr = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.saving, r = t.progress, i = t.fullScreen, n = t.responsiveHeader, o = t.responsiveFooter, u = t.logout, s = u === void 0 ? true : u, l = t.header, c = t.footer, f = e.children; var h = Pr(Yt().footer || [], s).length > 0; var m = Pr(Yt().header || [], s).length > 0; var p = Pr(Yt().subheader || [], s).length > 0; var g = i ? { "max-width": "unset" } : {}; return [d["default"](kr), m ? d["default"](".flex.items-center.justify-center.z-1", { class: ot([xa().uiHeaderWrapper]) }, d["default"]("nav.items-center.self-center.w-100.z-1.h3.flex-shrink-0", { class: ot([xa().uiHeader, n ? "dn flex-l" : "flex"]), style: g }, l ? l : d["default"](Or, { type: rr.HEADER, saving: a, progress: r, logout: s }))) : null, d["default"]("main.flex-auto.flex.flex-column.self-center.w-100.h-100", { class: ot([xa().uiLayout]), style: g }, p ? d["default"](Or, { type: rr.SUBHEADER, saving: a, progress: r, logout: s }) : null, f), h ? d["default"](".flex.items-center.justify-center.z-1", d["default"]("nav.w-100.items-center.flex-shrink-0", { class: ot([xa().uiFooter, o ? "dn flex-l" : "flex"]), style: g }, c ? c : d["default"](Or, { type: rr.FOOTER, saving: a, progress: r, logout: s }))) : null] }; return e }(); var qr = function () { function e() { } e.prototype.view = function (e) { var t = e.attrs, a = t.header, r = t.headerClass, i = t.subheader, n = t.subheaderClass, o = t.content, u = t.footer; return [a ? d["default"](".flex.justify-between.items-center.flex-shrink-0", { class: ot([r, xa().uiPanelHeader]) }, a) : null, i ? d["default"](".flex-shrink-0", { class: ot([xa().uiPanelSubheader, n]) }, i) : null, o, u] }; return e }(); function Yr(e, t) { var a = t.toastMessage, r = t.title, i = r === void 0 ? "UNTITLED" : r, n = t.lines, o = n === void 0 ? [] : n, u = t.returnBtn; if (a) { At(a) } return ar(e).then((function (e) { var t = e.application, a = e.pusher; d["default"].mount(document.getElementById("page"), { view: function () { return d["default"](jr, d["default"](qr, { content: d["default"](".flex-auto.overflow-x-hidden.overflow-y-auto.safari-bug", [d["default"](".ph4", [d["default"]("p.f3.fw4", i), lt({ type: "basic", data: o }), u && t.auth ? lt({ type: "basic", data: { href: t.auth.loginPath, text: "RETURN TO LOGIN" } }) : null]), t.footer ? lt(t.footer) : null]) })) } }); return { application: t, pusher: a } })) } e.DialogContext = e.ToastContext; e.application = Et; e.assembleFormField = Rt; e.basic = Yr; e.branding = Yt; e.buildComponent = lt; e.buildComponentList = dt; e.buildFormFields = Mt; e.colors = Ta; e.createResponsiveClass = it; e.dialog = At; e.joinClasses = ot; e.registerComponent = st; e.registerFileMapFn = Bt; e.registerMapFn = Ct; e.registerMergeFn = Wt; e.sdxRequest = Ra; e.size = Sa; e.theme = xa; Object.defineProperty(e, "__esModule", { value: true }) }));
