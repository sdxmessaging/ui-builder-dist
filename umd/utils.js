/* @preserve built on: 2022-09-27T10:26:03.764Z */
(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports,require("jss"),require("lodash"),require("mithril"),require("mithril/stream"),require("luxon"),require("@sdxmessaging/ui-widgets"),require("pdfjs-dist")):typeof define==="function"&&define.amd?define(["exports","jss","lodash","mithril","mithril/stream","luxon","@sdxmessaging/ui-widgets","pdfjs-dist"],t):(e=typeof globalThis!=="undefined"?globalThis:e||self,t(e.uiBuilder={},e.jss,e._,e.m,e.m.stream,e.luxon,e.uiWidgets,e.pdfjsLib))})(this,(function(e,t,r,i,a,n,o,s){"use strict";function l(e){return e&&typeof e==="object"&&"default"in e?e:{default:e}}var u=l(t);var c=l(r);var d=l(i);var p=l(a);var f=l(s);const g={uiAgGridHeader:"ag-header",uiAgGridHeaderCell:"ag-header-cell",uiAgGridHeaderIcon:"ag-icon",uiAgGridHeaderCellContainer:"ag-cell-label-container",uiAgGridWrapper:"ag-root-wrapper",uiAgGridColsClipper:"ag-center-cols-clipper",uiAgGridCell:"ag-cell",uiAgGridThemeAlpine:"ag-theme-alpine",uiAgGridBodyViewport:"ag-body-viewport"};function h(){function e(e,t,r){if(t.type!=="style")return e;if(t.id&&g[t.id.replace(/(-\d+)*/g,"")]&&r){const e=c["default"].reduce(c["default"].entries(t.style),((e,[t,r])=>{e[t]=r+" !important";return e}),{});const i=r.addRule(g[t.id.replace(/(-\d+)*/g,"")],e,{selector:"."+g[t.id.replace(/(-\d+)*/g,"")]});i.id=g[t.id]}return e}return{onProcessStyle:e}}function m(e){const t=c["default"].assign({repeat:2},e);const r=Array(t.repeat).join(":not(#\\20)");return{onProcessRule:(e,t)=>{const i=e.options.parent;if(t.options.increaseSpecificity===false||e.type!=="style"||i&&i.type==="keyframes"||e.selectorText.search(":not(#\\20)")!==-1)return;e.selectorText=r+e.selectorText}}}const y=["after","before","first-line","first-letter","selection","placeholder"];const b=["active","checked","disabled","empty","enabled","first-child","first-of-type","focus","hover","in-range","invalid","last-child","last-of-type","link","not","only-of-type","only-child","optional","out-of-range","read-only","read-write","required","root","target","valid","visited"];const x=["nth-child","nth-last-child","nth-last-of-type","nth-of-type"];const w=[{"-space-":" ","-space":" ","space-":" ",space:" "},{"-dot-":".","-dot":".","dot-":".",dot:"."},{"-dash-":"-","-dash":"-","dash-":"-",dash:"-"},{"-chevron-":" > ","-chevron":" > ","chevron-":" > ",chevron:" > "},{"-hash-":"#","-hash":"#","hash-":"#",hash:"#"},{"-star-":"*","-star":"*","star-":"*",star:"*"},{"-colon-":":","-colon":":","colon-":":",colon:":"},{"-equals-":"=","-equals":"=","equals-":"=",equals:"="},{"-sbo-":"[","-sbo":"[","sbo-":"[",sbo:"["},{"-sbc-":"]","-sbc":"]","sbc-":"]",sbc:"]"}];const v=e=>{const t=c["default"].find(x,(t=>e.search(t)!==-1));if(t){const r=e.slice(t.length+1);return`:${e.slice(0,t.length)}(${r})`}return e};const S=e=>c["default"].reduce(w,((t,r)=>{t=!t?e:t;c["default"].forEach(c["default"].entries(r),(([e,r])=>{const i=t.search(e);const a=new RegExp(e,"g");if(i!==-1){if(i===0){t=t.replace(e,r)}const n=t.search(e);if(n||i!==0){t=t.replace(a,r)}t=t.replace(/ +/," ")}}));return t}),"");const I=(e,t)=>{let r=e;y.forEach((e=>r=r.replace(new RegExp(e,"g"),"::"+e)));b.forEach((t=>{const i=["valid","last-child","last-of-type"];if(i.indexOf(t)===-1){r=r.replace(new RegExp(t,"g"),":"+t)}else{if(t==="valid"&&e.search("invalid")&&e.search("valid")!==e.search("invalid")-2){r=r.replace(new RegExp(t,"g"),":"+t)}else if(t!=="valid"&&i.indexOf(t)!==-1){if(e.search("nth-"+t)!==e.search(t)-4){r=r.replace(new RegExp(t,"g"),":"+t)}}}}));r=v(r);return`${t}${r}`};function k(e,t){const r=S(e);return I(r,t)}function C(){function e(e,t){if(t.type!=="style")return e;const r=t.options.parent;c["default"].forEach(e,((i,a)=>{if(typeof i!=="string"&&typeof i==="object"){const n=k(a,t.selector);const o=c["default"].reduce(i,((e,t,r)=>{e[c["default"].kebabCase(r)]=t;return e}),{});r.addRule(n,o,{selector:n});delete e[a]}}));return e}return{onProcessStyle:e}}const W="@media screen and (min-width:30em)";const D="@media screen and (min-width:30em) and (max-width: 60em)";const L="@media screen and (min-width:60em)";u["default"].use(C(),h());const T=u["default"].createStyleSheet({});function F(e){return c["default"].mapKeys(e,((e,t)=>c["default"].kebabCase(t)))}function P(e,t){if(t){e.push(t)}}function j(e,t,r){if(r){const i=e.addRule(t,F(r));return i.id}else{return""}}function B(e,t,r,i){if(i){const a=e.addRule(r,{[t]:F(i)});return a.getRule(t).id}else{return""}}function O(e,t,r){if(r){const i=e.update(t,F(r));return i.id||i.getRule(t).id}else{return""}}function A(e,t,r){if(r){const i=e.update(t,F(r));return i.getRule(t).id}else{return""}}function R({style:e={},styleNS:t,styleM:r,styleL:i,classes:a,key:n="unnamed"},o){const s=o?o:T;const l=[];const u=Boolean(n!=="unnamed"&&s.getRule(n));if(u){P(l,O(s,n,e));P(l,A(s,n,t));P(l,A(s,n,r));P(l,A(s,n,i))}else{P(l,j(s,n,e));P(l,B(s,n,W,t));P(l,B(s,n,D,r));P(l,B(s,n,L,i))}if(l.length&&!o){s.attach()}P(l,a);return l.join(" ")}const M=t.create({plugins:[h(),C(),m()]});class _{constructor(e){this._classes={};this.uiSheet=M.createStyleSheet({});this.applyTheme=e;this.createClasses()}get classes(){return this._classes}createClasses(){c["default"].each(this.applyTheme,((e,t)=>{this._classes[t]=R(c["default"].assign({key:t,increaseSpecificity:true},e),this.uiSheet)}));this.uiSheet.attach()}update(e){if(!c["default"].isEqual(this.applyTheme,e)){this.applyTheme=e;this.uiSheet.detach();this.createClasses()}}}function N(e){return c["default"].compact(e).join(" ")}function E(e){switch(e){case"default":return"alt";case"alt":return"default";case"altLighter":return"lighter";case"altDarker":return"darker";case"darker":return"altDarker";case"lighter":return"altLighter";case"warn":return"neutral";case"error":return"neutral";default:return"neutral"}}function H(e){return n.DateTime.fromISO(e).valueOf()}function z(e,t="D"){const r=n.DateTime.fromMillis(e);return r.isValid?r.toFormat(t,{locale:"en-GB"}):"-"}function U(e,t="HH:mm"){return z(e,t)}function q(){return n.DateTime.now().toISODate()}function $(e){const t=n.DateTime.now().startOf("day");const r=n.DateTime.fromMillis(e).startOf("day").diff(t,"day").get("days");switch(r){case-1:return"Yesterday";case 0:return"Today";case 1:return"Tomorrow";default:return z(e)}}function G(e){try{return e?$(H(e)):"-"}catch(e){return"-"}}function V(e){try{return e?U(H(e)):"-"}catch(e){return"-"}}function Q(e){try{if(e){const t=H(e);return`${$(t)}, ${U(t)}`}else{return"-"}}catch(e){return"-"}}function Y(e){try{return e?$(e):"-"}catch(e){return"-"}}function X(e){try{return e?U(e):"-"}catch(e){return"-"}}function Z(e){try{if(e){return`${$(e)}, ${U(e)}`}else{return"-, -"}}catch(e){return"-, -"}}function K(){return window.matchMedia("only screen and (max-width: 360px)").matches}function J(){return window.matchMedia("only screen and (max-width: 768px)").matches}function ee(e,t){return c["default"].find(e,c["default"].matches(t))}function te(e,t){return c["default"].find(e,c["default"].matches({_id:t}))}function re(e,t,r){return p["default"].lift(((e,t)=>te(e,t)||r),e,t)}function ie(e,t){return c["default"].filter(e,c["default"].matches(t))}function ae(e,t){return c["default"].remove(e,c["default"].matches(t))}function ne(e,{tags:t}){return c["default"].some(e,(e=>c["default"].some(t,e)))}function oe(e,{tags:t}){return c["default"].every(e,(e=>c["default"].some(t,e)))}function se(e,t,r=false){if(t.length===0){return e}const i=c["default"].partial(r?oe:ne,t);return c["default"].filter(e,(t=>{if(i(t)){const r=t;return r.hideEmpty?se(e,r.content,r.contentAll).length>0:true}return false}))}function le({readonly:e,disabled:t}){return!(e||t)}function ue(e){return Boolean(c["default"].isArray(e)?e.length:e)}function ce(e){const t={};e.forEach(((e,r)=>t[r]=e));return t}function de(e,t){c["default"].forEach(t,((t,r)=>e.set(r,t)))}function pe(e){if(e<1e3){return`${e} bytes`}else if(e<1e6){return`${c["default"].round(e/1e3)}Kb`}else{return`${c["default"].round(e/1e6)}Mb`}}function fe(e,t,r){if(r){return e.label}const{props:i}=e;return t.length===1?i[t[0]]:c["default"](t).map((e=>i[e])).compact().value().join(" ")}function ge(e){return e}const he={"application/zip":{icon:"fal fa-file-archive",ext:".zip"},"application/pdf":{icon:"fal fa-file-pdf",ext:".pdf"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{icon:"fal fa-file-word",ext:".docx"},"application/msword":{icon:"fal fa-file-word",ext:".doc"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{icon:"fal fa-file-excel",ext:".xlsx"},"application/vnd.ms-excel":{icon:"fal fa-file-excel",ext:".xls"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{icon:"fal fa-file-powerpoint",ext:".pptx"},"application/vnd.ms-powerpoint":{icon:"fal fa-file-powerpoint",ext:".ppt"},"image/jpeg":{icon:"fal fa-file-image",ext:".jpeg"},"image/png":{icon:"fal fa-file-image",ext:".png"},"image/gif":{icon:"fal fa-file-image",ext:".gif"},"image/tiff":{icon:"fal fa-file-image",ext:".tiff"},"audio/mpeg":{icon:"fal fa-file-audio",ext:".mp3"},"video/mpeg":{icon:"fal fa-file-video",ext:".mpeg"},"video/quicktime":{icon:"fal fa-file-video",ext:".mov"},"video/x-msvideo":{icon:"fal fa-file-video",ext:".avi"}};function me(e){if(he.hasOwnProperty(e)){return he[e].icon}else{return"fal fa-file-alt"}}function ye(e){if(he.hasOwnProperty(e)){return he[e].ext}else{return""}}function be(e){const t=ye(e);return t?t.substring(1):t}function xe(e,t,r=""){if(t==="size"){return pe(e.size)}else if(t==="lastModified"){return Z(e.lastModified)}else if(t==="type"){return d["default"](`i.fal.fa-fw${r}`,{title:e.type,class:me(e.type)})}else{return e[t]}}function we(e,t){return c["default"].map(ie(e,{prop:t}),(e=>{const{_id:t,name:r}=e;return{guid:t,name:r,path:e.remoteUrl}}))}function ve(e,{id:t}){return p["default"](we(e,t))}function Se(e,t){return c["default"].get(e,t)}function Ie(e,t){const r=e();r.push(t);e(r)}function ke(e,t){const r=e();const i=c["default"].pullAt(r,t);e(r);return i}function Ce(e,{id:t}){const r=Se(e,t);return r?p["default"](r):p["default"]()}function We(e,t){if(t){if(typeof e!=="object"||typeof e!==typeof t||c["default"].isArray(e)!==c["default"].isArray(t)){throw new Error("deepMerge only supports arrays and objects and cannot merge objects of different types.")}const r=c["default"].isArray(e)?[]:{};const i=c["default"].uniq([...c["default"].keys(e),...c["default"].keys(t)]);return c["default"].reduce(i,((r,i)=>{if(i in t&&!c["default"].isUndefined(t[i])){if(typeof e[i]==="object"){r[i]=We(e[i]||{},t[i])}else{r[i]=t[i]}}else{r[i]=e[i]}return r}),r)}return e}const De={};const Le={};function Te(e,t){if(e in Le){throw new Error(`Component ${e} is already registered`)}else{Le[e]=t}}function Fe(e,t){if(e in De){throw new Error(`Cell Renderer ${e} is already registered`)}else{De[e]=t}}function Pe({type:e,data:t,style:r,styleNS:i,styleM:a,styleL:n,classes:o}){const s=R({style:r,styleNS:i,styleM:a,styleL:n,classes:o});if(e in Le){return d["default"](Le[e],{type:e,data:t,classes:s})}else{return d["default"]("span",`Unknown component type: ${e}`)}}function je(e){return c["default"].map(e,(e=>Pe(e)))}const Be={["label"]:o.Label,["trusted"]:o.TextareaInput,["hidden"]:o.BaseInput,["text"]:o.BaseInput,["password"]:o.PasswordInput,["search"]:o.BaseInput,["date"]:o.BaseInput,["time"]:o.BaseInput,["datetime-local"]:o.BaseInput,["dateInput"]:o.DateInput,["cardDate"]:o.CardDateInput,["number"]:o.BaseInput,["range"]:o.BaseInput,["email"]:o.BaseInput,["url"]:o.BaseInput,["tel"]:o.BaseInput,["color"]:o.BaseInput,["currency"]:o.CurrencyInput,["percentage"]:o.PercentageInput,["textarea"]:o.TextareaInput,["checkbox"]:o.CheckboxInput,["toggle"]:o.ToggleInput,["select"]:o.SelectInput,["radio"]:o.RadioInput};const Oe={["fileMulti"]:o.FileMulti,["file"]:o.FileSelect,["imageMulti"]:o.ImageMulti,["image"]:o.ImageSelect,["sign"]:o.SignBuilder};const Ae={};c["default"].forEach(Be,((e,t)=>Ae[t]=1));c["default"].forEach(Oe,((e,t)=>Ae[t]=2));function Re(e){if(Oe.hasOwnProperty(e)){return Oe[e]}else{return Oe["file"]}}function Me(e){if(Be.hasOwnProperty(e)){return Be[e]}else{return Be["text"]}}function _e(e,t){if(e===2){return Re(t)}else if(e===1){return Me(t)}else{return undefined}}function Ne(e="text"){return Ae[e]||3}const Ee=/\s*\d{2}\/\d{2}\/\d{4}\s*$/;const He=/\s*(([gG][iI][rR]\s*0[aA]{2})|((([a-pr-uwyzA-PR-UWYZ][a-hk-yA-HK-Y]?\d\d?)|(([a-pr-uwyzA-PR-UWYZ]\d[a-hjkstuwA-HJKSTUW])|([a-pr-uwyzA-PR-UWYZ][a-hk-yA-HK-Y]\d[abehmnprv-yABEHMNPRV-Y])))\s*\d[abd-hjlnp-uw-zABD-HJLNP-UW-Z]{2}))\s*$/;function ze(e){return function(t,r){return t.map((function(t){return e(t,r)}))}}const Ue={default:ze((e=>e)),equals:ze(((e,[t]=[])=>e===t)),"date-format":ze((e=>e?z(Number(e)):"")),"dateStr-format":ze((e=>e?z(new Date(String(e)).valueOf()):"")),"date-format-month":ze((e=>e?z(Number(e),"dd MMMM yyyy"):"")),"date-endofday":ze((e=>e?n.DateTime.fromISO(e,{setZone:true}).endOf("day").toISO():"")),substr:ze(((e,[t=0,r]=[])=>String(e).substr(t,r))),upper:ze((e=>String(e).toUpperCase())),lower:ze((e=>String(e).toLowerCase())),snake:ze((e=>c["default"].snakeCase(String(e)))),trunc:ze((e=>c["default"].truncate(String(e),{length:15}))),"remove-whitespace":ze((e=>e?c["default"].replace(String(e),/\s/g,""):"")),strLenEq:ze(((e,[t]=[0])=>e?String(e).length===t:false)),strLenLt:ze(((e,[t]=[0])=>e?String(e).length<t:false)),strLenGt:ze(((e,[t]=[0])=>e?String(e).length>t:false)),boolean:ze((e=>Boolean(e))),not:ze((e=>!e)),"test-dob":ze((e=>e?Ee.test(String(e)):false)),"test-postcode":ze((e=>e?He.test(String(e)):false)),debug:ze((e=>{console.debug(e);return e}))};function qe(e,t,r){if(Ue.hasOwnProperty(e)){return Ue[e](t,r)}else{return Ue["default"](t)}}function $e(e,t){if(!Ue.hasOwnProperty(e)){Ue[e]=t}}const Ge={default:e=>e.map((e=>c["default"].map(e,(({name:e})=>e)).join())),"file-name":e=>e.map((e=>c["default"].map(e,(({file:e})=>e?e.name:"")).join())),"file-type":e=>e.map((e=>c["default"].map(e,(({file:e})=>e?e.type:"")).join())),"file-size":e=>e.map((e=>c["default"].map(e,(({file:e})=>e?e.size:"")).join())),"file-lastmodified":e=>e.map((e=>c["default"].map(e,(({file:e})=>e?e.lastModified:"")).join())),path:e=>e.map((e=>c["default"].map(e,(({path:e})=>e)).join())),dataUrl:e=>e.map((e=>c["default"].map(e,(({dataUrl:e})=>e?e:"")).join()))};function Ve(e,t){if(Ge.hasOwnProperty(e)){return Ge[e](t)}else{return Ge["default"](t)}}function Qe(e,t){if(!Ge.hasOwnProperty(e)){Ge[e]=t}}function Ye(e){return function(t){return p["default"].merge(t).map(e)}}const Xe={default:Ye((e=>e.join())),"join-space":Ye((e=>e.join(" "))),"join-newline":Ye((e=>e.join("\n"))),"join-underscore":Ye((e=>e.join("_"))),sum:Ye((e=>c["default"].reduce(e,((e,t)=>{const r=Number.parseInt(String(t));return c["default"].isNaN(r)?e:e+r}),0))),product:Ye((e=>c["default"].reduce(e,((e,t)=>{const r=Number.parseInt(String(t));return c["default"].isNaN(r)?0:e*r}),1))),and:Ye((e=>c["default"].reduce(e,((e,t)=>e?t:0),true))),or:Ye((e=>c["default"].reduce(e,((e,t)=>e||t?t:e),0))),any:Ye((e=>c["default"].some(e))),all:Ye((e=>c["default"].every(e,Boolean))),none:Ye((e=>c["default"].every(e,(e=>!e))))};function Ze(e,t){if(Xe.hasOwnProperty(e)){return Xe[e](t)}else{return Xe["default"](t)}}function Ke(e,t){if(!Xe.hasOwnProperty(e)){Xe[e]=t}}class Je{constructor(e){const t={};const[r,i]=c["default"].partition(e,Je.isComputed);c["default"](i).reject((({input:e})=>{const t=e?Ne(e.type):3;return t===3})).reduce(((e,{key:t,fileValue:r,input:i,initialValue:a})=>{const n=Ne(i.type);if(n===1){const r=p["default"]();if(a!=null){r(a)}e[t]={computed:false,type:n,value:r}}else if(n===2){const i=p["default"]([]);e[t]={computed:false,type:n,value:Ve(r||"default",i),files:i}}return e}),t);c["default"](r).thru(Je.sortComputed).reduce(((e,{key:t,computed:{keys:r,map:i="default",merge:a="default",args:n}})=>{let o;if(r.length>1){const t=Je.getStreams(e,r);o=Ze(a,t)}else if(r.length===1){o=Je.getStreams(e,r)[0]}if(o){e[t]={computed:true,type:1,value:qe(i,o,n)}}else{e[t]={computed:true,type:1,value:p["default"](`#REF! ${r.join()}`)}}return e}),t);this.streamMap=t;this.fields=c["default"](e).map((({key:e,group:r,input:i,data:a,user:n,fieldSet:o})=>{if(!i){return null}const s=t[e];const l=s.type;return{key:e,group:r,input:i,type:l,data:a,user:n,fieldSet:o,computed:s.computed,widget:_e(l,i.type||"text"),value:s.value,files:s.type===2?s.files:undefined}})).compact().value()}static isComputed(e){return"computed"in e&&e.computed!=null}static isProp(e){return e.type===1}static getStreams(e,t){return c["default"].map(c["default"].compact(c["default"].at(e,t)),(({value:e})=>e))}static depthTest(e,t,r){return c["default"].max(c["default"].map(t,(t=>{const i=c["default"].find(r,c["default"].matches({key:t}));return i&&i.computed?Je.depthTest(e+1,i.computed.keys,r):e})))||0}static sortComputed(e){return c["default"].sortBy(e,(t=>Je.depthTest(0,t.computed.keys,e)))}wrap(e){const t=e;const r={};c["default"].each(t,((e,i)=>{if(i in this.streamMap){this.streamMap[i].value(e);r[i]=this.streamMap[i].value.map((e=>t[i]=e))}}));return r}unwrap(e){c["default"].each(e,(e=>e.end(true)))}serialize(){return c["default"].reduce(this.fields,((e,t)=>{const{key:r,value:i,files:a}=t;if(Je.isProp(t)){const t=i?i():null;if(t!=null){e[0][r]=t}}else{const t=a?a():null;if(t!=null){e[1][r]=t}}return e}),[{},{}])}deserialise(e){c["default"].forEach(e,((e,t)=>{if(t in this.streamMap){this.streamMap[t].value(e)}}))}}function et(e){return new Je(e)}function tt(e,t){return t?c["default"].assign({},e,t):e}function rt({type:e,input:t,widget:r,value:i,files:a},n){if(e===2&&t&&r&&a){return d["default"](r,{field:tt(t,n),value:a})}else if(e===1&&t&&r&&i){return d["default"](r,{field:tt(t,n),value:i})}return null}function it(e,t){return c["default"].map(e,(e=>rt(e,t)))}function at(e){return e.type===1}const nt=new Set(["checkbox","toggle","select","radio"]);function ot(e){var t;return at(e)&&((t=e.input)===null||t===void 0?void 0:t.type)&&!nt.has(e.input.type)}function st(e){return e.type===2}function lt(e){var t;return st(e)&&((t=e.input)===null||t===void 0?void 0:t.type)==="sign"}function ut(e){return e.serialize()[0]}function ct(e,t){e.deserialise(t)}class dt{constructor(e,t,r){this.container=e;this.viewer=t;this.onChange=r;this.startX=0;this.startY=0;this.startDistance=0;this.scale=0;this.boundStart=this.start.bind(this);this.boundMove=this.move.bind(this);this.boundEnd=this.end.bind(this);this.container.addEventListener("touchstart",this.boundStart);this.container.addEventListener("touchmove",this.boundMove);this.container.addEventListener("touchend",this.boundEnd)}touchDistance({touches:e}){return Math.hypot(e[0].pageX-e[1].pageX,e[0].pageY-e[1].pageY)}start(e){if(e.touches.length===2){e.preventDefault();this.startX=.5*(e.touches[0].pageX+e.touches[1].pageX);this.startY=.5*(e.touches[0].pageY+e.touches[1].pageY);this.startDistance=this.touchDistance(e);const t=this.startX+this.container.scrollLeft-this.container.offsetLeft;const r=this.startY+this.container.scrollTop-this.container.offsetTop;this.viewer.style.transformOrigin=`${t}px ${r}px`}}move(e){if(e.touches.length===2){e.preventDefault();const t=this.touchDistance(e);this.scale=t/this.startDistance;this.viewer.style.transform=`scale(${this.scale})`}}end(){if(this.startDistance>0){this.viewer.style.transform="none";this.viewer.style.transformOrigin="unset";this.onChange(this.scale);const e=this.container.getBoundingClientRect();this.container.scrollLeft+=(this.startX-e.left)*(this.scale-1);this.container.scrollTop+=(this.startY-e.top)*(this.scale-1);this.startDistance=0}}destroy(){this.container.removeEventListener("touchstart",this.boundStart);this.container.removeEventListener("touchmove",this.boundMove);this.container.removeEventListener("touchend",this.boundEnd)}}const pt=p["default"]();const ft=pt;ft.map((({uiWidgets:e})=>{o.updateConfig({signFont:"Caveat",stampBtnContext:"alt"});if(e){o.updateConfig(e)}}));var gt;(function(e){e["center"]="center";e["top"]="top";e["topRight"]="topRight";e["topLeft"]="topLeft";e["bottom"]="bottom";e["bottomRight"]="bottomRight";e["bottomLeft"]="bottomLeft"})(gt||(gt={}));var ht;(function(e){e["notification"]="notification";e["confirm"]="confirm";e["login"]="login";e["feedback"]="feedback";e["invite"]="invite";e["component"]="component";e["form"]="form";e["upload"]="upload"})(ht||(ht={}));function mt(){return{body:{background:"linear-gradient(232deg, rgba(119, 171, 203, 0.4) 0%, rgba(255,255,255,1) 58%, rgba(255,255,255,1) 67%, rgba(119, 173, 206, 0.6) 100%)",color:"var(--ui-builder-text)"},default:{background:"#fff",color:"var(--ui-builder-accent)"},lighter:{background:"#fff",color:"var(--ui-builder-accent-lighter)"},darker:{background:"#fff",color:"var(--ui-builder-accent-darker)"},alt:{background:"var(--ui-builder-accent)",color:"#fff"},altLighter:{background:"var(--ui-builder-lighter)",color:"var(--ui-builder-text)"},altDarker:{background:"var(--ui-builder-accent-darker)",color:"#fff"},error:{background:"var(--ui-builder-error)",color:"#fff"},warn:{background:"var(--ui-builder-warn)",color:"#fff"},neutral:{background:"#fff",color:"var(--ui-builder-text)"},user1:{background:"transparent",color:"var(--ui-builder-user1)"},user2:{background:"transparent",color:"var(--ui-builder-user2)"},user3:{background:"transparent",color:"var(--ui-builder-user3)"},user4:{background:"transparent",color:"var(--ui-builder-user4)"},user5:{background:"transparent",color:"var(--ui-builder-user5)"}}}class yt{constructor(e,t,r){this._background=t.background;this._color=t.color;this._style={background:t.background,color:t.color};this._classes={background:R({key:e+"BG",style:{background:t.background}},r),color:R({key:e,style:{color:t.color}},r)}}get background(){return this._background}get color(){return this._color}get style(){return{background:this._style.background,color:this._style.color}}get classes(){return this._classes}}class bt{constructor(e){this.uiSheet=u["default"].createStyleSheet({});const t=c["default"].assign({},mt(),e);this._body=new yt("body_colors",t.body,this.uiSheet);this._default=new yt("default_colors",t.default,this.uiSheet);this._lighter=new yt("lighter_colors",t.lighter,this.uiSheet);this._darker=new yt("darker_colors",t.darker,this.uiSheet);this._alt=new yt("alt_colors",t.alt,this.uiSheet);this._altDarker=new yt("altLighter_colors",t.altDarker,this.uiSheet);this._altLighter=new yt("altDarker_colors",t.altLighter,this.uiSheet);this._error=new yt("error_colors",t.error,this.uiSheet);this._warn=new yt("warn_colors",t.warn,this.uiSheet);this._neutral=new yt("neutral_colors",t.neutral,this.uiSheet);this._user1=new yt("user1_colors",t.user1,this.uiSheet);this._user2=new yt("user2_colors",t.user2,this.uiSheet);this._user3=new yt("user3_colors",t.user3,this.uiSheet);this._user4=new yt("user4_colors",t.user4,this.uiSheet);this._user5=new yt("user5_colors",t.user5,this.uiSheet)}get body(){return this._body}get default(){return this._default}get lighter(){return this._lighter}get darker(){return this._darker}get alt(){return this._alt}get altLighter(){return this._altLighter}get altDarker(){return this._altDarker}get error(){return this._error}get warn(){return this._warn}get neutral(){return this._neutral}get user1(){return this._user1}get user2(){return this._user2}get user3(){return this._user3}get user4(){return this._user4}get user5(){return this._user5}getContextClasses(e){return`${this[e].classes.background} ${this[e].classes.color}`}attach(){this.uiSheet.attach()}destroy(){u["default"].removeStyleSheet(this.uiSheet)}}const xt=p["default"](new bt({}));const wt=xt;function vt(){return{uiAccordionIcon:{},uiAccordionWrapper:{},uiAccordionTitle:{},uiAccordionTitleIcon:{},uiAccordionTitleWrapper:{}}}function St(){return{uiActionCardContent:{},uiActionCardWrapper:{classes:"pa3",style:{width:"100%",height:"100%"}},uiActionCardInnerWrapper:{style:{display:"flex",alignContent:"space-evenly",width:"100%"},styleNS:{width:"75%"}},uiActionCardButton:{style:{maxWidth:"35%"}},uiActionCardHeader:{style:{margin:"unset",flex:"unset",minWidth:"unset",minheight:"unset",textAlign:"left"}},uiActionCardImage:{},uiActionCardImageWrapper:{style:{width:"0px",display:"none"},styleNS:{width:"25%",display:"flex"}},uiActionCardLines:{style:{background:"unset",color:"white"}}}}function It(){return{uiBlockLinesWrapper:{}}}function kt(){return{uiNavButton:{},uiButton:{classes:"shadow-4 ma2",style:{color:wt().default.color,background:wt().default.background,padding:".5rem 2rem",fontWeight:"300",border:"unset",borderRadius:"5px",outline:"none",hover:{"box-shadow":`0 0 0.125rem 0 silver`}}},uiButtonAlt:{classes:"shadow-4 ma2",style:wt().alt.style},uiButtonInfo:{},uiButtonWarn:{style:wt().warn.style},uiButtonError:{style:wt().error.style},uiButtonNeutral:{style:wt().neutral.style}}}function Ct(){return{uiCardGroup:{classes:"flex flex-wrap justify-center pa2"},uiCardWrapper:{style:{color:wt().alt.color,background:wt().alt.background,borderRadius:"10px",boxShadow:"3px 2px 11px lightgrey",width:"13rem",height:"13rem"},classes:"flex flex-column"},uiCardHeader:{classes:"flex-auto",style:{fontSize:"1.25rem",textAlign:"center",fontWeight:"300"}},uiCardContentWrapper:{style:{justifyContent:"center","hover-space-img":{transform:"scale(1.05)"}}},uiCardSubheading:{classes:"ma2 pv1 ph2 flex items-center",style:{fontSize:"1.25rem"}},uiCardIcon:{classes:"fal fa-fw fa-4x ma2",style:{fontSize:"3rem"}},uiCardImage:{classes:"img ma2",style:{transition:"transform 0.1s ease-in-out"}},uiCardCounter:{classes:"top-0 right-0",style:{fontWeight:"600",background:"#f7931c",color:"white",padding:"0.3rem 0.5rem",borderRadius:"24px",marginTop:"-0.45rem",marginRight:"-0.55rem"}},uiCardFooterWrapper:{},uiCardFooterIcon:{},uiCardFooterText:{}}}function Wt(){return{uiDataCardGridWrapper:{classes:"flex flex-column",style:{padding:"0 1rem"},styleNS:{padding:"0 2rem"}},uiDataCardCategoryLabel:{style:{marginLeft:"auto",borderRadius:"1rem",padding:"0.3rem 1rem",alignSelf:"center",textTransform:"uppercase",fontWeight:"300"}},uiDataCardHeader:{style:{fontWeight:"400",fontSize:"2rem"}},uiDataCardHeaderWrapper:{classes:"flex flex-row",style:{marginBottom:"1rem"}},uiDataCardSectionItemLabel:{style:{fontWeight:"300",marginRight:"1rem",minWidth:"9rem"}},uiDataCardSectionItemValue:{style:{opacity:"0.9",fontWeight:"200",marginBottom:"0.5rem","-space-p":{margin:"0"}}},uiDataCardSectionItemWrapper:{style:{display:"inline",marginBottom:"0.5rem"},styleNS:{display:"flex",flexDirection:"row"},styleM:{display:"flex",flexDirection:"row"}},uiDataCardSectionLabel:{style:{fontWeight:"500",marginBottom:"0.5rem",textTransform:"uppercase",fontSize:"0.8rem"}},uiDataCardSectionWrapper:{style:{marginBottom:"2rem"}},uiDataCardWrapper:{classes:"flex-shrink-0 self-center",style:{borderRadius:"10px",boxShadow:"0px 0px 2px 2px #ebf0f5",padding:"2rem",fontSize:"1rem",maxWidth:"60rem",marginBottom:"2rem",width:"100%",height:"unset",background:"white"}},uiDataCardButton:{style:{marginLeft:"auto"}}}}function Dt(){return{uiDialogContextAlt:{style:wt().alt.style},uiDialogContextDefault:{style:wt().default.style},uiDialogContextNeutral:{style:wt().neutral.style},uiDialogContextWarn:{style:wt().warn.style},uiDialogContextError:{style:wt().error.style},uiDialogWrapper:{style:{maxHeight:"100%",borderRadius:"10px",overflowY:"auto"}},uiDialogLoginWrapper:{style:{position:"relative",minHeight:"20%",animationIterationCount:"3"}},uiDialogNotificationWrapper:{style:{borderRadius:"10px",pointerEvents:"auto",boxShadow:"0px 3px 3px -2px rgba(0,0,0,0.2), 0px 3px 4px 0px rgba(0,0,0,0.14), 0px 1px 8px 0px rgba(0,0,0,0.12)"}},uiDialogIcon:{},uiDialogTitle:{},uiDialogText:{},uiDialogButtonWrapper:{style:{position:"relative",justifySelf:"flex-end"}},uiDialogFeedbackWrapper:{style:{background:wt().default.background}},uiDialogFeedbackTitle:{style:{color:wt().default.color}},uiDialogFeedbackSubTitle:{style:{color:wt().default.color}},uiDialogFeedbackBodyText:{style:{color:wt().default.color}},uiDialogFeedbackLabel:{},uiDialogFeedbackButtonWrapper:{style:{backgroundColor:"#c7c7c7",position:"relative",justifySelf:"flex-end"}},uiDialogInviteWrapper:{style:{background:wt().default.background}},uiDialogInviteTitle:{style:{color:wt().default.color}},uiDialogInviteSubTitle:{style:{color:wt().default.color}},uiDialogInviteBodyText:{style:{color:wt().default.color}},uiDialogInviteLabel:{},uiDialogInviteActionAreaWrapper:{style:{backgroundColor:"#c7c7c7",position:"relative",justifySelf:"flex-end"}},uiDialogInviteConfirmButton:{},uiDialogInviteCancelButton:{},uiDialogInviteInputWrapper:{},uiDialogLinkButton:{style:{background:"unset"}},uiDialogCancelButton:{classes:"mr2"},uiDialogConfirmButton:{classes:"mr2"},uiDialogFailMessage:{style:{fontSize:"1.1rem"},styleNS:{fontSize:"1.2"}},uiDialogComponentCancelButton:{style:{position:"absolute !important",top:"10px",right:"10px"}},uiDialogUploadSubmitButton:{classes:"w-100",style:{margin:"unset",borderRadius:"5px",fontSize:"1.5rem",fontWeight:"200",background:"#5ecca3",color:"white",padding:"0.9rem 2rem"}},uiDialogUploadFileButton:{classes:"f6",style:{margin:"0.5rem",padding:"0.5rem 2.5rem",borderRadius:"6px",background:"white",color:"#5ecca3",border:`solid 2px #5ecca3`}},uiDialogUploadIcon:{classes:"fa-thin fa-file f3",style:{}},uiDialogUploadFileWrapper:{classes:"mb2",style:{alignItems:"center"}},uiDialogUploadFileDeleteIcon:{classes:"fa-solid fa-xmark",style:{color:" #e47373",marginLeft:"auto",alignSelf:"baseline",marginTop:"5px"}},uiDialogUploadFileDeleteIconInvalid:{style:{color:"#e47373"}},uiDialogUploadFileType:{style:{borderRadius:"50%",border:`solid #5ecca3 1px`,color:"#5ecca3",background:"white",padding:".9rem",alignSelf:"center",height:"2.3rem",width:"2.3rem",textAlign:"center",justifyContent:"center",alignContent:"center",display:"grid",fontSize:"0.8rem"}},uiDialogUploadFileTypeSmall:{style:{borderRadius:"50%",border:`solid 1px`,background:"white",padding:".9rem",alignSelf:"center",height:"1.2rem",width:"1.2rem",textAlign:"center",justifyContent:"center",alignContent:"center",display:"grid",fontSize:"0.6rem"}},uiDialogUploadFileTypeInvalid:{style:{border:`solid #e47373 1px`,color:"#e47373"}},uiDialogUploadFileSize:{style:{fontSize:"0.8rem"}},uiDialogUploadFileSizeInvalid:{style:{color:"#e47373"}},uiDialogUploadWarning:{style:{color:"#e47373"}},uiDialogUploadOpenButton:{classes:"w5",style:{border:"solid black 1px",color:"black",boxShadow:"unset"}},uiDialogUploadFileIconLeft:{style:{color:"#5dcda4"}},uiDialogUploadNotesWrapper:{},uiDialogUploadNotesInputWrapper:{style:{background:"transparent",border:"solid #5dcda4 1px",borderRadius:"6px"}},uiDialogUploadNotesInput:{style:{color:"black"}},uiDialogUploadNotesLabel:{style:{color:"#5dcda4"}}}}function Lt(){return{uiCustomHeader:{},uiHeaderWrapper:{style:{maxWidth:"100%",background:"white",boxShadow:"2px 2px 5px #ebf0f5"}},uiHeader:{style:wt().default.style},uiSubheader:{style:{height:"3rem",color:wt().default.color,background:"transparent"}},uiFooter:{style:{maxWidth:"100%",height:"3rem",boxShadow:"0px 0px 2px 2px #ebf0f5",background:"white"}}}}function Tt(){return{uiIcon:{}}}function Ft(){return{uiInputWrapper:{style:{focus:{"border-color":wt().lighter.color},background:"#efefef",padding:".3rem"}},uiInput:{classes:"bn fw2 hide-input-clear"},uiInputFieldset:{classes:"mb2",style:{marginInline:"0"}},uiInputLabel:{},uiInvalidInputWrapper:{classes:"bg-washed-red"},uiFloatLabelPlaceholder:{},uiInvalidCheckboxWrapper:{classes:"red"}}}function Pt(){return{uiItemListTitleIcon:{style:{cursor:"pointer"}},uiItemListTitleIconOpen:{classes:"far fa-plus-square mr2"},uiItemListTitleIconClose:{classes:"far fa-minus-square mr2"},uiItemListAccordionIcon:{style:{fontSize:"1.5rem"}},uiItemListTitle:{style:{fontSize:"1.5rem",fontWeight:"300"}},uiItemListGroupLabel:{classes:"mh2 mv3",style:{color:wt().default.color}},uiItemListAccordionTitleWrapper:{style:{marginBottom:"1rem"}},uiItemListAccordionTitleWrapperOpen:{},uiItemListAccordionTitleWrapperClosed:{},uiItemListAccordionWrapper:{classes:"flex flex-column items-left",style:{transition:"height 0.5s ease 0.1s",overflow:"hidden",width:"100%",border:"1px solid grey",padding:"0px 1rem"}},uiItemListContainer:{classes:"flex flex-column flex-auto overflow-x-hidden overflow-y-auto"},uiItemListTableUploaderWrapper:{classes:"flex flex-column"},uiItemTableContainer:{classes:"flex-auto flex flex-column pa2"},uiItemTableMaxHeight:{style:{height:"24rem"}},uiItemTableIcon:{style:{color:"black"}},uiItemTableIconSelect:{style:{textAlign:"right"}},uiItemGridContainer:{classes:"flex-auto overflow-x-hidden overflow-y-auto"},uiItemRowWrapper:{classes:"flex flex-column flex-row-ns ma2 pv2 bb b--black-20"},uiItemRowNewWrapper:{classes:"flex flex-row",style:{marginRight:"auto",marginLeft:"2rem"}},uiItemRowNewMessage:{classes:"",style:{color:wt().default.color,textTransform:"uppercase",paddingTop:"0.1rem"}},uiItemRowNewIcon:{classes:"fas fa-star",style:{alignSelf:"center"}},uiItemRowInnerWrapper:{classes:"flex-auto flex flex-row items-center pointer",style:{color:"black"}},uiItemRowHeaderWrapper:{classes:"flex-auto"},uiItemButtonsWrapper:{},uiItemButtonsInnerWrapper:{},uiItemActionButton:{classes:"pa1 mr2"},uiItemHeading:{},uiItemSubheading:{classes:"flex flex-wrap f6 ws-normal",style:{color:wt().default.color}},uiItemEditWrapper:{},uiItemEditHeader:{},uiItemEditIcon:{},uiItemEditLabel:{},uiItemEditButton:{},uiItemEditFormWrapper:{},uiItemViewWrapper:{},uiItemViewRowWrapper:{},uiItemViewIcon:{},uiItemViewField:{},uiCategoryItemWrapper:{},uiCategoryItemIcon:{},uiCategoryItemLabel:{},uiCategoryItemMarker:{},uiCategoryItemArrow:{},uiItemListTableNewCounter:{classes:"pa2 mh1 mv2 f7 tc br-pill",style:{background:"#d02226",color:"white",boxShadow:"0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%)"}}}}function jt(){return{uiLayout:{style:{background:"transparent"}},uiPostContentWrapper:{classes:"flex flex-wrap items-center flex-column w-100"},uiPreContentWrapper:{classes:"flex flex-wrap items-center flex-column w-100"}}}function Bt(){return{uiLoginResetReturn:{},uiLoginResetHeader:{},uiLogin:{classes:"measure-wide center",style:{padding:"2rem",border:"2px solid #dcdedf",borderRadius:"10px",marginTop:"3rem",boxShadow:"1px 1px 6px #80808036"}},uiLoginForm:{},uiLoginFormReset:{},uiLoginPreForm:{},uiLoginButtonWrapper:{classes:"justify-between"},uiLoginButton:{style:wt().alt.style},uiLoginFormInputWrapper:{},uiLoginLines:{},uiLoginInputFieldset:{},uiLoginHeader:{},uiLoginResetButton:{},uiLoginPostLines:{},uiLoginWrapper:{classes:"pa2",style:{width:"100%"}},uiLoginInputLabel:{},uiLoginInputWrapper:{classes:"pa2",style:{border:"2px solid #dcdedf",borderRadius:"5px",margin:"10px 0px",minWidth:"15rem"}},uiLoginInputWrapperReset:{},uiLoginInput:{},uiLoginInputFieldsetDob:{},uiLoginInputFieldsetPostcode:{},uiLoginInputFieldsetPin:{}}}function Ot(){return{uiNavbarDropDownWrapper:{classes:"flex self-stretch flex-column ml2 mr3"},uiNavbarDropDownMenu:{classes:"h-100 flex-shrink-0 flex items-center ph2 pointer"},uiNavbarDropDownMenuContent:{classes:"flex flex-column bg-white tr shadow-2",style:Object.assign(Object.assign({},wt().default.style),{zIndex:"999"})},uiNavbarCopyright:{},uiNavbarImage:{},uiNavbarLink:{classes:"mh2 self-stretch flex items-center"},uiNavbarLinkActive:{classes:"underline"},uiNavbarLogout:{classes:"ph3 pv0",style:{height:"2rem",borderRadius:"5px",marginBottom:"auto",marginTop:"auto"}},uiNavbarLogoutIcon:{style:{color:"inherit"}},uiNavbarLogoutLabel:{style:{color:"inherit"}},uiNavbarName:{},uiNavbarNameVersion:{},uiNavbarPoweredBy:{},uiNavbarProgress:{},uiNavbarSalutation:{},uiNavbarText:{},uiNavbarVersion:{}}}function At(){return{uiPanel:{},uiPanelHeader:{classes:"flex justify-between items-center flex-shrink-0",style:{color:wt().default.color,background:"transparent",position:"relative"}},uiPanelSubheader:{classes:"flex-shrink-0"},uiPanelHeaderButton:{},uiPanelHeaderWrapper:{},uiPanelHeaderComponent:{},uiPanelHeaderComponentWrapper:{classes:"flex flex-column flex-row-ns",style:{alignItems:"center",justifyContent:"space-between",width:"60%"},styleNS:{alignItems:"center",justifyContent:"space-between",width:"65%"}}}}function Rt(){const e="bl bw2";return{uiPdfViewerWrapper:{style:{maxHeight:"100%"}},uiPdfFieldOverlay:{style:{background:"transparent"}},uiPdfActiveFieldOverlay:{classes:e,style:{background:"transparent"}},uiPdfFieldOverlayUser1:{classes:e,style:{borderColor:wt().user1.color}},uiPdfFieldOverlayUser2:{classes:e,style:{borderColor:wt().user2.color}},uiPdfFieldOverlayUser3:{classes:e,style:{borderColor:wt().user3.color}},uiPdfFieldOverlayUser4:{classes:e,style:{borderColor:wt().user4.color}},uiPdfFieldOverlayUser5:{classes:e,style:{borderColor:wt().user5.color}},uiPdfFormGroupInfoItemWrapper:{classes:"mh2 mb3"},uiPdfFormGroupInfoItemInner:{classes:"pa2 pointer",style:{whiteSpace:"nowrap",margin:"0 2rem",letterSpacing:"0.9px"}},uiPdfTopBar:{style:wt().alt.style},uiPdfBackButton:{},uiPdfZoomInButton:{},uiPdfZoomOutButton:{},uiPdfDownloadButton:{},uiPdfPanel:{style:{background:"#777777"}},uiPdfBottomBar:{style:We({minHeight:"6rem"},wt().alt.style)},uiPdfBottomBarText:{style:wt().alt.style},uiPdfSubheader:{style:wt().alt.style},uiPdfStartButton:{style:We(wt().alt.style,{position:"absolute !important",width:"4.8rem",height:"4.8rem",top:"-2.4rem"})},pdfFooterEditPreText:{classes:"ma1 f5 tc",style:{letterSpacing:"1px"}},pdfFooterEditPostText:{classes:"ma1 f5 tc",style:{}},pdfFooterEditNavigate:{style:{fontSize:"2rem",margin:"0px 0.2rem 0.6rem 0.2rem",color:"#232323"}},uiPdfStatusIcon:{classes:"green"},uiPdfStatusIconWarn:{classes:"orange"},uiPdfSyncButtonWrapper:{},uiPdfFooterInputWrapper:{style:{background:"white !important","-chevron-div":{border:"none"},"-chevron-form":{border:"none"}}},uiPdfFooterSignButton:{classes:"pulse z-999"},uiPdfFooterWrapper:{classes:"flex flex-column",style:{"-space-label":{margin:"0 auto"}}},uiPdfFieldInvalidOverlay:{},uiPdfSaveAndExitButton:{},uiPdfFooterFormWrapper:{classes:"f3 ma1",style:{minWidth:"calc(100vw - 11rem)"},styleM:{minWidth:"20rem",maxWidth:"36rem"},styleL:{minWidth:"36rem"}}}}function Mt(){return{uiProgressFlowWrapper:{},uiProgressFlowStepWrapper:{style:{margin:"1rem"}},uiProgressFlowArrowWrapper:{style:{position:"relative",top:"4rem",height:"4rem"},styleNS:{width:"4rem"}},uiProgressFlowArrow:{style:{height:"100%",width:"4rem",transform:"rotate(90deg)",fill:wt().default.color},styleNS:{transform:"rotate(0deg)"}},uiProgressTextWrapper:{style:{marginTop:"1.5rem"}},uiProgressCardIndicator:{style:{position:"relative",height:"3.6rem",width:"5rem",borderRadius:"50%",border:"solid 1px white"}},uiProgressCardWrapper:{style:{textAlign:"center",padding:"1rem"}},uiProgressCardSubheading:{style:{textAlign:"start",fontWeight:"200",opacity:"0.8"}},uiProgressCardHeading:{style:{textAlign:"start",fontWeight:"600",fontSize:"1.25rem",textTransform:"uppercase"}},uiProgressCardWarn:{style:{color:"#5a5a5a",background:"#f9ceba"}},uiProgressCardWaiting:{style:{color:"#5a5a5a",background:"#f9ceba"}},uiProgressCardError:{style:{color:"#5a5a5a",background:"#f5b7b8"}},uiProgressCardComplete:{style:{color:"#5a5a5a",background:"#d1e6c7"}},uiProgressCardIncomplete:{style:{color:"#5a5a5a",background:"#bfdbf1"}},uiProgressCardIconWarn:{style:{color:wt().warn.color,background:wt().warn.background,boxShadow:`0px 0px 0px 2px ${wt().warn.background}`}},uiProgressCardIconWaiting:{style:{color:wt().warn.color,background:wt().warn.background,boxShadow:`0px 0px 0px 2px ${wt().warn.background}`}},uiProgressCardIconError:{style:{color:wt().error.color,background:wt().error.background,boxShadow:`0px 0px 0px 2px ${wt().error.background}`}},uiProgressCardIconComplete:{style:{color:"#fff",background:"#94c47d",boxShadow:"0px 0px 0px 2px #94c47d"}},uiProgressCardIconIncomplete:{style:{color:"#fff",background:"#70acdf",boxShadow:"0px 0px 0px 2px #70acdf"}}}}function _t(){return{uiSearchBoxWrapper:{},uiSearchBoxIcon:{style:{color:wt().default.color}},uiSearchBoxInput:{},uiSearchBoxClearIcon:{style:{color:wt().default.color}}}}function Nt(){return{uiStatusCheckWrapper:{},uiStatusCheckIconWrapper:{classes:"flex-shrink-0",style:{height:"5rem",width:"5rem",margin:"0 1rem"}},uiStatusCheckIcon:{},uiStatusCheckHeading:{style:{fontWeight:"600",fontSize:"1.25rem",marginBottom:"0.5rem",color:wt().body.color}},uiStatusCheckSubheading:{style:{fontWeight:"200",opacity:"0.6","-space-p":{margin:"0"}}},uiStatusCheckTextWrapper:{classes:"flex flex-column justify-center"}}}function Et(){return{uiTable:{style:{}},uiAgGrid:{style:{}},uiTableHeader:{classes:"flex-auto",style:{fontWeight:"400"}},uiAgGridHeader:{classes:"flex-auto",style:{fontWeight:"400"}},uiTableHeaderCell:{style:{color:wt().alt.color,opacity:"1",fontWeight:"400",borderRight:"1px solid white"}},uiAgGridHeaderCell:{style:{color:wt().alt.color,opacity:"1",fontWeight:"400",borderRight:"1px solid white"}},uiTableHeaderIcon:{style:{color:wt().alt.color,marginRight:"5px",paddingTop:"2px"}},uiAgGridHeaderIcon:{style:{color:wt().alt.color,marginRight:"5px",paddingTop:"2px"}},uiTableHeaderCellContainer:{style:{flexDirection:"row"}},uiAgGridHeaderCellContainer:{style:{flexDirection:"row"}},uiTableColsClipper:{style:{minHeight:"43px",marginBottom:"1rem"}},uiAgGridColsClipper:{style:{minHeight:"43px",marginBottom:"1rem"}},uiAgThemeAlpine:{style:{fontFamily:"unset"}},uiAgGridThemeAlpine:{style:{fontFamily:"unset"}},uiAgBodyViewport:{},uiAgGridBodyViewport:{},uiTableCell:{},uiAgGridCell:{},uiTableWrapper:{},uiAgGridWrapper:{},uiTableRow:{},uiAgGridRow:{},uiTableItemDate:{},uiCellRendererItemDate:{},uiTableItemTime:{},uiCellRendererTime:{},uiTableItemTitle:{},uiCellRendererTitle:{},uiTableItemType:{},uiCellRendererType:{},uiTableItemSize:{},uiCellRendererSize:{},uiCellRenderDateTimeContainer:{style:{height:"100%",width:"100%"}}}}function Ht(){return{uiCarouselWrapper:{style:{overflowY:"auto",width:"100vw","space-chevron-space-first-child":{marginLeft:"auto"},"space-chevron-space-last-child":{marginRight:"auto"}}}}}const zt={border:"none",borderRadius:"50%",marginTop:"7px",height:"3rem",width:"3rem",top:"0",right:"0",background:"#66c880",boxShadow:"0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%)"};function Ut(){return{uiFabWrapper:{classes:"absolute flex flex-column",style:{position:"absolute",right:"0.5rem"}},uiFab:{style:Object.assign(Object.assign({},zt),{background:"#66c880"})},uiFabActive:{style:Object.assign(Object.assign({},zt),{background:"orange"})},uiAnimatedFabWrapper:{style:Object.assign(Object.assign({},zt),{background:"#66c880"})},uiAnimatedFabItemWrapper:{style:{justifyContent:"space-between",maxWidth:"12rem",background:"#66c880",position:"relative",transition:"opacity 0.3s, width 0.4s ease-out",opacity:"0",width:"0",maxHeight:"0",marginTop:"0",padding:"0"}},uiAnimatedFabCounterWrapper:{style:{height:"1.5rem",width:"1.5rem",background:"orange",borderRadius:"50%",position:"absolute",right:"-0.25rem",textAlign:"center",display:"grid",alignItems:"center",justifyItems:"center",boxShadow:"0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%)"}},uiRequestPartyFabWrapper:{},uiRequestIndividualPartyWrapper:{},uiFileFabWrapper:{},uiFileFabFileWrapper:{}}}function qt(){return{uiOverlaySpinnerWrapper:{style:{top:"0",left:"0",background:"black",color:"white",width:"100vw",height:"100vh",zIndex:"999",transition:"opacity 0.3s ease-in"}},uiOverlaySpinnerInnerWrapper:{style:{margin:"auto"}},uiOverlaySpinnerIcon:{classes:"fa fa-spinner fa-pulse fa-3x fa-fw"},uiOverlaySpinnerText:{}}}function $t(){return{uiActiveUsersWrapper:{classes:"right-0 z-max",style:{position:"absolute",top:"3rem"}},uiActiveUser:{classes:"ma1",style:{width:"20px",height:"20px",fontSize:"8px",borderRadius:"50%",textAlign:"center",alignItems:"center",justifyContent:"center",display:"flex",color:"white",border:"solid 3px",boxShadow:"0px 0px 8px 0px #000000"},styleNS:{width:"40px",height:"40px",fontSize:"14px",boxShadow:"0px 0px 8px 0px #000000"},styleL:{boxShadow:"0px 0px 8px 0px rgba(255,255,255,0.75)"}}}}function Gt(){return{uiFieldListSelectWrapper:{style:{height:"3rem",border:"2px dashed black",margin:"10px 0px"}},uiFieldListSelectInnerWrapper:{style:{display:"grid",gridTemplateColumns:"90% auto",width:"100%",textAlign:"center",justifyContent:"center",alignContent:"center",height:"100%",position:"relative",background:"white"}},uiFieldListSelectFieldInputWrapper:{style:{margin:"0px",background:"transparent","-space-label":{padding:"1rem"},"-space-label-space-i":{background:"white"},padding:"0px"}},uiFieldListSelectFieldWrapper:{style:{minWidth:"calc(100vw - 11rem)",margin:"0px -2px",padding:"0px"},styleM:{minWidth:"20rem",maxWidth:"36rem"},styleL:{minWidth:"36rem"}},uiFieldListSelectIcon:{classes:"fa fa-chevron-down",style:{transition:"transform 0.3s ease-out",alignSelf:"end",marginRight:"10px",background:"white"}},uiFieldListWrapper:{style:{bottom:"4.125rem",transform:"translateX(-2px)",background:"#efefef",boxShadow:"0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%)",transition:"opacity 0.2s ease-in"}}}}function Vt(){return{uiPaymentFailureMain:{}}}function Qt(){return{uiOdometerNegative:{style:{background:"var(--ui-builder-error)",color:"var(--ui-builder-text)"}},uiOdometer:{classes:"br2"},uiOdometerPositive:{style:{background:"var(--ui-builder-text)",color:"white"}},uiOdometerLabel:{classes:"mr1"},uiOdometerWrapper:{classes:"flex items-center h-100"}}}function Yt(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({body:{style:wt().body.style}},qt()),Ct()),kt()),Tt()),Ft()),jt()),Lt()),At()),Bt()),Et()),Dt()),Ot()),Mt()),St()),vt()),Nt()),Wt()),Pt()),Rt()),It()),_t()),Ht()),Ut()),$t()),Gt()),Vt()),Qt()),{uiDisabled:{style:{filter:"grayscale(0.9)",opacity:"0.4"}}})}function Xt(){return c["default"].mapValues(Yt(),((e,t)=>t))}p["default"](Xt());u["default"].createStyleSheet({});function Zt(e){const t=e.type===ht.notification?3e3:0;const r={context:"alt",duration:t,position:gt.top,applyTheme:{},priority:false,closeDialog:false};return Object.assign(Object.assign({},r),e)}class Kt{constructor(){this.priorityQueue=[];this.notificationQueue=[];this.confirmQueue=[];this.loginQueue=[];this.queue=[];this.active=p["default"](false);this.visible=p["default"](false);window.addEventListener("hashchange",(()=>{this.queue=[];this.loginQueue=[];this.confirmQueue=[];this.priorityQueue=[];this.notificationQueue=[];this.activeDialog=undefined;this.active(false)}))}get config(){return this._config}get getQueue(){return this.queue}get getActiveDialog(){return this.activeDialog}insert(e){if(e.priority)this.priorityQueue.push(e);else if(e.type===ht.notification)this.notificationQueue.push(e);else if(e.type===ht.confirm)this.confirmQueue.push(e);else if(e.type===ht.login)this.loginQueue.push(e);else this.notificationQueue.push(e);this.queue=c["default"].concat(this.priorityQueue,this.loginQueue,this.confirmQueue,this.notificationQueue)}closeActive(){this.active(false)}next(){if(!this.visible()&&!this.active()&&this.queue.length){this.activeDialog=this.queue[0];this._config=Zt(this.activeDialog);if(this.activeDialog.priority)this.priorityQueue.shift();else if(this.activeDialog.type===ht.notification)this.notificationQueue.shift();else if(this.activeDialog.type===ht.confirm)this.confirmQueue.shift();else if(this.activeDialog.type===ht.login)this.loginQueue.shift();else this.notificationQueue.shift();this.queue.shift();this.active(true);this.visible(true)}}}p["default"]();new Kt;function Jt(){window.location.reload()}var er=this&&this.__awaiter||function(e,t,r,i){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i["throw"](e))}catch(e){n(e)}}function l(e){e.done?r(e.value):a(e.value).then(o,s)}l((i=i.apply(e,t||[])).next())}))};function tr(e,t){if(e===403){return`Unable to access ${t}`}else if(e===404){return`${t} not found`}else{return`Error loading ${t}`}}function rr(){const e=ft().auth;const t=(e===null||e===void 0?void 0:e.documentRequestAuth)||{};if(typeof t==="string"){return JSON.parse(t)}return t}class ir{constructor(){this.overlayList=[];this.action={_id:"",label:"",type:"form",url:"./",complete:""};this.state={}}init(e){f["default"].GlobalWorkerOptions.workerSrc="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.14.305/legacy/build/pdf.worker.min.js";return new Promise(((t,r)=>{s.getDocument(Object.assign(Object.assign({},e),{httpHeaders:rr(),standardFontDataUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@2.14.305/standard_fonts/"})).promise.then((e=>{this.pdf=e;t(this)}),(e=>{if(/server response \(440\)/g.test(e)){Jt()}else if(/server response \(403\)/g.test(e)){r(403)}else if(/Missing PDF/g.test(e)){r(404)}else{r(400)}}))}))}destroy(){this.pdf.destroy()}parseCustomMetadata(){return new Promise(((e,t)=>{this.pdf.getMetadata().then((t=>{if("Custom"in t.info){const e=t.info.Custom;this.metadata=c["default"].reduce(e,((e,t,r)=>{if(t&&c["default"].startsWith(t,"{")){try{const i=JSON.parse(t);switch(i.type){case"overlay":e.overlays[r]=i;this.overlayList.push(i);break;case"form":e.overlays[r]=i;this.action=i;break;case"comp":e.overlays[r]=i;this.custom=i;break;default:e.documentState=i;this.state=i}}catch(e){c["default"].noop(e)}}return e}),{documentState:{},overlays:{}})}e(this)}),t)}))}}function ar(e){return er(this,void 0,void 0,(function*(){const t=new ir;const r=typeof e==="string"?{url:e}:e;yield t.init(r);return t}))}function nr({x1:e,y1:t,x2:r,y2:i},a){return{left:e,top:a-i,width:r-e,height:i-t}}class or{constructor(e,{theme:t,subgroups:r={}}={theme:{}}){this._layoutList=[];this._layoutClass=R(t);const i=c["default"].groupBy(e,"data.subgroup");const a=new Set;c["default"].forEach(e,(e=>{var t;const n=(t=e.data)===null||t===void 0?void 0:t.subgroup;if(n&&n in r){if(!a.has(n)){this._layoutList.push(new or(i[n],r[n]));a.add(n)}}else{this._layoutList.push(e)}}))}get layoutClass(){return this._layoutClass}get layoutList(){return this._layoutList}}function sr(e,t={}){return d["default"]("div",{class:t.wrapperClass,style:Object.assign(Object.assign({},t.style),{gridRow:t.row,gridColumn:t.col})},e)}function lr(e,t,r){return d["default"]("div",{class:e.layoutClass},c["default"].map(e.layoutList,(e=>{if("key"in e&&"type"in e){if(t){const i=c["default"].merge({},t.getState(e.data),r);return sr(rt(e,i),e.data)}else{return sr(rt(e),e.data)}}else{return lr(e,t,r)}})))}class ur{constructor(e,t){this.trackMap=new Map;this.evaluateCondition=(e,[t,r])=>{if(e==null){return false}switch(t){case">":return Number(e)>Number(r);case"<":return Number(e)<Number(r);case">=":return Number(e)>=Number(r);case"<=":return Number(e)<=Number(r);case"===":return e===r;case"!==":return e!==r}};t.forEach((({observe:t,update:r=[]})=>{if(t in e.streamMap){this.trackMap.set(t,e.streamMap[t].value());e.streamMap[t].value.map((i=>{this.trackMap.set(t,i);r.forEach((({key:t,truthy:r,falsy:a,condition:n})=>{if(!e.streamMap[t]){console.error(`Key "${t}" from formState config not found`);return}if(t in e.streamMap){const o=n?this.evaluateCondition(i,n):Boolean(i);if(o&&r!=null){e.streamMap[t].value(r)}if(!o&&a!=null){e.streamMap[t].value(a)}}}))}))}}))}get observeMap(){return this.trackMap}setValue(e,t){return this.trackMap.set(e,t)}getValue(e){return this.trackMap.get(e)}getState(e={}){const{observe:t,truthy:r,falsy:i,condition:a}=e;if(t){const e=this.trackMap.get(t);const n=a?this.evaluateCondition(e,a):Boolean(e);if(n&&r){return ur.stateMap[r]}if(!n&&i){return ur.stateMap[i]}}return{}}}ur.stateMap={required:{required:true},readonly:{readonly:true},disabled:{disabled:true},dn:{uiClass:{wrapper:"dn"}}};function cr(e){const t=document.querySelector(":root");e.forEach((({key:e,value:r})=>{t.style.setProperty(e,r)}))}function dr(e){const t=[];let r,i=0;while((r=e.indexOf("${",i))!==-1){const a=e.indexOf("}",i)+1;const n=t[t.length];if(a===0){throw new Error("Badly formatted tokens!")}if(r>a){throw new Error("Badly formatted tokens!")}if(n&&n[0]&&n[1]&&r===n[0]&&a===n[1]){throw new Error("Badly formatted tokens!")}t.push([r,a]);i=a}return t}function pr(e,t){const r=dr(e);return c["default"].reduceRight(r,((e,[r,i])=>{const a=e.slice(r+2,i-1);const n=t[a];if(n){e=e.slice(0,r)+n+e.slice(i)}return e}),e)}function fr(e,t){if(c["default"].isString(e)){return pr(e,t)}if(c["default"].isArray(e)){return c["default"].map(e,(e=>fr(e,t)))}if(c["default"].isPlainObject(e)){return c["default"].mapValues(e,(e=>fr(e,t)))}return e}function gr(e,t){return fr(t,e)}function hr(e,t="",r={}){c["default"](e).entries().forEach((([e,i])=>{const a=t?`${t}.${e}`:e;if(typeof i==="string"){r[a]=i}else if(typeof i==="object"){hr(i,a,r)}}));return r}function mr(e,t,r){return c["default"].map(e,(e=>gr(e,r(e,t))))}e.FormBuilder=Je;e.FormLayout=or;e.FormState=ur;e.PinchZoom=dt;e.ResponsiveThemeHandler=_;e.applyFileMap=Ve;e.applyMap=qe;e.applyMerge=Ze;e.applyTemplate=gr;e.assembleFormField=rt;e.assembleFormFieldList=it;e.buildComponent=Pe;e.buildComponentList=je;e.buildFormFields=et;e.buildFormLayout=lr;e.buildTemplates=mr;e.buttonContextMapper=E;e.canEdit=le;e.cellRendererMap=De;e.createResponsiveClass=R;e.deepMerge=We;e.deserialise=ct;e.extractFields=fe;e.fileExt=ye;e.fileExtNameOnly=be;e.fileIcon=me;e.filterByProperty=ie;e.flattenObject=hr;e.formatDate=z;e.formatTime=U;e.getDocumentRequestAuthHeaders=rr;e.getFileStream=ve;e.getFileValue=xe;e.getFiles=we;e.getISODate=q;e.getProp=Se;e.getPropStream=Ce;e.hasValue=ue;e.humaniseByteCount=pe;e.humaniseErrorCode=tr;e.humaniseTimeValue=$;e.isFileField=st;e.isPropField=at;e.isSignField=lt;e.isTextField=ot;e.itemsForCategory=se;e.joinClasses=N;e.mapMixin=ze;e.mapToObject=ce;e.mergeMixin=Ye;e.parseDateStr=G;e.parseDateTimeStr=Q;e.parseDateTimeValue=Z;e.parseDateValue=Y;e.parseIso=H;e.parseTimeStr=V;e.parseTimeValue=X;e.pdfViewerFactory=ar;e.pickById=te;e.pickByIdStream=re;e.pickByProperty=ee;e.reassignCssVariables=cr;e.rectToHtml=nr;e.registerCellRenderer=Fe;e.registerComponent=Te;e.registerFileMapFn=Qe;e.registerMapFn=$e;e.registerMergeFn=Ke;e.removeByProperty=ae;e.serialise=ut;e.setMap=de;e.simpleResponse=ge;e.smallDevice=J;e.streamArrayPullAt=ke;e.streamArrayPush=Ie;e.tinyDevice=K;Object.defineProperty(e,"__esModule",{value:true})}));
