/* @preserve built on: 2023-11-22T19:29:53.570Z */
(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports,require("mithril/stream"),require("lodash"),require("@sdxmessaging/ui-widgets"),require("mithril"),require("jss"),require("luxon"),require("pdfjs-dist")):typeof define==="function"&&define.amd?define(["exports","mithril/stream","lodash","@sdxmessaging/ui-widgets","mithril","jss","luxon","pdfjs-dist"],t):(e=typeof globalThis!=="undefined"?globalThis:e||self,t(e.uiBuilder={},e.m.stream,e._,e.uiWidgets,e.m,e.jss,e.luxon,e.pdfjsLib))})(this,(function(e,t,i,r,a,n,s,o){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var l=u(t);var c=u(i);var d=u(a);var p=u(n);class f{constructor(e,t){this.stream=l.default();this.method=c.default.debounce((e=>this.stream(e)),e,t)}destroy(){this.method.cancel();this.stream.end(true)}}var m;(function(e){e["center"]="center";e["top"]="top";e["topRight"]="topRight";e["topLeft"]="topLeft";e["bottom"]="bottom";e["bottomRight"]="bottomRight";e["bottomLeft"]="bottomLeft"})(m||(m={}));var g;(function(e){e["notification"]="notification";e["confirm"]="confirm";e["login"]="login";e["feedback"]="feedback";e["invite"]="invite";e["component"]="component";e["form"]="form";e["upload"]="upload"})(g||(g={}));const h=l.default();const b=h;b.map((({uiWidgets:e})=>{r.updateConfig({signFont:"Caveat",stampBtnContext:"alt"});if(e){r.updateConfig(e)}}));const y={border:"none",borderRadius:"50%",marginTop:"7px",height:"3rem",width:"3rem",top:"0",right:"0",background:"#66c880",boxShadow:"0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%)"};function x(){return{uiFabWrapper:{classes:"absolute flex flex-column",style:{position:"absolute",right:"0.5rem"}},uiFab:{style:Object.assign(Object.assign({},y),{background:"#66c880"})},uiFabActive:{style:Object.assign(Object.assign({},y),{background:"orange"})},uiAnimatedFabWrapper:{style:Object.assign(Object.assign({},y),{background:"#66c880"})},uiAnimatedFabItemWrapper:{style:{justifyContent:"space-between",maxWidth:"12rem",background:"#66c880",position:"relative",transition:"opacity 0.3s, width 0.4s ease-out",opacity:"0",width:"0",maxHeight:"0",marginTop:"0",padding:"0"}},uiAnimatedFabCounterWrapper:{style:{height:"1.5rem",width:"1.5rem",background:"orange",borderRadius:"50%",position:"absolute",right:"-0.25rem",textAlign:"center",display:"grid",alignItems:"center",justifyItems:"center",boxShadow:"0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%)"}},uiRequestPartyFabWrapper:{},uiRequestIndividualPartyWrapper:{},uiFileFabWrapper:{},uiFileFabFileWrapper:{}}}function v(){return{uiAccordionIcon:{},uiAccordionWrapper:{},uiAccordionTitle:{classes:"ui-builder-accent"},uiAccordionTitleIcon:{},uiAccordionTitleWrapper:{}}}function w(){return{uiActionCardContent:{},uiActionCardWrapper:{classes:"pa3",style:{width:"100%",height:"100%"}},uiActionCardInnerWrapper:{style:{display:"flex",alignContent:"space-evenly",width:"100%"},styleNS:{width:"75%"}},uiActionCardButton:{style:{maxWidth:"35%"}},uiActionCardHeader:{style:{margin:"unset",flex:"unset",minWidth:"unset",minheight:"unset",textAlign:"left"}},uiActionCardImage:{},uiActionCardImageWrapper:{style:{width:"0px",display:"none"},styleNS:{width:"25%",display:"flex"}},uiActionCardLines:{style:{background:"unset",color:"white"}}}}function S(){return{uiActiveUsersWrapper:{classes:"right-0 z-max",style:{position:"absolute",top:"3rem"}},uiActiveUser:{classes:"ma1",style:{width:"20px",height:"20px",fontSize:"8px",borderRadius:"50%",textAlign:"center",alignItems:"center",justifyContent:"center",display:"flex",color:"white",border:"solid 3px",boxShadow:"0px 0px 8px 0px #000000"},styleNS:{width:"40px",height:"40px",fontSize:"14px",boxShadow:"0px 0px 8px 0px #000000"},styleL:{boxShadow:"0px 0px 8px 0px rgba(255,255,255,0.75)"}}}}function I(){return{uiBlockLinesWrapper:{}}}function C(){return{uiNavButton:{},uiButton:{classes:"shadow-4 ma2 bg-ui-builder-accent ui-builder-text-invert",style:{padding:".5rem 2rem",fontWeight:"300",border:"unset",borderRadius:"5px",outline:"none",hover:{"box-shadow":`0 0 0.125rem 0 silver`}}},uiButtonAlt:{style:{border:"2px solid var(--ui-builder-text)",background:"var(--ui-builder-text-invert)",color:"var(--ui-builder-text)"}},uiButtonNeutral:{},uiButtonInfo:{},uiButtonWarn:{style:{color:"var(--ui-builder-text-invert)",background:"var(--ui-builder-warn)"}},uiButtonError:{style:{color:"var(--ui-builder-text-invert)",background:"var(--ui-builder-danger)"}},uiButtonWarnAlt:{style:{color:"var(--ui-builder-warn)",border:"3px solid var(--ui-builder-warn)",background:"var(--ui-builder-text-invert)"}},uiButtonErrorAlt:{style:{color:"var(--ui-builder-danger)",border:"3px solid var(--ui-builder-danger)",background:"var(--ui-builder-text-invert)"}}}}function k(){return{uiCardGroup:{classes:"flex flex-wrap justify-center pa2"},uiCardWrapper:{classes:"flex flex-column ui-builder-text-invert bg-ui-builder-accent",style:{borderRadius:"10px",boxShadow:"3px 2px 11px lightgrey",width:"13rem",height:"13rem"}},uiCardHeader:{classes:"flex-auto",style:{fontSize:"1.25rem",textAlign:"center",fontWeight:"300"}},uiCardContentWrapper:{style:{justifyContent:"center","hover-space-img":{transform:"scale(1.05)"}}},uiCardSubheading:{classes:"ma2 pv1 ph2 flex items-center",style:{fontSize:"1.25rem"}},uiCardIcon:{classes:"fa-light fa-fw fa-4x ma2",style:{fontSize:"3rem"}},uiCardImage:{classes:"img ma2",style:{transition:"transform 0.1s ease-in-out"}},uiCardCounter:{classes:"top-0 right-0",style:{color:"white",background:"#f7931c",fontWeight:"600",padding:"0.3rem 0.5rem",marginTop:"-0.45rem",marginRight:"-0.55rem",borderRadius:"24px"}},uiCardFooterWrapper:{},uiCardFooterIcon:{},uiCardFooterText:{}}}function W(){return{uiCarouselWrapper:{style:{overflowY:"auto",width:"100vw","space-chevron-space-first-child":{marginLeft:"auto"},"space-chevron-space-last-child":{marginRight:"auto"}}}}}function L(){return{uiDataCardGridWrapper:{classes:"flex flex-column",style:{padding:"0 1rem"},styleNS:{padding:"0 2rem"}},uiDataCardCategoryLabel:{style:{marginLeft:"auto",borderRadius:"1rem",padding:"0.3rem 1rem",alignSelf:"center",textTransform:"uppercase",fontWeight:"300"}},uiDataCardHeader:{style:{fontWeight:"400",fontSize:"2rem"}},uiDataCardHeaderWrapper:{classes:"flex flex-row",style:{marginBottom:"1rem"}},uiDataCardSectionItemLabel:{style:{fontWeight:"300",marginRight:"1rem",minWidth:"9rem"}},uiDataCardSectionItemValue:{style:{opacity:"0.9",fontWeight:"200",marginBottom:"0.5rem","-space-p":{margin:"0"}}},uiDataCardSectionItemWrapper:{style:{display:"inline",marginBottom:"0.5rem"},styleNS:{display:"flex",flexDirection:"row"},styleM:{display:"flex",flexDirection:"row"}},uiDataCardSectionLabel:{style:{fontWeight:"500",marginBottom:"0.5rem",textTransform:"uppercase",fontSize:"0.8rem"}},uiDataCardSectionWrapper:{style:{marginBottom:"2rem"}},uiDataCardWrapper:{classes:"flex-shrink-0 self-center",style:{width:"100%",height:"unset",maxWidth:"60rem",fontSize:"1rem",background:"white",padding:"2rem",marginBottom:"2rem",borderRadius:"10px",boxShadow:"0px 0px 2px 2px #ebf0f5"}},uiDataCardButton:{style:{marginLeft:"auto"}}}}function D(){return{uiDialogOverlay:{classes:"pa-1_5",style:{gridTemplateColumns:"1fr"}},uiDialogBorderContextError:{style:{border:"4px solid var(--ui-builder-danger)"}},uiDialogBorderContextWarn:{style:{border:"4px solid var(--ui-builder-warn)"}},uiDialogContextDefault:{classes:"bg-ui-builder-text-invert ui-builder-text"},uiDialogContextAlt:{classes:"bg-ui-builder-accent ui-builder-text-invert"},uiDialogContextNeutral:{classes:"bg-ui-builder-text-invert ui-builder-text"},uiDialogContextWarn:{classes:"bg-ui-builder-warn ui-builder-text-invert"},uiDialogContextError:{classes:"bg-ui-builder-danger ui-builder-text-invert"},uiDialogWrapper:{classes:"overflow-y-auto pa-2",style:{maxHeight:"100%",width:"30.5rem",maxWidth:"30rem",borderRadius:"1rem"},styleL:{maxWidth:"45rem"}},uiDialogLoginWrapper:{style:{display:"grid",placeContent:"center",animationIterationCount:"3",maxWidth:"20rem"}},uiDialogNotificationWrapper:{style:{borderRadius:"10px",boxShadow:"0px 3px 3px -2px rgba(0,0,0,0.2), 0px 3px 4px 0px rgba(0,0,0,0.14), 0px 1px 8px 0px rgba(0,0,0,0.12)"}},uiDialogIcon:{},uiDialogTitle:{style:{color:"var(--ui-builder-text)",margin:"0"}},uiDialogText:{style:{marginTop:"0.5rem",marginBottom:"5rem",fontWeight:"600","-space-p":{margin:"0"},color:"var(--ui-builder-accent)"}},uiDialogButtonWrapper:{},uiDialogFeedbackWrapper:{},uiDialogFeedbackTitle:{},uiDialogFeedbackSubTitle:{},uiDialogFeedbackBodyText:{},uiDialogFeedbackLabel:{},uiDialogFeedbackButtonWrapper:{},uiDialogInviteWrapper:{},uiDialogInviteTitle:{classes:"ui-builder-accent"},uiDialogInviteSubTitle:{classes:"ui-builder-accent"},uiDialogInviteBodyText:{classes:"ui-builder-accent"},uiDialogInviteLabel:{},uiDialogInviteActionAreaWrapper:{style:{backgroundColor:"#c7c7c7",position:"relative",justifySelf:"flex-end"}},uiDialogInviteConfirmButton:{},uiDialogInviteCancelButton:{},uiDialogInviteInputWrapper:{},uiDialogLinkButton:{style:{background:"unset"}},uiDialogCancelButton:{classes:"mr2"},uiDialogConfirmButton:{classes:"mr2"},uiDialogFailMessage:{style:{fontSize:"1.1rem"},styleNS:{fontSize:"1.2rem"}},uiDialogComponentCancelButton:{style:{position:"absolute !important",top:"10px",right:"10px"}},uiDialogUploadWrapper:{classes:"overflow-y-auto w-100",style:{padding:"1.5rem",maxHeight:"100%",maxWidth:"30.5rem"},styleM:{padding:"2rem"},styleXL:{padding:"3rem",maxWidth:"44rem"}},uiDialogUploadTitle:{classes:"mt0 ui-builder-accent",style:{marginBottom:"0.9rem",marginTop:"-4px",fontSize:"1.313rem"},styleM:{fontSize:"1.5rem"},styleL:{marginBottom:"1.875rem",fontSize:"2rem"}},uiDialogUploadSelectWrapper:{},uiDialogUploadCloseButton:{classes:"ml-auto ui-builder-text",style:{height:"1rem",width:"1rem"},styleM:{height:"1.125rem",width:"1.125rem"},styleL:{height:"1.5rem",width:"1.5rem"}},uiDialogUploaderScrollButton:{},uiDialogUploadSubmitButton:{classes:"items-center justify-center bg-ui-builder-accent ui-builder-text-invert",style:{width:"100%",fontWeight:"bold",margin:"unset",borderRadius:"3rem",fontSize:"1.313rem",padding:"auto",height:"2.5rem",display:"flex"},styleNS:{fontSize:"1.75rem",height:"3rem"},styleXL:{maxWidth:"26.5rem"}},uiDialogUploadFileButton:{classes:"flex b tc w-100 items-center justify-center",style:{fontSize:"1.313rem",height:"2.5rem",padding:"auto",borderRadius:"24px",border:`solid 3px var(--ui-builder-accent)`,color:"var(--ui-builder-text)",background:"var(--ui-builder-card)",marginBottom:"0.5rem"},styleNS:{fontSize:"1.75rem",height:"3rem"},styleXL:{margin:"0.5rem",width:"26.5rem"}},uiDialogUploadCancelButton:{style:{fontSize:"0.875rem",fontWeight:"600",marginTop:"2rem"}},uiDialogUploadDropZone:{classes:"ui-builder-text",style:{background:"transparent",fill:"var(--ui-builder-text)",pointerEvents:"none",position:"relative"},styleXL:{background:"var(--ui-builder-card)",border:"3px dashed var(--ui-builder-text)",borderRadius:"10px",marginTop:"1rem",marginBottom:"1rem",padding:"1rem"}},uiDialogUploadIcon:{classes:"fa-thin fa-file f3",style:{}},uiDialogUploaderFileList:{style:{scrollBehvior:"smooth",height:"11.5rem",marginTop:"1rem"}},uiDialogUploadFileWrapper:{style:{gridGap:"0.75rem",gridTemplateColumns:"auto 1fr auto auto",alignItems:"center",padding:"9px 1rem",marginBottom:"0.5rem"},styleL:{gridGap:"2rem"}},uiDialogUploadFileDeleteIcon:{},uiDialogUploadFileDeleteIconInvalid:{classes:"ui-builder-danger"},uiDialogUploadFileType:{style:{borderRadius:"50%",border:`solid var(--ui-builder-accent-invert) 1px`,color:"var(--ui-builder-accent-invert)",padding:".9rem",alignSelf:"center",height:"2.3rem",width:"2.3rem",textAlign:"center",justifyContent:"center",alignContent:"center",display:"grid",fontSize:"0.8rem"}},uiDialogUploadFileTypeSmall:{style:{borderRadius:"50%",border:`solid 1px`,padding:".9rem",alignSelf:"center",height:"1.2rem",width:"1.2rem",textAlign:"center",justifyContent:"center",alignContent:"center",display:"grid",fontSize:"0.6rem"}},uiDialogUploadFileTypeInvalid:{classes:"ui-builder-danger"},uiDialogUploadWarning:{classes:"ui-builder-danger"},uiDialogUploadOpenButton:{classes:"w5",style:{border:"solid black 1px",color:"black",boxShadow:"unset"}},uiDialogUploadFileName:{style:{fontSize:"0.75rem"}},uiDialogUploadFileSize:{style:{fontSize:"0.75rem",opacity:"0.6"}},uiDialogUploadFileSizeInvalid:{classes:"ui-builder-danger"},uiDialogUploadNotesWrapper:{},uiDialogUploadNotesInputWrapper:{style:{background:"transparent",border:"solid var(--ui-builder-accent-invert) 1px",borderRadius:"6px"}},uiDialogUploadNotesInput:{style:{color:"black"}},uiDialogUploadNotesLabel:{classes:"ui-builder-accent-invert"}}}function T(){return{uiFieldListSelectWrapper:{style:{height:"3rem",border:"2px dashed black",margin:"10px 0px"}},uiFieldListSelectInnerWrapper:{style:{display:"grid",gridTemplateColumns:"90% auto",width:"100%",textAlign:"center",justifyContent:"center",alignContent:"center",height:"100%",position:"relative",background:"white"}},uiFieldListSelectFieldInputWrapper:{style:{margin:"0px",background:"transparent","-space-label":{padding:"1rem"},"-space-label-space-i":{background:"white"},padding:"0px"}},uiFieldListSelectFieldWrapper:{style:{minWidth:"calc(100vw - 11rem)",margin:"0px -2px",padding:"0px"},styleM:{minWidth:"20rem",maxWidth:"36rem"},styleL:{minWidth:"36rem"}},uiFieldListSelectIcon:{classes:"fa fa-chevron-down",style:{transition:"transform 0.3s ease-out",alignSelf:"end",marginRight:"10px",background:"white"}},uiFieldListWrapper:{style:{bottom:"4.125rem",transform:"translateX(-2px)",background:"#efefef",boxShadow:"0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%)",transition:"opacity 0.2s ease-in"}}}}function F(){return{uiCustomHeader:{classes:"ui-builder-accent"},uiHeaderWrapper:{classes:"mw-100 bg-ui-builder-accent-invert",style:{boxShadow:"2px 2px 5px var(--ui-builder-accent-invert)"}},uiHeader:{classes:"ui-builder-accent bg-ui-builder-card"},uiSubheader:{classes:"ui-builder-accent bg-transparent",style:{height:"3rem"}},uiFooterWrapper:{classes:"bg-ui-builder-card"},uiFooter:{classes:"mw-100 bg-ui-builder-accent-invert",style:{height:"3rem",boxShadow:"0px 0px 2px 2px var(--ui-builder-accent-invert)"}}}}function B(){return{uiIcon:{},uiSVGDuoToneIcon:{style:{"-space-dot-background":{fill:"var(--ui-builder-text)"},"space-dot-foreground":{fill:"var(--ui-builder-text-invert)"}}},uiSVGCircleIcon:{style:{"-space-circle":{fill:"var(--ui-builder-text-invert)",stroke:"var(--ui-builder-text)"},"-space-path":{fill:"var(--ui-builder-text)"}}},uiSVGIcon:{style:{"-space-path":{fill:"var(--ui-builder-text)"}}}}}function P(){return{uiInputWrapper:{style:{focus:{"border-color":"var(--ui-builder-accent-light)"},background:"#efefef",padding:".3rem"}},uiInputTextarea:{classes:"bn fw2 hide-input-clear"},uiInput:{classes:"bn fw2 hide-input-clear"},uiInputFieldset:{classes:"mb2",style:{marginInline:"0"}},uiInputLabel:{},uiInvalidInputWrapper:{classes:"bg-washed-red"},uiFloatLabelPlaceholder:{},uiCheckListOptionsWrapper:{classes:"ba br2 b--silver pa2 dark-gray bg-canvas w-100 max-h-img overflow-y-auto shadow-4"},uiTimeInputScrollerWrapper:{classes:"ba br2 b--silver pa2 dark-gray bg-canvas top-2 shadow-4"},uiTimeInputScrollerNumber:{classes:"pv1 mv2 w-100 mw-dd tc f6 fw6 bg-light-gray"},uiInvalidCheckboxWrapper:{classes:"red"}}}function j(){return{uiItemListTitleIcon:{style:{cursor:"pointer"}},uiItemViewCustomWrapper:{},uiItemListTitleIconOpen:{classes:"far fa-plus-square mr2"},uiItemListTitleIconClose:{classes:"far fa-minus-square mr2"},uiItemListAccordionIcon:{style:{fontSize:"1.5rem"}},uiItemListTitle:{classes:"ui-builder-accent",style:{fontSize:"1.5rem",fontWeight:"300"}},uiItemListGroupLabel:{classes:"mh2 mv3 ui-builder-accent"},uiItemListAccordionTitleWrapper:{style:{marginBottom:"1rem"}},uiItemListAccordionTitleWrapperOpen:{},uiItemListAccordionTitleWrapperClosed:{},uiItemListAccordionWrapper:{classes:"flex flex-column items-left",style:{transition:"height 0.5s ease 0.1s",overflow:"hidden",width:"100%",border:"1px solid grey",padding:"0px 1rem"}},uiItemListContainer:{classes:"flex flex-column flex-auto overflow-x-hidden overflow-y-auto"},uiItemListGroupContainer:{},uiItemListContentContainer:{},uiItemListTableUploaderWrapper:{classes:"flex flex-column"},uiItemTableContainer:{classes:"flex-auto flex flex-column pa2"},uiItemTableMaxHeight:{style:{height:"24rem"}},uiItemTableIcon:{style:{color:"black"}},uiItemTableIconSelect:{style:{textAlign:"right"}},uiItemGridContainer:{classes:"flex-auto overflow-x-hidden overflow-y-auto"},uiItemRowWrapper:{classes:"flex flex-column flex-row-ns ma2 pv2 bb b--black-20"},uiItemRowNewWrapper:{classes:"flex flex-row",style:{marginRight:"auto",marginLeft:"2rem"}},uiItemRowNewMessage:{classes:"ui-builder-accent",style:{textTransform:"uppercase",paddingTop:"0.1rem"}},uiItemRowNewIcon:{classes:"fas fa-star",style:{alignSelf:"center"}},uiItemRowInnerWrapper:{classes:"flex-auto flex flex-row items-center pointer",style:{color:"black"}},uiItemRowHeaderWrapper:{classes:"flex-auto"},uiItemButtonsWrapper:{},uiItemButtonsInnerWrapper:{},uiItemActionButton:{classes:"pa1 mr2"},uiItemHeading:{},uiItemSubheading:{classes:"flex flex-wrap f6 ws-normal ui-builder-accent"},uiItemEditWrapper:{},uiItemEditHeader:{},uiItemEditIcon:{},uiItemEditLabel:{},uiItemEditButton:{},uiItemEditFormWrapper:{},uiItemViewWrapper:{},uiItemViewRowWrapper:{},uiItemViewIcon:{},uiItemViewField:{},uiCategoryItemWrapper:{},uiCategoryItemIcon:{},uiCategoryItemLabel:{},uiCategoryItemMarker:{classes:"ui-builder-accent"},uiCategoryItemArrow:{classes:"ui-builder-accent"},uiItemListTableNewCounter:{classes:"pa2 mh1 mv2 f7 tc br-pill",style:{background:"#d02226",color:"white",boxShadow:"0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%)"}}}}function O(){return{uiLayout:{style:{background:"linear-gradient(0.2turn, var(--ui-builder-accent), 0.1%, #fff)"}},uiPostContentWrapper:{classes:"flex flex-wrap items-center flex-column w-100"},uiPreContentWrapper:{classes:"flex flex-wrap items-center flex-column w-100"}}}function A(){return{uiLoginResetReturn:{},uiLoginResetHeader:{},uiLogin:{classes:"measure-wide center",style:{padding:"2rem",border:"2px solid #dcdedf",borderRadius:"10px",marginTop:"3rem",boxShadow:"1px 1px 6px #80808036"}},uiLoginForm:{},uiLoginFailedAuthMessage:{style:{color:"var(--ui-builder-danger)"}},uiLoginFormReset:{},uiLoginPreForm:{},uiLoginButtonWrapper:{classes:"justify-between"},uiLoginButton:{classes:"ui-builder-text-invert bg-ui-builder-accent"},uiLoginFormInputWrapper:{},uiLoginLines:{},uiLoginInputFieldset:{},uiLoginHeader:{classes:"ui-builder-accent"},uiLoginResetButton:{},uiLoginPostLines:{},uiLoginWrapper:{classes:"pa2",style:{width:"100%"}},uiLoginInputLabel:{},uiLoginInputWrapper:{classes:"pa2",style:{border:"2px solid #dcdedf",borderRadius:"5px",margin:"10px 0px",minWidth:"15rem"}},uiLoginInputWrapperReset:{},uiLoginInput:{},uiLoginInputFieldsetDob:{},uiLoginInputFieldsetPostcode:{},uiLoginInputFieldsetPin:{}}}function M(){return{uiNavbarDropDownWrapper:{classes:"flex self-stretch flex-column ml2 mr3"},uiNavbarDropDownMenu:{classes:"h-100 flex-shrink-0 flex items-center ph2 pointer"},uiNavbarDropDownMenuContent:{classes:"flex flex-column shadow-2 z-999 ui-builder-accent bg-ui-builder-accent-invert"},uiNavbarCopyright:{},uiNavbarImage:{},uiNavbarLink:{classes:"mh2 self-stretch flex items-center"},uiNavbarLinkActive:{classes:"underline"},uiNavbarLogout:{classes:"ph3 pv0",style:{height:"2rem",borderRadius:"5px",marginBottom:"auto",marginTop:"auto"}},uiNavbarLogoutIcon:{style:{color:"inherit"}},uiNavbarLogoutLabel:{style:{color:"inherit"}},uiNavbarName:{},uiNavbarNameVersion:{},uiNavbarPoweredBy:{},uiNavbarProgress:{},uiNavbarSalutation:{},uiNavbarText:{},uiNavbarVersion:{}}}function R(){return{uiOdometerNegative:{classes:"ui-builder-text bg-ui-builder-danger"},uiOdometer:{classes:"br2"},uiOdometerPositive:{classes:"ui-builder-text-invert bg-ui-builder-text"},uiOdometerLabel:{classes:"mr1"},uiOdometerWrapper:{classes:"flex items-center h-100"}}}function E(){return{uiOverlaySpinnerWrapper:{style:{top:"0",left:"0",background:"black",color:"white",width:"100vw",height:"100vh",zIndex:"999",transition:"opacity 0.3s ease-in"}},uiOverlaySpinnerInnerWrapper:{style:{margin:"auto"}},uiOverlaySpinnerIcon:{classes:"fa fa-spinner fa-pulse fa-3x fa-fw"},uiOverlaySpinnerText:{}}}function _(){return{uiPanel:{},uiPanelHeader:{classes:"flex justify-between items-center flex-shrink-0 ui-builder-accent",style:{background:"transparent",position:"relative"}},uiPanelSubheader:{classes:"flex-shrink-0"},uiPanelHeaderButton:{},uiPanelHeaderWrapper:{},uiPanelHeaderComponent:{},uiPanelHeaderComponentWrapper:{classes:"flex flex-column flex-row-ns",style:{alignItems:"center",justifyContent:"space-between",width:"60%"},styleNS:{alignItems:"center",justifyContent:"space-between",width:"65%"}}}}function N(){const e="bl bw2";return{uiPdfViewerWrapper:{style:{maxHeight:"100%"}},uiPdfFieldOverlay:{style:{background:"transparent"}},uiPdfActiveFieldOverlay:{classes:e,style:{background:"transparent"}},uiPdfFieldOverlayUser1:{classes:e,style:{borderColor:"var(--ui-builder-user1)"}},uiPdfFieldOverlayUser2:{classes:e,style:{borderColor:"var(--ui-builder-user2)"}},uiPdfFieldOverlayUser3:{classes:e,style:{borderColor:"var(--ui-builder-user3)"}},uiPdfFieldOverlayUser4:{classes:e,style:{borderColor:"var(--ui-builder-user4)"}},uiPdfFieldOverlayUser5:{classes:e,style:{borderColor:"var(--ui-builder-user5)"}},uiPdfFormGroupInfoItemWrapper:{classes:"mh2 mb3"},uiPdfFormGroupInfoItemInner:{classes:"pa2 pointer",style:{whiteSpace:"nowrap",margin:"0 2rem",letterSpacing:"0.9px"}},uiPdfTopBar:{classes:"ui-builder-text-invert bg-ui-builder-accent"},uiPdfBackButton:{},uiPdfZoomInButton:{},uiPdfZoomOutButton:{},uiPdfDownloadButton:{},uiPdfPanel:{style:{background:"#777777"}},uiPdfBottomBar:{classes:"ui-builder-text-invert bg-ui-builder-accent",style:{minHeight:"6rem"}},uiPdfBottomBarText:{classes:"ui-builder-text-invert bg-ui-builder-accent"},uiPdfSubheader:{classes:"ui-builder-text-invert bg-ui-builder-accent"},uiPdfStartButton:{classes:"ui-builder-text-invert bg-ui-builder-accent",style:{position:"absolute !important",width:"4.8rem",height:"4.8rem",top:"-2.4rem"}},pdfFooterEditPreText:{classes:"ma1 f5 tc",style:{letterSpacing:"1px"}},pdfFooterEditPostText:{classes:"ma1 f5 tc",style:{}},pdfFooterEditNavigate:{style:{fontSize:"2rem",margin:"0px 0.2rem 0.6rem 0.2rem",color:"#232323"}},uiPdfStatusIcon:{classes:"green"},uiPdfSyncButtonWrapper:{},uiPdfFooterInputWrapper:{style:{background:"white !important","-chevron-div":{border:"none"},"-chevron-form":{border:"none"}}},uiPdfFooterSignButton:{classes:"pulse z-999"},uiPdfFooterWrapper:{classes:"flex flex-column",style:{"-space-label":{margin:"0 auto"}}},uiPdfFieldInvalidOverlay:{},uiPdfSaveAndExitButton:{},uiPdfFooterFormWrapper:{classes:"f3 ma1",style:{minWidth:"calc(100vw - 11rem)"},styleM:{minWidth:"20rem",maxWidth:"36rem"},styleL:{minWidth:"36rem"}}}}function z(){return{uiProgressFlowWrapper:{},uiProgressFlowStepWrapper:{style:{margin:"1rem"}},uiProgressFlowArrowWrapper:{style:{position:"relative",top:"4rem",height:"4rem"},styleNS:{width:"4rem"}},uiProgressFlowArrow:{style:{height:"100%",width:"4rem",transform:"rotate(90deg)",fill:"var(--ui-builder-accent)"},styleNS:{transform:"rotate(0deg)"}},uiProgressTextWrapper:{style:{marginTop:"1.5rem"}},uiProgressCardIndicator:{style:{position:"relative",height:"3.6rem",width:"5rem",borderRadius:"50%",border:"solid 1px white"}},uiProgressCardWrapper:{style:{textAlign:"center",padding:"1rem"}},uiProgressCardSubheading:{style:{textAlign:"start",fontWeight:"200",opacity:"0.8"}},uiProgressCardHeading:{style:{textAlign:"start",fontWeight:"600",fontSize:"1.25rem",textTransform:"uppercase"}},uiProgressCardWarn:{style:{color:"#5a5a5a",background:"#f9ceba"}},uiProgressCardWaiting:{style:{color:"#5a5a5a",background:"#f9ceba"}},uiProgressCardError:{style:{color:"#5a5a5a",background:"#f5b7b8"}},uiProgressCardComplete:{style:{color:"#5a5a5a",background:"#d1e6c7"}},uiProgressCardIncomplete:{style:{color:"#5a5a5a",background:"#bfdbf1"}},uiProgressCardIconWarn:{classes:"ui-builder-text-invert bg-ui-builder-warn",style:{boxShadow:"0px 0px 0px 2px var(--ui-builder-warn)"}},uiProgressCardIconWaiting:{classes:"ui-builder-text-invert bg-ui-builder-danger",style:{boxShadow:"0px 0px 0px 2px var(--ui-builder-warn)"}},uiProgressCardIconError:{classes:"ui-builder-text-invert bg-ui-builder-danger",style:{boxShadow:"0px 0px 0px 2px var(--ui-builder-danger)"}},uiProgressCardIconComplete:{style:{color:"#fff",background:"#94c47d",boxShadow:"0px 0px 0px 2px #94c47d"}},uiProgressCardIconIncomplete:{style:{color:"#fff",background:"#70acdf",boxShadow:"0px 0px 0px 2px #70acdf"}}}}function H(){return{uiSearchBoxWrapper:{},uiSearchBoxIcon:{classes:"ui-builder-accent"},uiSearchBoxInput:{},uiSearchBoxClearIcon:{classes:"ui-builder-accent"}}}function U(){return{uiPaymentFailureMain:{}}}function G(){return{uiStatusCheckWrapper:{},uiStatusCheckIconWrapper:{classes:"flex-shrink-0",style:{height:"5rem",width:"5rem",margin:"0 1rem"}},uiStatusCheckIcon:{},uiStatusCheckHeading:{classes:"ui-builder-text",style:{fontWeight:"600",fontSize:"1.25rem",marginBottom:"0.5rem"}},uiStatusCheckSubheading:{style:{fontWeight:"200",opacity:"0.6","-space-p":{margin:"0"}}},uiStatusCheckTextWrapper:{classes:"flex flex-column justify-center"}}}function $(){return{uiTable:{style:{}},uiAgGrid:{},uiTableHeader:{classes:"flex-auto",style:{fontWeight:"400"}},uiAgGridHeader:{style:{fontWeight:"400"}},uiTableHeaderCell:{classes:"ui-builder-accent bg-ui-builder-accent-invert",style:{opacity:"1",fontWeight:"400",borderRight:"1px solid white"}},uiAgGridHeaderCell:{style:{color:"var(--ui-builder-accent)",background:"var(--ui-builder-accent-invert)",opacity:"1",fontWeight:"400",borderRight:"1px solid white"}},uiTableHeaderIcon:{classes:"ui-builder-accent bg-ui-builder-accent-invert",style:{marginRight:"5px",paddingTop:"2px"}},uiAgGridHeaderIcon:{style:{color:"var(--ui-builder-accent)",background:"var(--ui-builder-accent-invert)",marginRight:"5px",paddingTop:"2px"}},uiTableHeaderCellContainer:{style:{flexDirection:"row"}},uiAgGridHeaderCellContainer:{style:{flexDirection:"row"}},uiTableColsClipper:{style:{minHeight:"43px",marginBottom:"1rem"}},uiAgGridColsClipper:{style:{minHeight:"43px",marginBottom:"1rem"}},uiAgThemeAlpine:{style:{fontFamily:"unset"}},uiAgGridThemeAlpine:{style:{fontFamily:"unset"}},uiAgBodyViewport:{},uiAgGridBodyViewport:{},uiTableCell:{},uiAgGridCell:{},uiTableWrapper:{},uiAgGridWrapper:{},uiTableRow:{},uiAgGridRow:{},uiTableItemDate:{},uiCellRendererItemDate:{},uiTableItemTime:{},uiCellRendererTime:{},uiTableItemTitle:{},uiCellRendererTitle:{},uiTableItemType:{},uiCellRendererType:{},uiTableItemSize:{},uiCellRendererSize:{},uiCellRenderDateTimeContainer:{style:{height:"100%",width:"100%"}}}}function q(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({body:{classes:"ui-builder-text"}},E()),k()),C()),B()),P()),O()),F()),_()),A()),$()),D()),M()),z()),w()),v()),G()),L()),j()),N()),I()),H()),W()),x()),S()),T()),U()),R()),{uiDisabled:{style:{filter:"grayscale(0.9)",opacity:"0.4"}}})}const V={uiAgGridHeader:"ag-header",uiAgGridHeaderCell:"ag-header-cell",uiAgGridHeaderIcon:"ag-icon",uiAgGridHeaderCellContainer:"ag-cell-label-container",uiAgGridWrapper:"ag-root-wrapper",uiAgGridColsClipper:"ag-center-cols-clipper",uiAgGridCell:"ag-cell",uiAgGridThemeAlpine:"ag-theme-alpine",uiAgGridBodyViewport:"ag-body-viewport"};function Q(){function e(e,t,i){if(t.type!=="style")return e;if(t.id&&V[t.id.replace(/(-\d+)*/g,"")]&&i){const e=c.default.reduce(c.default.entries(t.style),((e,[t,i])=>{e[t]=i+" !important";return e}),{});const r=i.addRule(V[t.id.replace(/(-\d+)*/g,"")],e,{selector:"."+V[t.id.replace(/(-\d+)*/g,"")]});r.id=V[t.id]}return e}return{onProcessStyle:e}}function Y(e){const t=c.default.assign({repeat:2},e);const i=Array(t.repeat).join(":not(#\\20)");return{onProcessRule:(e,t)=>{const r=e.options.parent;if(t.options.increaseSpecificity===false||e.type!=="style"||r&&r.type==="keyframes"||e.selectorText.search(":not(#\\20)")!==-1)return;e.selectorText=i+e.selectorText}}}const X=["after","before","first-line","first-letter","selection","placeholder"];const K=["active","checked","disabled","empty","enabled","first-child","first-of-type","focus","hover","in-range","invalid","last-child","last-of-type","link","not","only-of-type","only-child","optional","out-of-range","read-only","read-write","required","root","target","valid","visited"];const Z=["nth-child","nth-last-child","nth-last-of-type","nth-of-type"];const J=[{"-space-":" ","-space":" ","space-":" ",space:" "},{"-dot-":".","-dot":".","dot-":".",dot:"."},{"-dash-":"-","-dash":"-","dash-":"-",dash:"-"},{"-chevron-":" > ","-chevron":" > ","chevron-":" > ",chevron:" > "},{"-hash-":"#","-hash":"#","hash-":"#",hash:"#"},{"-star-":"*","-star":"*","star-":"*",star:"*"},{"-colon-":":","-colon":":","colon-":":",colon:":"},{"-equals-":"=","-equals":"=","equals-":"=",equals:"="},{"-sbo-":"[","-sbo":"[","sbo-":"[",sbo:"["},{"-sbc-":"]","-sbc":"]","sbc-":"]",sbc:"]"},{"-bo-":"(","-bo":"(","bo-":"(",bo:"("},{"-bc-":")","-bc":")","bc-":")",bc:")"}];const ee=e=>{const t=c.default.find(Z,(t=>e.search(t)!==-1));if(t){const i=e.slice(t.length+1);return`:${e.slice(0,t.length)}(${i})`}return e};const te=e=>c.default.reduce(J,((t,i)=>{t=!t?e:t;c.default.forEach(c.default.entries(i),(([e,i])=>{const r=t.search(e);const a=new RegExp(e,"g");if(r!==-1){if(r===0){t=t.replace(e,i)}const n=t.search(e);if(n||r!==0){t=t.replace(a,i)}t=t.replace(/ +/," ")}}));return t}),"");const ie=(e,t)=>{let i=e;X.forEach((e=>i=i.replace(new RegExp(e,"g"),"::"+e)));K.forEach((t=>{const r=["valid","last-child","last-of-type"];if(r.indexOf(t)===-1){i=i.replace(new RegExp(t,"g"),":"+t)}else{if(t==="valid"&&e.search("invalid")&&e.search("valid")!==e.search("invalid")-2){i=i.replace(new RegExp(t,"g"),":"+t)}else if(t!=="valid"&&r.indexOf(t)!==-1){if(e.search("nth-"+t)!==e.search(t)-4){i=i.replace(new RegExp(t,"g"),":"+t)}}}}));i=ee(i);return`${t}${i}`};function re(e,t){const i=te(e);return ie(i,t)}function ae(){function e(e,t){if(t.type!=="style")return e;const i=t.options.parent;c.default.forEach(e,((r,a)=>{if(typeof r!=="string"&&typeof r==="object"){const n=re(a,t.selector);const s=c.default.reduce(r,((e,t,i)=>{e[c.default.kebabCase(i)]=t;return e}),{});i.addRule(n,s,{selector:n});delete e[a]}}));return e}return{onProcessStyle:e}}const ne="@media screen and (min-width:30em)";const se="@media screen and (min-width:30em) and (max-width: 60em)";const oe="@media screen and (min-width:60em)";const ue="@media screen and (min-width:90em)";p.default.use(ae(),Q());const le=p.default.createStyleSheet({});function ce(e){return c.default.mapKeys(e,((e,t)=>c.default.kebabCase(t)))}function de(e,t){if(t){e.push(t)}}function pe(e,t,i){if(i){const r=e.addRule(t,ce(i));return r.id}else{return""}}function fe(e,t,i,r){if(r){const a=e.addRule(i,{[t]:ce(r)});return a.getRule(t).id}else{return""}}function me(e,t,i){if(i){const r=e.update(t,ce(i));return r.id||r.getRule(t).id}else{return""}}function ge(e,t,i){if(i){const r=e.update(t,ce(i));return r.getRule(t).id}else{return""}}function he({style:e={},styleNS:t,styleM:i,styleL:r,styleXL:a,classes:n,key:s="unnamed"},o){const u=o?o:le;const l=[];const c=Boolean(s!=="unnamed"&&u.getRule(s));if(c){de(l,me(u,s,e));de(l,ge(u,s,t));de(l,ge(u,s,i));de(l,ge(u,s,r));de(l,ge(u,s,a))}else{de(l,pe(u,s,e));de(l,fe(u,s,ne,t));de(l,fe(u,s,se,i));de(l,fe(u,s,oe,r));de(l,fe(u,s,ue,a))}if(l.length&&!o){u.attach()}de(l,n);return l.join(" ")}const be=n.create({plugins:[Q(),ae(),Y()]});class ye{constructor(e){this._classes={};this.uiSheet=be.createStyleSheet({});this.applyTheme=e;this.createClasses()}get classes(){return this._classes}createClasses(){c.default.each(this.applyTheme,((e,t)=>{this._classes[t]=he(c.default.assign({key:t,increaseSpecificity:true},e),this.uiSheet)}));this.uiSheet.attach()}update(e){if(!c.default.isEqual(this.applyTheme,e)){this.applyTheme=e;this.uiSheet.detach();this.createClasses()}}}function xe(e){return c.default.compact(e).join(" ")}function ve(e){switch(e){case"default":return"alt";case"alt":return"default";case"altLighter":return"lighter";case"altDarker":return"darker";case"darker":return"altDarker";case"lighter":return"altLighter";case"warn":return"neutral";case"error":return"neutral";default:return"neutral"}}function we(){return c.default.mapValues(q(),((e,t)=>t))}l.default(we());p.default.createStyleSheet({});function Se(e){const t=e.type===g.notification;return Object.assign({context:t?"alt":"default",duration:t?3e3:0,position:m.top,applyTheme:{},priority:false,closeDialog:false},e)}class Ie{get active(){return this._active}close(){this._active=false}get visible(){return this._visible}hide(){this._visible=false}constructor(){this.priorityQueue=[];this.notificationQueue=[];this.confirmQueue=[];this.loginQueue=[];this.queue=[];this._active=false;this._visible=false;window.addEventListener("hashchange",(()=>{this.queue=[];this.loginQueue=[];this.confirmQueue=[];this.priorityQueue=[];this.notificationQueue=[];this.activeDialog=undefined;this.close()}))}get config(){return this._config}get getActiveDialog(){return this.activeDialog}insert(e){if(e.priority)this.priorityQueue.push(e);else if(e.type===g.notification)this.notificationQueue.push(e);else if(e.type===g.confirm)this.confirmQueue.push(e);else if(e.type===g.login)this.loginQueue.push(e);else this.notificationQueue.push(e);this.queue=c.default.concat(this.priorityQueue,this.loginQueue,this.confirmQueue,this.notificationQueue)}next(){if(!this.visible&&!this.active&&this.queue.length){this.activeDialog=this.queue[0];this._config=Se(this.activeDialog);if(this.activeDialog.priority)this.priorityQueue.shift();else if(this.activeDialog.type===g.notification)this.notificationQueue.shift();else if(this.activeDialog.type===g.confirm)this.confirmQueue.shift();else if(this.activeDialog.type===g.login)this.loginQueue.shift();else this.notificationQueue.shift();this.queue.shift();this._active=true;this._visible=true}}}const Ce=new Ie;function ke(e){Ce.insert(e)}function We(){Ce.close()}function Le(){window.location.reload()}function De(){const e=b().auth;We();return new Promise((t=>ke({title:"Your session has expired",message:e&&e.sessionExpiredMessage?e.sessionExpiredMessage:"Please login again to continue",context:"warn",type:g.login,login:{onSuccess:t}})))}function Te(e){return new Promise(((t,i)=>{a.request(e).then(t).catch((r=>{if(r.code===440||r.code===401){De().then((()=>{var i;(i=e.onReLogin)===null||i===void 0?void 0:i.call(e);t(Fe(e))}))}else{i(r)}}))}))}function Fe(e,t){if(typeof e==="string"){return Te(c.default.extend(t,{url:e}))}else{return Te(e)}}function Be(e){return s.DateTime.fromISO(e).valueOf()}function Pe(e,t="D"){const i=s.DateTime.fromMillis(e);return i.isValid?i.toFormat(t,{locale:"en-GB"}):"-"}function je(e,t="HH:mm"){return Pe(e,t)}function Oe(){return s.DateTime.now().toISODate()}function Ae(e){const t=s.DateTime.now().startOf("day");const i=s.DateTime.fromMillis(e).startOf("day").diff(t,"day").get("days");switch(i){case-1:return"Yesterday";case 0:return"Today";case 1:return"Tomorrow";default:return Pe(e)}}function Me(e){try{return e?Ae(Be(e)):"-"}catch(e){return"-"}}function Re(e){try{return e?je(Be(e)):"-"}catch(e){return"-"}}function Ee(e){try{if(e){const t=Be(e);return`${Ae(t)}, ${je(t)}`}else{return"-"}}catch(e){return"-"}}function _e(e){try{return e?Ae(e):"-"}catch(e){return"-"}}function Ne(e){try{return e?je(e):"-"}catch(e){return"-"}}function ze(e){try{if(e){return`${Ae(e)}, ${je(e)}`}else{return"-, -"}}catch(e){return"-, -"}}function He(){return window.matchMedia("only screen and (max-width: 360px)").matches}function Ue(){return window.matchMedia("only screen and (max-width: 768px)").matches}function Ge(e,t){return c.default.find(e,c.default.matches(t))}function $e(e,t){return c.default.find(e,c.default.matches({_id:t}))}function qe(e,t){if(e!=null){t(e)}}function Ve(e,t,i){return l.default.lift(((e,t)=>$e(e,t)||i),e,t)}function Qe(e,t){return c.default.filter(e,c.default.matches(t))}function Ye(e,t){return c.default.remove(e,c.default.matches(t))}function Xe(e,{tags:t}){return c.default.some(e,(e=>c.default.some(t,e)))}function Ke(e,{tags:t}){return c.default.every(e,(e=>c.default.some(t,e)))}function Ze(e,t,i=false){if(t.length===0){return e}const r=c.default.partial(i?Ke:Xe,t);return c.default.filter(e,(t=>{if(r(t)){const i=t;return i.hideEmpty?Ze(e,i.content,i.contentAll).length>0:true}return false}))}function Je({readonly:e,disabled:t}){return!(e||t)}function et(e){return Boolean(c.default.isArray(e)?e.length:e)}function tt(e){const t={};e.forEach(((e,i)=>t[i]=e));return t}function it(e,t){c.default.forEach(t,((t,i)=>e.set(i,t)))}function rt(e){if(e<1e3){return`${c.default.round(e/1e3,2)}kb`}else if(e<1e6){return`${c.default.round(e/1e3)}Kb`}else{return`${c.default.round(e/1e6)}Mb`}}function at(e,t,i){if(i){return e.label}const{props:r}=e;return t.length===1?r[t[0]]:c.default(t).map((e=>r[e])).compact().value().join(" ")}function nt(e){return e}const st={"application/zip":{icon:"fa-file-archive",ext:".zip"},"application/pdf":{icon:"fa-file-pdf",ext:".pdf"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{icon:"fa-file-word",ext:".docx"},"application/msword":{icon:"fa-file-word",ext:".doc"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{icon:"fa-file-excel",ext:".xlsx"},"application/vnd.ms-excel":{icon:"fa-file-excel",ext:".xls"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{icon:"fa-file-powerpoint",ext:".pptx"},"application/vnd.ms-powerpoint":{icon:"fa-file-powerpoint",ext:".ppt"},"image/jpeg":{icon:"fa-file-image",ext:".jpeg"},"image/png":{icon:"fa-file-image",ext:".png"},"image/gif":{icon:"fa-file-image",ext:".gif"},"image/tiff":{icon:"fa-file-image",ext:".tiff"},"audio/mpeg":{icon:"fa-file-audio",ext:".mp3"},"video/mpeg":{icon:"fa-file-video",ext:".mpeg"},"video/quicktime":{icon:"fa-file-video",ext:".mov"},"video/x-msvideo":{icon:"fa-file-video",ext:".avi"}};function ot(e,t="fa-light"){return`${t} ${e in st?st[e].icon:"fa-file-alt"}`}function ut(e){if(st.hasOwnProperty(e)){return st[e].ext}else{return""}}function lt(e){const t=ut(e);return t?t.substring(1):t}function ct(e,t,i=""){if(t==="size"){return rt(e.size)}else if(t==="lastModified"){return ze(e.lastModified)}else if(t==="type"){return d.default(`i.fal.fa-fw${i}`,{title:e.type,class:ot(e.type)})}else{return e[t]}}function dt(e,t){return c.default.map(Qe(e,{prop:t}),(e=>{const{_id:t,name:i}=e;return{guid:t,name:i,path:e.remoteUrl}}))}function pt(e,{id:t}){return l.default(dt(e,t))}function ft(e,t){return c.default.get(e,t)}function mt(e,t){const i=e();i.push(t);e(i)}function gt(e,t){const i=e();const r=c.default.pullAt(i,t);e(i);return r}function ht(e,{id:t}){const i=ft(e,t);return i?l.default(i):l.default()}function bt(e,t){if(t){if(typeof e!=="object"||typeof e!==typeof t||c.default.isArray(e)!==c.default.isArray(t)){throw new Error("deepMerge only supports arrays and objects and cannot merge objects of different types.")}const i=c.default.isArray(e)?[]:{};const r=c.default.uniq([...c.default.keys(e),...c.default.keys(t)]);return c.default.reduce(r,((i,r)=>{if(r in t&&!c.default.isUndefined(t[r])){if(typeof e[r]==="object"){i[r]=bt(e[r]||{},t[r])}else{i[r]=t[r]}}else{i[r]=e[r]}return i}),i)}return e}function yt([e,t],i){const r=new FormData;r.append("file",t,t.name);r.append("filename",e);r.append("file_name",t.name);r.append("file_type",t.type);r.append("file_size",String(t.size));r.append("file_lastModified",String(t.lastModified));r.append("guid",e);return Fe({method:"POST",url:i,deserialize:nt,body:r})}function xt({file:e,name:t,type:i,size:a,categoryTag:n,subcategoryTag:s},o){const u=new FormData;u.append("file",e,e.name);u.append("upload_name",r.fileNameExtSplit(t)[0]);u.append("upload_filename",t);u.append("upload_filetype",i);u.append("upload_filesize",a.toString());u.append("upload_origin","customer");u.append("upload_category",n);u.append("upload_subcategory",s);u.append("upload_transaction_type","CUSTOMER");u.append("upload_reference","");return Fe({method:"POST",url:o,deserialize:nt,body:u})}const vt={};const wt={};function St(e,t){if(e in wt){throw new Error(`Component ${e} is already registered`)}else{wt[e]=t}}function It(e,t){if(e in vt){throw new Error(`Cell Renderer ${e} is already registered`)}else{vt[e]=t}}function Ct({type:e,data:t,style:i,styleNS:r,styleM:a,styleL:n,classes:s}){const o=he({style:i,styleNS:r,styleM:a,styleL:n,classes:s});if(e in wt){return d.default(wt[e],{type:e,data:t,classes:o})}else{return d.default("span",`Unknown component type: ${e}`)}}function kt(e){return c.default.map(e,(e=>Ct(e)))}function Wt(e){const t=[];let i,r=0;while((i=e.indexOf("${",r))!==-1){const a=e.indexOf("}",r)+1;const n=t[t.length];if(a===0){throw new Error("Badly formatted tokens!")}if(i>a){throw new Error("Badly formatted tokens!")}if(n&&n[0]&&n[1]&&i===n[0]&&a===n[1]){throw new Error("Badly formatted tokens!")}t.push([i,a]);r=a}return t}function Lt(e,t){const i=Wt(e);return c.default.reduceRight(i,((e,[i,r])=>{const a=e.slice(i+2,r-1);const n=t[a];if(n){e=e.slice(0,i)+n+e.slice(r)}return e}),e)}function Dt(e,t){if(c.default.isString(e)){return Lt(e,t)}if(c.default.isArray(e)){return c.default.map(e,(e=>Dt(e,t)))}if(c.default.isPlainObject(e)){return c.default.mapValues(e,(e=>Dt(e,t)))}return e}function Tt(e,t){return Dt(t,e)}function Ft(e,t="",i={}){c.default(e).entries().forEach((([e,r])=>{const a=t?`${t}.${e}`:e;if(typeof r==="object"){Ft(r,a,i)}else{i[a]=r}}));return i}function Bt(e,t,i){return c.default.map(e,(e=>Tt(e,i(e,t))))}function Pt(e,[t,i]){if(e==null){return false}switch(t){case">":return Number(e)>Number(i);case"<":return Number(e)<Number(i);case">=":return Number(e)>=Number(i);case"<=":return Number(e)<=Number(i);case"===":return e===i;case"!==":return e!==i}}class jt{constructor(e,t){this.trackMap=new Map;this.streams=[];t.forEach((({observe:t,update:i=[]})=>{const r=e.getStream(t);if(r){this.trackMap.set(t,r());this.streams.push(r.map((r=>{this.trackMap.set(t,r);i.forEach((({key:t,truthy:i,falsy:a,condition:n})=>{const s=e.getStream(t);if(s){const e=n?Pt(r,n):Boolean(r);if(e&&i!=null){s(i)}if(!e&&a!=null){s(a)}}else{console.error(`Key "${t}" from formState config not found`)}}))})))}}))}destroy(){this.streams.forEach((e=>e.end(true)))}getState({observe:e,truthy:t,falsy:i,condition:r}={}){if(e){const a=this.trackMap.get(e);const n=r?Pt(a,r):Boolean(a);if(n&&t){return jt.stateMap[t]}if(!n&&i){return jt.stateMap[i]}}return{}}}jt.stateMap={required:{required:true},readonly:{readonly:true},disabled:{disabled:true},dn:{uiClass:{wrapper:"dn"}}};class Ot{get stepIdx(){return this._stepIdx}set stepIdx(e){this._stepIdx=e;this._fields=Qe(this.form.fields,{group:this.step.group})}get step(){return this.stepStack[this.stepIdx]}set step(e){if(this.stepIdx<this.stepStack.length-1){this.stepStack.splice(this.stepIdx+1)}this.stepStack.push(e);this.stepIdx=this.stepStack.length-1}get fields(){return this._fields}get currentStep(){return this.stepIdx+1}get totalSteps(){return this.stepStack.length}get minSteps(){return this._minSteps}set minSteps(e){this._minSteps=Math.min(this._minSteps,e)}get maxSteps(){return this._maxSteps}set maxSteps(e){this._maxSteps=Math.max(this._maxSteps,e)}constructor(e,t){this.form=e;this.stepStack=[];this._stepIdx=0;this._fields=[];this._minSteps=Number.MAX_SAFE_INTEGER;this._maxSteps=0;this.flowMap=new Map;if(t.length===0){throw new Error("Form flow list cannot be empty")}this.startKey=t[0].key;t.forEach((e=>this.flowMap.set(e.key,e)));this.pathToEnd(this.startKey,1);this.start()}pathToEnd(e,t){const i=this.flowMap.get(e);if(t>Ot.maxSteps){throw new Error(`Form flow has too many steps (max ${Ot.maxSteps})`)}else if(i){if(i.next.length===0){this.minSteps=t;this.maxSteps=t}else{i.next.forEach((({key:e})=>this.pathToEnd(e,t+1)))}}else{throw new Error(`Flow step key ${e} not found`)}}updateStep(e){const t=this.flowMap.get(e);if(t){this.step=t}}getNextStep(){return c.default.find(this.step.next,(({condition:e})=>{if(e){const t=this.form.getValue(e.field);return t?Pt(t,e.is):false}else{return true}}))}start(){this.stepStack.splice(0);this.updateStep(this.startKey)}advance(){const e=this.getNextStep();if(e){this.updateStep(e.key)}}back(){this.stepIdx=Math.max(0,this.stepIdx-1)}forward(){this.stepIdx=Math.min(this.stepStack.length-1,this.stepIdx+1)}}Ot.maxSteps=100;class At{get layoutClass(){return this._layoutClass}get layoutList(){return this._layoutList}constructor(e,{theme:t,subgroups:i={}}={theme:{}}){this._layoutList=[];this._layoutClass=he(t);const r=c.default.groupBy(e,"data.subgroup");const a=new Set;c.default.forEach(e,(e=>{const t=c.default.get(e,"data.subgroup");if(t&&t in i){if(!a.has(t)){this._layoutList.push(new At(r[t],i[t]));a.add(t)}}else{this._layoutList.push(e)}}))}}function Mt(e,t){return t?c.default.assign({},e,t):e}function Rt({type:e,input:t,widget:i,value:r,files:a},n){if(e===2&&t&&i&&a){return d.default(i,{field:Mt(t,n),value:a})}else if(e===1&&t&&i&&r){return d.default(i,{field:Mt(t,n),value:r})}return null}function Et(e,t){return c.default.map(e,(e=>Rt(e,t)))}function _t(e){return e.type===1}const Nt=new Set(["checkbox","toggle","select","radio"]);function zt(e){var t;return _t(e)&&((t=e.input)===null||t===void 0?void 0:t.type)&&!Nt.has(e.input.type)}function Ht(e){return e.type===2}function Ut(e){var t;return Ht(e)&&((t=e.input)===null||t===void 0?void 0:t.type)==="sign"}function Gt(e,t={}){return d.default("div",{class:t.wrapperClass,style:Object.assign(Object.assign({},t.style),{gridRow:t.row,gridColumn:t.col})},e)}function $t(e,t,i){return d.default("div",{class:e.layoutClass},c.default.map(e.layoutList,(e=>{if("key"in e&&"type"in e){const r=e.data;if(t){const a=c.default.merge({},t.getState(r),i);return Gt(Rt(e,a),r)}else{return Gt(Rt(e),r)}}else{return $t(e,t,i)}})))}const qt={["label"]:r.Label,["trusted"]:r.TextareaInput,["hidden"]:r.BaseInput,["text"]:r.BaseInput,["password"]:r.PasswordInput,["search"]:r.BaseInput,["date"]:r.BaseInput,["time"]:r.BaseInput,["datetime-local"]:r.BaseInput,["dateInput"]:r.DateInput,["timeInput"]:r.TimeInput,["cardDate"]:r.CardDateInput,["number"]:r.BaseInput,["range"]:r.BaseInput,["email"]:r.BaseInput,["url"]:r.BaseInput,["tel"]:r.BaseInput,["color"]:r.BaseInput,["currency"]:r.CurrencyInput,["percentage"]:r.PercentageInput,["textarea"]:r.TextareaInput,["checkbox"]:r.CheckboxInput,["toggle"]:r.ToggleInput,["select"]:r.SelectInput,["checkList"]:r.CheckList,["radio"]:r.RadioInput};const Vt={["fileMulti"]:r.FileMulti,["file"]:r.FileSelect,["imageMulti"]:r.ImageMulti,["image"]:r.ImageSelect,["sign"]:r.SignBuilder};const Qt={["hidden"]:0,["label"]:.25,["checkbox"]:.25,["toggle"]:.25,["radio"]:.25,["number"]:.5,["range"]:.5,["percentage"]:.5,["sign"]:1.5,["textarea"]:2,["file"]:2,["image"]:2,["fileMulti"]:3,["imageMulti"]:3};const Yt={};c.default.forEach(qt,((e,t)=>Yt[t]=1));c.default.forEach(Vt,((e,t)=>Yt[t]=2));function Xt(e){if(Vt.hasOwnProperty(e)){return Vt[e]}else{return Vt["file"]}}function Kt(e){if(qt.hasOwnProperty(e)){return qt[e]}else{return qt["text"]}}function Zt(e,t){if(e===2){return Xt(t)}else if(e===1){return Kt(t)}else{return undefined}}function Jt(e="text"){return Yt[e]}function ei(e="text"){return Qt[e]||1}const ti=/\s*\d{2}\/\d{2}\/\d{4}\s*$/;const ii=/\s*(([gG][iI][rR]\s*0[aA]{2})|((([a-pr-uwyzA-PR-UWYZ][a-hk-yA-HK-Y]?\d\d?)|(([a-pr-uwyzA-PR-UWYZ]\d[a-hjkstuwA-HJKSTUW])|([a-pr-uwyzA-PR-UWYZ][a-hk-yA-HK-Y]\d[abehmnprv-yABEHMNPRV-Y])))\s*\d[abd-hjlnp-uw-zABD-HJLNP-UW-Z]{2}))\s*$/;function ri(e){return function(t,i){return t.map((function(t){return e(t,i)}))}}const ai={default:ri((e=>e)),equals:ri(((e,[t]=[])=>e===t)),"date-format":ri((e=>e?Pe(Number(e)):"")),"dateStr-format":ri((e=>e?Pe(new Date(String(e)).valueOf()):"")),"date-format-month":ri((e=>e?Pe(Number(e),"dd MMMM yyyy"):"")),"date-endofday":ri((e=>{var t;return e?(t=s.DateTime.fromISO(e,{setZone:true}).endOf("day").toISO())!==null&&t!==void 0?t:"":""})),substr:ri(((e,[t=0,i]=[])=>String(e).substr(t,i))),upper:ri((e=>String(e).toUpperCase())),lower:ri((e=>String(e).toLowerCase())),snake:ri((e=>c.default.snakeCase(String(e)))),trunc:ri((e=>c.default.truncate(String(e),{length:15}))),"remove-whitespace":ri((e=>e?c.default.replace(String(e),/\s/g,""):"")),strLenEq:ri(((e,[t]=[0])=>e?String(e).length===Number(t):false)),strLenLt:ri(((e,[t]=[0])=>e?String(e).length<Number(t):false)),strLenGt:ri(((e,[t]=[0])=>e?String(e).length>Number(t):false)),boolean:ri((e=>Boolean(e))),not:ri((e=>!e)),"test-dob":ri((e=>e?ti.test(String(e)):false)),"test-postcode":ri((e=>e?ii.test(String(e)):false)),debug:ri((e=>{console.debug(e);return e}))};function ni(e="default",t,i){if(ai.hasOwnProperty(e)){return ai[e](t,i)}else{return ai["default"](t)}}function si(e,t){if(!ai.hasOwnProperty(e)){ai[e]=t}}const oi={default:e=>e.map((e=>c.default.map(e,(({name:e})=>e)).join())),"file-name":e=>e.map((e=>c.default.map(e,(({file:e})=>e?e.name:"")).join())),"file-type":e=>e.map((e=>c.default.map(e,(({file:e})=>e?e.type:"")).join())),"file-size":e=>e.map((e=>c.default.map(e,(({file:e})=>e?e.size:"")).join())),"file-lastmodified":e=>e.map((e=>c.default.map(e,(({file:e})=>e?e.lastModified:"")).join())),path:e=>e.map((e=>c.default.map(e,(({path:e})=>e)).join())),dataUrl:e=>e.map((e=>c.default.map(e,(({dataUrl:e})=>e?e:"")).join()))};function ui(e,t){if(oi.hasOwnProperty(e)){return oi[e](t)}else{return oi["default"](t)}}function li(e,t){if(!oi.hasOwnProperty(e)){oi[e]=t}}function ci(e){return function(t){return l.default.merge(t).map(e)}}const di={default:ci((e=>e.join())),"join-space":ci((e=>e.join(" "))),"join-newline":ci((e=>e.join("\n"))),"join-underscore":ci((e=>e.join("_"))),sum:ci((e=>c.default.reduce(e,((e,t)=>{const i=Number.parseInt(String(t));return c.default.isNaN(i)?e:e+i}),0))),product:ci((e=>c.default.reduce(e,((e,t)=>{const i=Number.parseInt(String(t));return c.default.isNaN(i)?0:e*i}),1))),and:ci((e=>c.default.reduce(e,((e,t)=>e?t:0),true))),or:ci((e=>c.default.reduce(e,((e,t)=>e||t?t:e),0))),any:ci((e=>c.default.some(e))),all:ci((e=>c.default.every(e,Boolean))),none:ci((e=>c.default.every(e,(e=>!e))))};function pi(e="default",t){if(di.hasOwnProperty(e)){return di[e](t)}else{return di["default"](t)}}function fi(e,t){if(!di.hasOwnProperty(e)){di[e]=t}}function mi(e){return e.length?e.reduce(((e,t)=>gi(e,t)),Object.assign({},e[0])):{}}function gi(e,t){c.default.forEach(t,((t,i)=>{if(i in e&&e[i]!==t){c.default.unset(e,i)}}));c.default(c.default.keysIn(e)).difference(c.default.keysIn(t)).forEach((t=>c.default.unset(e,t)));return e}class hi{get formDuration(){return s.Duration.fromObject({minutes:this.fieldScore*.3}).toHuman({maximumSignificantDigits:1})}get flow(){if(this._flow){return this._flow}else{throw new Error("Form does not have a flow")}}get streamMap(){return this._streamMap}static isComputed(e){return"computed"in e&&e.computed!=null}static isProp(e){return e.type===1}static getStreams(e,t){return c.default(t).map((t=>{if(t in e){return e[t].value}else{console.warn(`Missing stream for key ${t}`);return null}})).compact().value()}static depthTest(e,t,i){return e>=hi.complexityLimit?-1:c.default.max(c.default.map(t,(t=>{const r=Ge(i,{key:t});return r&&r.computed?hi.depthTest(e+1,r.computed.keys,i):e})))||0}static sortComputed(e){return c.default.sortBy(e,(t=>{const i=hi.depthTest(0,t.computed.keys,e);if(i<0){throw new Error(`Computed field ${t.key} is too complex`)}return i}))}constructor(e){this._layout=new Map;const t={};const[i,r]=c.default.partition(e,hi.isComputed);let a=0;c.default(r).reject((({input:e})=>(e&&Jt(e.type))==null)).tap((e=>{a=e.reduce(((e,{input:t})=>e+ei(t.type)),0)})).reduce(((e,{key:t,fileValue:i,input:r,initialValue:a})=>{const n=Jt(r.type);if(n===1){const i=l.default();if(a!=null){i(a)}e[t]={computed:false,pure:false,type:n,value:i}}else{const r=l.default([]);e[t]={computed:false,pure:false,type:n,value:ui(i||"default",r),files:r}}return e}),t);this.fieldScore=a;c.default(i).thru(hi.sortComputed).reduce(((e,{key:t,input:i,computed:{keys:r,map:a,merge:n,args:s}})=>{const o=i==null;const u=hi.getStreams(e,r);const c=n||u.length>1?pi(n,u):u[0];if(c){e[t]={computed:true,pure:o,type:1,value:ni(a,c,s)}}else{e[t]={computed:true,pure:o,type:1,value:l.default(`#REF! ${r.join()}`)}}return e}),t);this._streamMap=t;this.fields=c.default(e).map((({key:e,group:i,input:r,data:a,user:n,fieldSet:s})=>{if(!r){return null}const o=t[e];const u=o.type;return{key:e,group:i,input:r,type:u,data:a,user:n,fieldSet:s,computed:o.computed,widget:Zt(u,r.type||"text"),value:o.value,files:o.type===2?o.files:undefined}})).compact().value()}destroy(){var e;(e=this.state)===null||e===void 0?void 0:e.destroy();c.default.each(this._streamMap,(({value:e})=>e.end(true)))}trackState(e){this.state=new jt(this,e);return this.state}addFlow(e){const t=new Ot(this,e);this._flow=t;return t}advanceFlow(){this.flow.advance()}renderFlow(e){return c.default.map(this.flow.fields,(t=>this.renderField(t,e)))}setLayout(e,t){const i=r.guid();this._layout.set(i,new At(e,t));return i}registerLayout(e,t){if(t){return this.setLayout(Qe(this.fields,{group:t}),e)}else{return this.setLayout(this.fields,e)}}renderLayout(e,t){const i=this._layout.get(e);return i?$t(i,this.state,t):null}renderField(e,t){const i=this.state&&e.data?c.default.merge({},this.state.getState(e.data),t):t;return Rt(e,i)}render(e){return c.default.map(this.fields,(t=>this.renderField(t,e)))}getValue(e,t){var i,r;return(r=(i=this._streamMap[e])===null||i===void 0?void 0:i.value())!==null&&r!==void 0?r:t}getStream(e){var t;return(t=this._streamMap[e])===null||t===void 0?void 0:t.value}setValue(e,t){var i;(i=this._streamMap[e])===null||i===void 0?void 0:i.value(t)}setFile(e,t){const i=this._streamMap[e];if(i&&i.type===2){i.files(t)}}wrap(e,t){const i=Ft(e);const r=t||Object.keys(i);const a={};c.default.each(r,(t=>{if(t in this._streamMap){if(t in i){this._streamMap[t].value(i[t])}a[t]=this._streamMap[t].value.map((i=>{c.default.set(e,t,i)}))}}));return a}wrapAll(e,t=[]){const i=Ft(e);const r={};Object.entries(this._streamMap).forEach((([a,n])=>{if(!t.includes(a)){const t=c.default.get(i,a);if(t!=null){n.value(t)}r[a]=n.value.map((t=>{c.default.set(e,a,t)}))}}));return r}wrapArray(e,t=[]){const i=e.map((e=>Ft(e)));const r=mi(i);const a={};Object.entries(this._streamMap).forEach((([i,n])=>{if(!t.includes(i)){const t=c.default.get(r,i);if(t!==undefined){n.value(t)}a[i]=n.value.map((t=>{e.forEach((e=>c.default.set(e,i,t)))}))}}));return a}unwrap(e){c.default.each(e,(e=>e.end(true)))}static serializeFieldList(e,t){return c.default.reduce(e,((e,i)=>{const{key:r,value:a,files:n}=i;if(hi.isProp(i)){qe(t(r,a===null||a===void 0?void 0:a()),(t=>{e[0][r]=t}))}else{qe(n===null||n===void 0?void 0:n(),(t=>{e[1][r]=t}))}return e}),[{},{}])}serialize(e=((e,t)=>t)){return hi.serializeFieldList(Qe(this.fields,{computed:false}),e)}serializeComputed(e=((e,t)=>t)){return hi.serializeFieldList(Qe(this.fields,{computed:true}),e)}serializePure(e=((e,t)=>t)){const t={};c.default.forEach(this._streamMap,(({pure:i,value:r},a)=>{if(i){qe(e(a,r===null||r===void 0?void 0:r()),(e=>{t[a]=e}))}}));return t}deserialize(e){c.default.forEach(e,((e,t)=>{if(t in this._streamMap){this._streamMap[t].value(e)}}))}deserialise(e){this.deserialize(e)}patchInput(e,t){const i=Ge(this.fields,{key:e});if(i){c.default.assign(i.input,t)}}}hi.complexityLimit=10;class bi{touchDistance({touches:e}){return Math.hypot(e[0].pageX-e[1].pageX,e[0].pageY-e[1].pageY)}start(e){if(e.touches.length===2){e.preventDefault();this.startX=.5*(e.touches[0].pageX+e.touches[1].pageX);this.startY=.5*(e.touches[0].pageY+e.touches[1].pageY);this.startDistance=this.touchDistance(e);const t=this.startX+this.container.scrollLeft-this.container.offsetLeft;const i=this.startY+this.container.scrollTop-this.container.offsetTop;this.viewer.style.transformOrigin=`${t}px ${i}px`}}move(e){if(e.touches.length===2){e.preventDefault();const t=this.touchDistance(e);this.scale=t/this.startDistance;this.viewer.style.transform=`scale(${this.scale})`}}end(){if(this.startDistance>0){this.viewer.style.transform="none";this.viewer.style.transformOrigin="unset";this.onChange(this.scale);const e=this.container.getBoundingClientRect();this.container.scrollLeft+=(this.startX-e.left)*(this.scale-1);this.container.scrollTop+=(this.startY-e.top)*(this.scale-1);this.startDistance=0}}constructor(e,t,i){this.container=e;this.viewer=t;this.onChange=i;this.startX=0;this.startY=0;this.startDistance=0;this.scale=0;this.boundStart=this.start.bind(this);this.boundMove=this.move.bind(this);this.boundEnd=this.end.bind(this);this.container.addEventListener("touchstart",this.boundStart);this.container.addEventListener("touchmove",this.boundMove);this.container.addEventListener("touchend",this.boundEnd)}destroy(){this.container.removeEventListener("touchstart",this.boundStart);this.container.removeEventListener("touchmove",this.boundMove);this.container.removeEventListener("touchend",this.boundEnd)}}var yi=this&&this.__awaiter||function(e,t,i,r){function a(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function s(e){try{u(r.next(e))}catch(e){n(e)}}function o(e){try{u(r["throw"](e))}catch(e){n(e)}}function u(e){e.done?i(e.value):a(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))};function xi(e,t){if(e===403){return`Unable to access ${t}`}else if(e===404){return`${t} not found`}else{return`Error loading ${t}`}}function vi(){const e=b().auth;const t=(e===null||e===void 0?void 0:e.documentRequestAuth)||{};if(typeof t==="string"){return JSON.parse(t)}return t}function wi(e){try{return JSON.parse(e)}catch(e){c.default.noop(e)}return null}function Si(e,t){return wi(e.get(t))}class Ii{constructor(){this.overlayList=[];this.annotationList=[];this.actionList=[];this.assigneeList=[];this.state={}}init(e){o.GlobalWorkerOptions.workerSrc="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.14.305/legacy/build/pdf.worker.min.js";return new Promise(((t,i)=>{o.getDocument(Object.assign(Object.assign({},e),{httpHeaders:vi(),standardFontDataUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@2.14.305/standard_fonts/"})).promise.then((e=>{this.pdf=e;t(this)}),(e=>{if(/server response \(440\)/g.test(e)){Le()}else if(/server response \(403\)/g.test(e)){i(403)}else if(/Missing PDF/g.test(e)){i(404)}else{i(400)}}))}))}destroy(){this.pdf.destroy()}parseCustomMetadata(){return new Promise(((e,t)=>{this.pdf.getMetadata().then((t=>{if("Custom"in t.info){const e=t.info.Custom;this.metadata=c.default.reduce(e,((e,t,i)=>{if(t&&c.default.startsWith(t,"{")){try{const r=JSON.parse(t);switch(r===null||r===void 0?void 0:r.type){case"overlay":e.overlays[i]=r;this.overlayList.push(r);break;case"form":e.overlays[i]=r;this.actionList.unshift(r);break;case"comp":e.overlays[i]=r;this.custom=r;break;default:e.documentState=r;this.state=r}}catch(e){c.default.noop(e)}}return e}),{documentState:{},overlays:{}})}const i=t.metadata;if(i){const e=Si(i,"sdx:overlays");if(e){this.overlayList=e}const t=Si(i,"sdx:assignees");if(t){this.assigneeList=t}const r=Si(i,"sdx:formactions");if(r){this.actionList=r}const a=Si(i,"sdx:annotations");if(a){this.annotationList=a}const n=Si(i,"sdx:documentstate");if(n){this.state=n}}e(this)}),t)}))}}function Ci(e){return yi(this,void 0,void 0,(function*(){const t=new Ii;const i=typeof e==="string"?{url:e}:e;yield t.init(i);return t}))}function ki({x1:e,y1:t,x2:i,y2:r},a){return{left:e,top:a-r,width:i-e,height:r-t}}e.DebounceStream=f;e.FormBuilder=hi;e.FormLayout=At;e.FormState=jt;e.PinchZoom=bi;e.ResponsiveThemeHandler=ye;e.applyFileMap=ui;e.applyMap=ni;e.applyMerge=pi;e.applyTemplate=Tt;e.assembleFormField=Rt;e.assembleFormFieldList=Et;e.buildComponent=Ct;e.buildComponentList=kt;e.buildFormLayout=$t;e.buildTemplates=Bt;e.buttonContextMapper=ve;e.canEdit=Je;e.cellRendererMap=vt;e.createResponsiveClass=he;e.deepMerge=bt;e.dobRegex=ti;e.ensure=qe;e.evaluateCondition=Pt;e.extractFields=at;e.fileExt=ut;e.fileExtNameOnly=lt;e.fileIcon=ot;e.filterByProperty=Qe;e.flattenObject=Ft;e.formatDate=Pe;e.formatTime=je;e.getDocumentRequestAuthHeaders=vi;e.getFileStream=pt;e.getFileValue=ct;e.getFiles=dt;e.getISODate=Oe;e.getProp=ft;e.getPropStream=ht;e.hasValue=et;e.humaniseByteCount=rt;e.humaniseErrorCode=xi;e.humaniseTimeValue=Ae;e.isFileField=Ht;e.isPropField=_t;e.isSignField=Ut;e.isTextField=zt;e.itemsForCategory=Ze;e.joinClasses=xe;e.mapMixin=ri;e.mapToObject=tt;e.mergeMixin=ci;e.parseDateStr=Me;e.parseDateTimeStr=Ee;e.parseDateTimeValue=ze;e.parseDateValue=_e;e.parseIso=Be;e.parseTimeStr=Re;e.parseTimeValue=Ne;e.pdfViewerFactory=Ci;e.pickById=$e;e.pickByIdStream=Ve;e.pickByProperty=Ge;e.postCodeRegex=ii;e.rectToHtml=ki;e.registerCellRenderer=It;e.registerComponent=St;e.registerFileMapFn=li;e.registerMapFn=si;e.registerMergeFn=fi;e.removeByProperty=Ye;e.setMap=it;e.simpleResponse=nt;e.smallDevice=Ue;e.streamArrayPullAt=gt;e.streamArrayPush=mt;e.tinyDevice=He;e.uploadAsset=xt;e.uploadFile=yt}));
